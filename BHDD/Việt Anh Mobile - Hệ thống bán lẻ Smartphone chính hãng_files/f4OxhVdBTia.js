/*!CK:3196860041!*//*1445957346,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["mZ4Il"]); }

__d("CommentsPluginSentryAction",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"};},null,{});
__d("ComposedLinkEntityProperties",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={URL:"url",SHIMMED_URL:"shimmedURL"};},null,{});
__d("DeveloperCommentsModerationSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={APP:"app",URL:"url"};},null,{});
__d('CommentAdminPanelController',['Arbiter','AsyncRequest','Button','ChannelConstants','CSS','DOM','Event','Toggler','URI','Vector','$','ge','XD','MultiLoginPopup'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=c('XD').UnverifiedXD,u=function(v){Object.assign(this,{locale:v.locale,channel:v.channel,controllerID:v.controllerID,commentIDs:v.commentIDs,domIDs:v.domIDs,duplicateComments:[],fetchMoreCommentsIsPending:{},blacklistedActors:v.blacklistedActors,actorToCommentInfoMap:v.actorToCommentIDMap,commentInfoMap:v.commentInfoMap,inAggregatedView:v.inAggregatedView,inModerationQueue:v.inModerationQueue,inContextualDialog:v.inContextualDialog,isTopLevelCommentPollingEnabled:false,loggedIn:v.loggedIn,newestCommentTimestamp:v.newestCommentTimestamp,realTimePollingParams:{},userOwnsPages:v.userOwnsPages,recentlyBlacklistedActors:v.blacklistedActors});h.subscribe(k.getArbiterType('comments_plugin_new_post'),(function(w,x){if(x.obj.target===this.realTimePollingParams.target){if(s(x.obj.comment_element_id))return;var y=babelHelpers._extends({},this.realTimePollingParams);y.post_fbid=x.obj.post_fbid;var z=x.obj.parent_comment_id;if(z){var aa=s(z);if(!aa)return;var ba=m.scry(aa,'.fbFeedbackPager.uiMorePager');if(ba.length>0)return;y.parent_comment_id=z;y.is_reply_thread=true;}else{if(!this.isTopLevelCommentPollingEnabled)return;y.is_reply_thread=false;}this.pollForComments(y);}}).bind(this));this.controlledRegion=r(this.controllerID);this.attachClickHandlers();if(this.inModerationQueue)this.registerModeratorQueueHandlers(true);};Object.assign(u,{allControllers:{},mainController:null,contextualControllers:{},initController:function(v){var w=new u(v),x=v.controllerID;u.allControllers[x]=w;if(w.inContextualDialog){u.contextualControllers[x]=w;}else u.mainController=w;},syncController:function(v,w){var x=u.allControllers[v];x.attachClickHandlers();if(!x.isControllingModerationQueue())return;x.deselectComments(w);x.registerModeratorQueueHandlers(false);x.synchronizeModeratorQueueUI();},resetController:function(v){var w=u.allControllers[v];w.resetController();},appendComments:function(v,w,x){var y=u.allControllers[v];y.appendComments(w,x);},prependComments:function(v,w,x){var y=u.allControllers[v];y.prependComments(w,x);},updateController:function(v,w,x,y,z,aa,ba){var ca=u.allControllers[v];ca.updateController(w,x,y,z,aa,ba);if(!u.mainController.loggedIn)c('MultiLoginPopup').reattachLoginInterceptors();if(!ca.isControllingModerationQueue())return;ca.registerModeratorQueueHandlers(false);ca.synchronizeModeratorQueueUI();},updatePollingParamsCommentas:function(v,w){var x=u.allControllers[v];x.updatePollingParamsCommentas(w);},registerMoreCommentsLinkHandler:function(v,w){var x=u.allControllers[v];x.registerMoreCommentsLinkHandler(w);},replaceContentMaybe:function(v,w){var x=m.scry(document.documentElement,v)[0];if(x)m.replace(x,w);},notifyCommentCreated:function(v){if(!u.mainController.channel)return;t.send({type:'commentCreated',href:v.href,parentCommentID:v.parentCommentID,commentID:v.commentID,message:v.message});},notifyCommentRemoved:function(v){if(!u.mainController.channel)return;t.send({type:'commentRemoved',href:v.href,commentID:v.commentID});},markAsShowingAllReplies:function(v){var w=v+' a.fbUpDownVoteOption',x=m.scry(document.documentElement,w),y=v+' li.fbUpDownVoteOption a.itemAnchor',z=m.scry(document.documentElement,y),aa=x.concat(z);for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=new p(ca.getAttribute('ajaxify'));da.addQueryData({show_all_replies:1});ca.setAttribute('ajaxify',da.toString());}},setLoggedIn:function(v){u.mainController.loggedIn=v;},blacklistChangeListener:function(v,w,x){var y=r(w);n.listen(v,'change',function(){if(v.options[v.selectedIndex].value==x){l.show(y);}else l.hide(y);});}});Object.assign(u.prototype,{isControllingModerationQueue:function(){var v=this==u.mainController&&this.inModerationQueue;return v;},resetController:function(){this.commentIDs=[];this.domIDs=[];},updateController:function(v,w,x,y,z,aa){v.forEach(function(ca){this.commentIDs.push(ca);},this);w.forEach(function(ca){this.domIDs.push(ca);},this);Object.assign(this.blacklistedActors,y);for(var ba in z){if(!this.actorToCommentInfoMap[ba])this.actorToCommentInfoMap[ba]=[];z[ba].forEach(function(ca){this.actorToCommentInfoMap[ba].push(ca);},this);}this.newestCommentTimestamp=Math.max(this.newestCommentTimestamp,x);Object.assign(this.commentInfoMap,aa);this.attachClickHandlers();},updatePollingParamsCommentas:function(v){this.realTimePollingParams.commentas=v;},attachClickHandlers:function(){for(var v=0;v<this.domIDs.length;v++){var w='li[id="'+this.domIDs[v]+'"]',x=m.scry(this.controlledRegion,w);if(x.length===0)continue;var y=x[0],z=m.scry(y,'a.uiCloseButton');n.listen(y,'mouseleave',this.closeStickyMenuFlyouts.bind(this,z));var aa=m.scry(y,'.fbModerateDropdownContainer');if(aa.length>0){var ba=aa[0],ca=m.find(ba,'.fbModerateDropdownLink');n.listen(ca,'mouseover',(function(la,event){l.addClass(la,'fbUnderlineText');}).bind(null,ca));n.listen(ca,'mouseout',(function(la,event){l.removeClass(la,'fbUnderlineText');}).bind(null,ca));var da=m.find(ba,'.fbModerationDropdownList');n.listen(ca,'click',this.exposeDropDownMenu.bind(this,ca,da));n.listen(da.parentNode,'mouseleave',this.concealDropDownMenu.bind(this,ca,da));this.attachDropDownHandlers(y,this.commentIDs[v],da);}var ea=this.commentInfoMap[this.commentIDs[v]].actor,fa=!!this.recentlyBlacklistedActors[ea];if(fa){var ga=m.scry(y,'.fbUndoBlacklistLink');if(ga.length>0){var ha=ga[0];n.listen(ha,'click',this.toggleBlackListAndSync.bind(this,this.commentIDs[v]));}}}var ia=m.scry(this.controlledRegion,'.fbReplyButton'),ja=m.scry(this.controlledRegion,'.fbReplyAfterLoginButton');for(var ka=0;ka<ia.length;ka++)if(this.loggedIn){l.show(ia[ka]);l.hide(ja[ka]);}else{l.hide(ia[ka]);l.show(ja[ka]);}},closeStickyMenuFlyouts:function(v,event){o.hide();for(var w=0;w<v.length;w++)v[w].blur();},attachDropDownHandlers:function(v,w,x){var y=m.scry(x,'.fbBanUser');if(y.length>0){var z=y[0],aa=m.find(z,'^.fbFeedbackPost');if(aa.id.startsWith(w))n.listen(z,'click',this.toggleBlackListAndSync.bind(this,w));}},exposeDropDownMenu:function(v,w,event){if(l.shown(w))return this.concealDropDownMenu(v,w,event);n.stop(event);l.show(w);w.focus();v.blur();var x=m.find(document.documentElement,'.commentContent'),y=q.getElementPosition(w).y+q.getElementDimensions(w).y-q.getElementDimensions(x).y;if(y>0){y=y+2;this.menuBuffer=m.create('div',{className:'menuBuffer',style:{height:y+'px'}});m.appendContent(x,this.menuBuffer);}return false;},concealDropDownMenu:function(v,w,event){n.stop(event);l.removeClass(v,'fbUnderlineText');l.hide(w);v.blur();if(this.menuBuffer){m.remove(this.menuBuffer);delete this.menuBuffer;}return false;},registerMoreCommentsLinkHandler:function(v){var w=v.pager_id;if(!s(w))return;var x=r(w);n.listen(x,'click',this.fetchMoreComments.bind(this,v,x));},deselectComments:function(v){for(var w=0;w<v.length;w++)delete this.selectedCommentsMap[v[w]];},registerModeratorQueueHandlers:function(v){if(v)this.selectedCommentsMap={};this.selectableComments=this.findSelectableComments();this.selectableCheckboxes=[];this.selectAllCheckBoxes=m.scry(this.controlledRegion,'.fbSelectAllCheckbox');this.approveButtons=m.scry(this.controlledRegion,'.fbApproveButton');this.removeButtons=m.scry(this.controlledRegion,'.fbRemoveButton');for(var w=0;w<this.selectableComments.length;w++){var x=this.selectableComments[w].id,y=!!this.selectedCommentsMap[x];this.setCommentSelection(this.selectableComments[w],y);var z=m.find(this.selectableComments[w],'.fbCommentCheckbox');n.listen(z,'click',this.toggleCommentSelection.bind(this));n.listen(this.selectableComments[w],'click',this.toggleCommentSelection.bind(this));z.checked=y;this.selectableCheckboxes.push(z);}for(var aa=0;aa<this.selectAllCheckBoxes.length;aa++){this.selectAllCheckBoxes[aa].checked=false;this.selectAllCheckBoxes[aa].disabled=this.selectableComments.length===0;n.listen(this.selectAllCheckBoxes[aa],'click',this.toggleSelectAllCheckbox.bind(this,this.selectAllCheckBoxes[aa]));}for(var ba=0;ba<this.approveButtons.length;ba++)n.listen(this.approveButtons[ba],'click',this.setBulkPrivacy.bind(this,false));for(var ca=0;ca<this.removeButtons.length;ca++)n.listen(this.removeButtons[ca],'click',this.setBulkPrivacy.bind(this,true));},findSelectableComments:function(){var v=m.scry(this.controlledRegion,'.fbTopLevelComment'),w=[];for(var x=0;x<v.length;x++)if(m.scry(v[x],'.fbCommentCheckbox').length===1&&m.scry(v[x],'.fbCommentOverlay').length===0)w.push(v[x]);return w;},toggleCommentSelection:function(event){var v={a:true},w=event.getTarget(),x=w.tagName.toLowerCase(),y=w.parentNode.tagName.toLowerCase();if(v[x]||v[y])return;var z=l.hasClass(w,'fbFeedbackPost')?w:m.find(w,'^.fbFeedbackPost'),aa=this.commentIsSelected(z),ba=!aa;this.setCommentSelection(z,ba);this.synchronizeModeratorQueueUI();if(l.hasClass(w,'fbCommentCheckbox'))n.stop(event);},commentIsSelected:function(v){return l.hasClass(v,'fbCommentSelected');},setCommentSelection:function(v,w){if(w){this.selectComment(v);}else this.deselectComment(v);},selectComment:function(v){l.addClass(v,'fbCommentSelected');this.selectedCommentsMap[v.id]=true;m.find(v,'.fbCommentCheckbox').checked=true;},deselectComment:function(v){l.removeClass(v,'fbCommentSelected');delete this.selectedCommentsMap[v.id];m.find(v,'.fbCommentCheckbox').checked=false;},toggleSelectAllCheckbox:function(v,event){n.stop(event);var w=v.checked;for(var x=0;x<this.selectableComments.length;x++){this.setCommentSelection(this.selectableComments[x],v.checked);this.selectableCheckboxes[x].checked=w;}this.synchronizeBulkModerationCheckboxes(w);this.synchronizeBulkModerationButtons(w);},synchronizeModeratorQueueUI:function(){var v=0;for(var w=0;w<this.selectableCheckboxes.length;w++)if(this.selectableCheckboxes[w].checked)v++;var x=this.selectableCheckboxes.length>0&&v==this.selectableCheckboxes.length;this.synchronizeBulkModerationCheckboxes(x);this.synchronizeBulkModerationButtons(v>0);},synchronizeBulkModerationCheckboxes:function(v){for(var w=0;w<this.selectAllCheckBoxes.length;w++)this.selectAllCheckBoxes[w].checked=v;},synchronizeBulkModerationButtons:function(v){for(var w=0;w<this.approveButtons.length;w++)j.setEnabled(this.approveButtons[w],v);for(var x=0;x<this.removeButtons.length;x++)j.setEnabled(this.removeButtons[x],v);},setBulkPrivacy:function(v,event){n.stop(event);this.synchronizeBulkModerationButtons(false);var w=[];for(var x in this.selectedCommentsMap)w.push(x);var y={is_private:v,in_moderation_queue:true,comment_ids:w,uniqids:w,controller_id:this.controllerID,locale:this.locale,owns_pages:this.userOwnsPages,in_aggregated_view:this.inAggregatedView,in_contextual_dialog:this.inContextualDialog};new i().setURI('/ajax/connect/comments/set_bulk_private.php').setData(y).send();return false;},toggleBlackListAndSync:function(v,event){n.stop(event);var w=this.commentInfoMap[v].actor,x={blacklist:!this.blacklistedActors[w],in_moderation_queue:this.inModerationQueue,comment_id:v,other_comment_ids:this.getOtherCommentsByActor(w,v),uniqid:v,controller_id:this.controllerID,locale:this.locale,owns_pages:this.userOwnsPages,in_aggregated_view:this.inAggregatedView,in_contextual_dialog:this.inContextualDialog};new i().setURI('/ajax/connect/comments/set_blacklist.php').setData(x).setHandler((function(y){this.blacklistedActors[w]=!this.blacklistedActors[w];if(this.blacklistedActors[w]){this.recentlyBlacklistedActors[w]=true;}else delete this.recentlyBlacklistedActors[w];}).bind(this)).send();return false;},getOtherCommentsByActor:function(v,w){return this.actorToCommentInfoMap[v].filter(function(x){return x!=w;});},fetchMoreComments:function(v,w,event){n.kill(event);l.addClass(w,'async_saving');if(this.fetchMoreCommentsIsPending[v.pager_id]===true)return;this.fetchMoreCommentsIsPending[v.pager_id]=true;var x={is_reply_thread:false,in_moderation_queue:false,view_as_moderator:false};Object.assign(x,v);var y=m.scry(r(x.controller_id),this.getCommentsSelector(x));y=y.concat(m.scry(r(x.controller_id),this.getCollapsedCommentsSelector(x)));var z=0,aa=0;for(var ba=0;ba<y.length;ba++)if(!l.hasClass(y[ba],'fbCommentIgnored'))if(l.hasClass(y[ba],'fbCommentHidden')){aa++;}else z++;if(x.is_reply_thread)x.offset=z;x.hidden_offset=aa;if(!x.aggregate_view)delete x.aggregate_view;if(!x.comment_id)delete x.comment_id;if(!x.is_reply_thread)x.comment_ids=this.commentIDs;if(!x.commentas){var ca=u.allControllers[x.controller_id];x.commentas=ca.realTimePollingParams.commentas;}new i().setURI('/ajax/connect/feedback.php').setReadOnly(true).setData(x).setHandler((function(da){this.fetchMoreCommentsIsPending[v.pager_id]=false;}).bind(this)).send();},getCommentsSelector:function(v){var w=v.is_reply_thread?'li.fbCommentReply':'li.fbTopLevelComment';if(v.controller_id!=v.uniqid)w='div[id="'+v.uniqid+'"] '+w;return w;},getCollapsedCommentsSelector:function(v){var w=v.is_reply_thread?'div.fbCommentReply':'div.fbTopLevelComment';if(v.controller_id!=v.uniqid)w='div[id="'+v.uniqid+'"] '+w;return w;},getRecentlyBlacklistedActors:function(){var v=[];for(var w in this.recentlyBlacklistedActors)v.push(w);return v;},appendComments:function(v,w){var x=s(v);if(!x)return;var y=m.scry(x,'.fbFeedbackReplies')[0];if(!y)return;m.appendContent(y,w);},prependComments:function(v,w){var x=m.scry(document.documentElement,v)[0];if(!x)return;var y=w.getNodes(),z=[];for(var aa=y.length;aa-->0;){var ba={id:m.getID(y[aa]),element:y[aa]};z.push(ba);var ca=s(ba.id);if(ca){l.hide(ba.element);this.duplicateComments.push(ba.element);for(var da=0;da<z.length;++da)m.insertAfter(ca,z[da].element);z=[];}}for(aa=0;aa<z.length;++aa)m.prependContent(x,z[aa].element);setTimeout(this.removeDuplicateComments.bind(this),0);},removeDuplicateComments:function(){for(var v=0;v<this.duplicateComments.length;++v)m.remove(this.duplicateComments[v]);this.duplicateComments=[];},pollForComments:function(v){var w={locale:this.locale};Object.assign(w,v);if(!w.is_reply_thread)w.comment_ids=this.commentIDs;w.newest_comment_timestamp=this.newestCommentTimestamp;var x=this.handlePollResponse.bind(this),y=this.handlePollError.bind(this),z=this.handlePollFinally.bind(this);new i().setURI('/plugins/comments/poll').setReadOnly(true).setData(w).setMethod('GET').setHandler(x).setErrorHandler(y).setFinallyHandler(z).send();},handlePollResponse:function(v){},handlePollError:function(v){},handlePollFinally:function(v){}});f.exports=window.CommentAdminPanelController||u;},null);
__d('WindowComm',['URI'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_callbacks:{},makeHandler:function(j,k,l){k=k||'opener';if(!l)l='f'+(Math.random()*(1<<30)).toString(16).replace('.','');i._callbacks[l]=j;return new h('/connect/window_comm.php').setQueryData({_id:l,_relation:k}).getQualifiedURI().toString();},_recv:function(j){var k=new h(j).getQueryData();i._callbacks[k._id](k);}};f.exports=i;b.WindowComm=i;},null);
__d('OpenIDRequest',['AsyncRequest','AsyncSignal','URI','UserAgent_DEPRECATED','PHPQuerySerializer','coalesce','createArrayFromMixed','errorCode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();function p(){var q=new h().setReadOnly(true).setHandler(this.asyncResponseHandler.bind(this)).setErrorHandler(this.asyncErrorHandler.bind(this));Object.assign(this,{openidUrl:null,requestId:p.maxRequestId++,successResponseHandler:null,cancelHandler:null,intermediateHandler:null,immediateMode:false,useExtensions:true,thirdPartyLogin:false,popupWindow:null,asyncRequest:q,retryCount:0});p.requests[this.requestId]=this;}p.getRequestById=function(q){return p.requests[q];};p.prototype.setOpenIDUrl=function(q){this.openidUrl=q;return this;};p.prototype.setSuccessHandler=function(q){this.successResponseHandler=q;return this;};p.prototype.setErrorHandler=function(q){this.errorHandler=q;return this;};p.prototype.setCancelHandler=function(q){this.cancelHandler=q;return this;};p.prototype.setImmediateMode=function(q){this.immediateMode=q;return this;};p.prototype.setUseExtensions=function(q){this.useExtensions=q;return this;};p.prototype.setIntermediateHandler=function(q){this.intermediateHandler=q;return this;};p.prototype.setThirdPartyLogin=function(q){this.thirdPartyLogin=q;return this;};p.prototype.send=function(){if(!this.openidUrl)throw "openidUrl is a required parameter. Call setOpenIDUrl()";var q=this.calculateRedirectUrl();if(!q){this.logMetrics('redirectUrlNotFound');return;}if(this.immediateMode){this.createHiddenIframe(q);}else{if(this.popupWindow)throw "OpenID popup is already in progress";this.showPopup(q);}this.logMetrics('requestSent');};p.prototype.calculateRedirectUrl=function(q){var r=this.immediateMode?'checkid_immediate':'checkid_setup',s={'openid.mode':r},t;if(!p.cache[this.openidUrl])return null;t=p.cache[this.openidUrl].url;var u=new j(new j(t).getQueryData()['openid.return_to']);u.addQueryData({context:p.context,request_id:this.requestId});s['openid.return_to']=u.toString();s.third_party_login=this.thirdPartyLogin;return new j(t).addQueryData(s).getQualifiedURI();};p.prototype.createHiddenIframe=function(q){var r='openid_request_'+this.requestId,s=document.body.appendChild(document.createElement('div')),t=function(){s.innerHTML='<iframe name="'+r+'"'+' src="'+q.toString()+'"'+' scrolling="no" '+' frameborder="0" class="hidden_elem"></iframe>';};if(k.ie()){s.innerHTML='<iframe src="javascript:false"></iframe>';setTimeout(t,0);}else t();};p.prototype.showPopup=function(q){var r;if(p.cache[this.openidUrl])r=p.cache[this.openidUrl].popup_dimensions;if(!r||!r.height||!r.width)r={height:'580',width:'790'};var s={x:m(window.screenX,window.screenLeft),y:m(window.screenY,window.screenTop),width:m(window.outerWidth,document.body.clientWidth),height:m(window.outerHeight,document.body.clientHeight)},t=s.x+(s.width-r.width)/2,u=s.y+(s.height-r.height)/2,v=["location=yes","scrollbars=1","left="+t,"top="+u,"resizable=yes","height="+r.height,"width="+r.width].join(",");this.popupWindow=window.open(q.toString(),'_blank',v);this.popupPollInterval=setInterval(this.pollPopupWindow.bind(this),100);this.popupWindow.focus();};p.prototype.pollPopupWindow=function(){if(!(this.popupPollInterval&&this.popupWindow))return;if(this.popupWindow.closed){clearInterval(this.popupPollInterval);this.cancel();}};p.prototype.closePopupIfOpen=function(){if(this.popupWindow){if(this.popupPollInterval)clearInterval(this.popupPollInterval);this.popupWindow.close();}this.popupWindow=null;};p.prototype.cancel=function(){this.closePopupIfOpen();if(this.cancelHandler)this.cancelHandler();this.logMetrics('requestCanceled');};p.prototype.logMetrics=function(q){new i('/ajax/openid/metrics.php',{metric:q,immediate:this.immediateMode,context:p.context,openid_url:this.openidUrl}).send();};p.prototype.triggerCompleteAuthAsync=function(q){if(q.charAt(0)=='?'||q.charAt(0)=='&')q=q.substr(1);var r=l.deserialize(q);this.closePopupIfOpen();if(r['openid.mode']=='cancel'){this.cancel();return;}if(this.intermediateHandler)this.intermediateHandler();this.asyncRequest.setData({openid_params:r}).send();};p.prototype.asyncResponseHandler=function(q){var r=q.getPayload();if(this.successResponseHandler)this.successResponseHandler(r);this.closePopupIfOpen();};p.prototype.cleanHandleResponse=function(q){if(q.css)q.css=n(q.css);this.asyncRequest.handleResponse(q);};p.prototype.asyncErrorHandler=function(q){this.closePopupIfOpen();if(q.error==1428010||q.error==1428011){this.cancel();return;}if(this.errorHandler)this.errorHandler(q);};p.prototype.retry=function(){++this.retryCount;this.requestId=p.maxRequestId++;this.send();};p.prototype.setProviderCache=function(q){p.cache=q;return this;};p.cache={};p.requests=[];p.maxRequestId=0;p.context='default';f.exports=p;},null);
__d('WidgetArbiter',['createArrayFromMixed'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_findSiblings:function(){if(i._siblings)return;i._siblings=[];for(var j=parent.frames.length-1;j>=0;j--)try{if(parent.frames[j]&&parent.frames[j].Arbiter&&parent.frames[j].Arbiter.inform)i._siblings.push(parent.frames[j].Arbiter);}catch(k){}},inform:function(){i._findSiblings();var j=h(arguments);i._siblings.forEach(function(k){k.inform.apply(k,j);});}};f.exports=i;},null);
__d('ActorBio.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'ActorBio',propTypes:{stats:j.object.isRequired,preferredTypes:j.array.isRequired},renderLink:function(l){return 'url' in l?h.createElement('a',babelHelpers._extends({},this.props,{href:l.url}),l.name):h.createElement('span',null,l.name);},renderItem:function(l,m){var n;switch(l){case 'employer':if('position' in m){n=i._("{position} t\u1ea1i {employer}",[i.param('position',this.renderLink(m.position)),i.param('employer',this.renderLink(m))]);}else n=i._("L\u00e0m vi\u1ec7c t\u1ea1i {employer}",[i.param('employer',this.renderLink(m))]);break;case 'mutual_friend':n=i._("B\u1ea1n v\u1edbi {user}",[i.param('user',this.renderLink(m))]);break;default:return this.renderLink(m);}return h.createElement('span',null,n);},render:function(){var l=this.props.stats,m=this.props.preferredTypes;for(var n=0;n<m.length;n++)for(var o=0;o<m[n].length;o++){var p=m[n][o];if(p in l)return this.renderItem(p,l[p]);}return h.createElement('span',null);}});f.exports=k;},null);
__d('DevxFluxDispatcher',['Dispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.handleServerAction=function(l){this.$DevxFluxDispatcher1('serverAction',l);};k.prototype.handleViewAction=function(l){this.$DevxFluxDispatcher1('viewAction',l);};k.prototype.$DevxFluxDispatcher1=function(l,m){this.dispatch(babelHelpers._extends({source:l},m));};function k(){i.apply(this,arguments);}f.exports=new k();},null);
__d('DevxProxyActions',['DevxFluxDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){Object.keys(j.ActionHandler).forEach((function(k){this[k]=function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];h.handleViewAction({action:k,args:m});};}).bind(this));}f.exports=i;},null);
__d('DocumentMentionsRegex',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',i='\\b[A-Z][^\\s'+h+']',j={PUNCTUATION:h,NAME:i};f.exports=j;},null);
__d('AtSignMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.PUNCTUATION,j=['@','\\uff20'].join(''),k='[^'+j+i+'\\s]',l='(?:'+'\\.[ |$]|'+' |'+'['+i+']|'+')',m=new RegExp('(?:^|\\s)('+'['+j+']'+'((?:'+k+l+'){0,20})'+')$'),n={name:'AtSignMentionsStrategy',findMentionableString:function(o){var p=m.exec(o);if(p!==null){var q=p[2];if(q.length)return {matchingString:q,leadOffset:p[1].length};}return null;}};f.exports=n;},null);
__d('CapitalizedNameMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=1,j=new RegExp('(^|[^#])((?:'+h.NAME+'{'+i+',})$)'),k={name:'CapitalizedNameMentionsStrategy',findMentionableString:function(l){var m=j.exec(l);if(m!==null)return {matchingString:m[2],leadOffset:m[2].length};return null;}};f.exports=k;},null);
__d('DocumentCompositeMentionsSource',['emptyFunction','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(m,n){var o=m.getCharacterList().toSeq().slice(0,n).reverse().takeWhile(function(p){return p.getEntity()===null;}).count();return m.getText().slice(n-o,n);}function l(m){!(m.length>0)?i(0):undefined;this.$DocumentCompositeMentionsSource1=m;this.$DocumentCompositeMentionsSource2=false;this.$DocumentCompositeMentionsSource3=null;}l.prototype.bootstrap=function(m){if(this.$DocumentCompositeMentionsSource2)return;this.$DocumentCompositeMentionsSource2=true;m=m||h;var n=this.$DocumentCompositeMentionsSource1.length;function o(){n--;if(!n)m&&m();}this.$DocumentCompositeMentionsSource1.forEach(function(p){p.bootstrap(o);});};l.prototype.search=function(m,n,o){var p=n.getAnchorKey(),q=m.getBlockForKey(p);this.$DocumentCompositeMentionsSource4(k(q,n.getAnchorOffset()),o);};l.prototype.$DocumentCompositeMentionsSource4=function(m,n){var o=this.$DocumentCompositeMentionsSource1.length,p,q;for(var r=0;r<o;r++){p=this.$DocumentCompositeMentionsSource1[r];q=p.findMatch(m);if(q===null){continue;}else{var s=j(q).matchingString;this.$DocumentCompositeMentionsSource3=s;p.search(s,(function(t,u){if(this.$DocumentCompositeMentionsSource3===u)n(t,q.leadOffset);}).bind(this));return;}}this.$DocumentCompositeMentionsSource3=null;n(null,null);};f.exports=l;},null);
__d('DocumentMentionsSource',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){!(typeof j.findMentionableString==='function')?h(0):undefined;this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=k;this.$DocumentMentionsSource3=false;}i.prototype.findMatch=function(j){return this.$DocumentMentionsSource1.findMentionableString(j);};i.prototype.bootstrap=function(j){if(!this.$DocumentMentionsSource3){this.$DocumentMentionsSource3=true;this.$DocumentMentionsSource2.bootstrap(j);}};i.prototype.search=function(j,k){this.$DocumentMentionsSource2.search(j,k,{strategyName:this.$DocumentMentionsSource1.name});};f.exports=i;},null);
__d('filterCapitalizedNames',['TokenizeUtil'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(m,n){return j(m)&&(n.length>=5||k(m,n));}function j(m){var n=m.getAuxiliaryData()||l;return !n.disableAutosuggest&&!!(m.getType()==='user'||n.connectedPage);}function k(m,n){return h.isExactMatch(n,m.getTitle());}var l={};f.exports=i;},null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/ban\/{comment_id}\/",{comment_id:{type:"String",required:true}});},null,{});
__d("XPluginCommentsCreateCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});},null,{});
__d("XPluginCommentsCreateReplyAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});},null,{});
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/delete\/",{});},null,{});
__d("XPluginCommentsEditCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/edit\/",{});},null,{});
__d("XPluginCommentsFlagCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/flag\/",{});},null,{});
__d("XPluginCommentsLikeCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});},null,{});
__d("XPluginCommentsHideCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/hide\/{url_id}\/",{url_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1}});},null,{});
__d("XPluginCommentsPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});},null,{});
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});},null,{});
__d('CommentsPluginStore',['AsyncRequest','XPluginCommentsBanAuthorAsyncController','XPluginCommentsCreateCommentAsyncController','XPluginCommentsCreateReplyAsyncController','CommentsPluginConfig','XPluginCommentsDeleteCommentAsyncController','DeveloperCommentsModerationAction','DeveloperCommentsModerationSource','DeveloperCommentsModerationType','DevxFluxDispatcher','DTSG','XPluginCommentsEditCommentAsyncController','XPluginCommentsFlagCommentAsyncController','XPluginCommentsLikeCommentAsyncController','XPluginCommentsHideCommentAsyncController','MultiLoginPopup','PluginOptin','XPluginCommentsPagerAsyncController','XPluginCommentsRepliesPagerAsyncController','UnverifiedXD','WebStorage','fbt','getMentionsTextForContentState','getVisibleValueForContentState','invariant','mixInEventEmitter','nullthrows','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){'use strict';if(c.__markCompiled)c.__markCompiled();var ja=10,ka='__DEVX__',la={visibleValue:'',encodedValue:''},ma={change:true,composerChange:true,composerCommentAdded:true,login:true,moreCommentsCompleted:true,moreRepliesCompleted:true,postError:true,sortingCompleted:true,sentryAction:true,previousComposerCommentPrefill:true},na={maxLines:10,maxLength:1000},oa=[],pa={},qa={userID:null,actors:{},actorsOptIn:{},appID:null,afterCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,isModerator:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{},minFeedLength:0,ret:null},ra=false,sa={},ta={},ua={},va={},wa={ordering:null},xa={},ya={},za={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true},ab={restorePreviousState:true,setUser:true,edit:true,showReplyComposer:true,cancelEdit:true,cancelReply:true},bb={addComment:true,addReply:true,saveEdit:true},cb={addComment:true};function db(nb){!mb.hasOwnProperty(nb)?fa(0):undefined;}function eb(){!Array.isArray(oa)?fa(0):undefined;!(pa instanceof Object)?fa(0):undefined;}function fb(nb,ob){if(!za[nb]&&!lb.isLoggedIn()){var pb=cb[nb]?null:ob;w.login(null,null,ca._("Vui l\u00f2ng \u0110\u0103ng nh\u00e2\u0323p \u0111\u00ea\u0309 B\u00ecnh lu\u1eadn"),{},gb.bind(null,pb));return;}ob.call();}function gb(nb,ob){qa.user.id=ob.user;qa.user.uri=ob.profileUrl;qa.user.thumbSrc=ob.profilePic;qa.user.actorIDs=ob.actorIDs;if(ob.fbDtsg)r.setToken(ob.fbDtsg);nb&&nb.call();lb.emit('change');lb.emit('login');}function hb(nb){var ob,pb=lb.getUser().id,qb=nb.action,rb=(ob=mb[nb.action]).bind.apply(ob,[mb].concat(nb.args));if(lb.isLoggedIn()&&(lb.isPlatoformEnabled(pb)||ab[qb])||za[qb]){rb.call();}else{var sb=ba.getSessionStorage();if(sb)sb.setItem('previousState',JSON.stringify(ib(nb)));new x('comments').addReturnParams({numposts:Math.min(qa.totalCount,100),order_by:wa.ordering}).start();}}function ib(nb){var ob='',pb='',qb=[],rb={},sb={},tb=lb.getCreateComposerContent();if(tb)ob=tb.encodedValue;if(!bb[nb.action]){pb=nb.action;qb=nb.args;}Object.keys(xa).forEach(function(ub){var vb=lb.getCreateComposerContent(ub);if(vb.encodedValue)rb[ub]=vb.encodedValue;});Object.keys(ya).forEach(function(ub){var vb=lb.getEditComposerContent(ub);if(vb.encodedValue)sb[ub]=vb.encodedValue;});return {commentBody:ob,action:pb,commentIDs:qb,replies:rb,edits:sb};}function jb(nb,ob,pb){return pb.indexOf(nb)===ob;}function kb(nb,ob){if(!qa.channelURL)return;Object.assign(ob,{type:nb,href:qa.href});aa.send(ob,qa.channelURL);}var lb={LOGGED_OUT_USER:'0',getCommentIDs:function(){return oa;},getByID:function(nb){eb();return ha(pa)[nb];},isOptimisticComment:function(nb){return nb.id.startsWith(ka);},getCurrentSorting:function(){return ha(wa.ordering);},getTargetFBID:function(){return ha(qa.targetFBID);},getCommentsCount:function(){eb();return qa.totalCount;},getUser:function(){return qa.user;},getIframeReferer:function(){return qa.iframeReferer;},getAuthor:function(nb){return this.getByID(this.getByID(nb).authorID);},getPageSize:function(){return ja;},getCommentBodyTruncationLimits:function(){return na;},getComposerSearchSource:function(){return qa.composerSearchSource;},getMirroredPage:function(){return qa.mirroredPage;},getMinFeedLength:function(){return qa.minFeedLength+1;},isMirrored:function(){return this.getMirroredPage()!=null;},isReply:function(nb){var ob=this.getByID(nb);return ob.targetID!==this.getTargetFBID();},isOptinReturn:function(){return !!qa.ret;},setActor:function(nb){qa.user=qa.actors[nb];},getPostToFeed:function(){return ra;},setPostToFeed:function(nb){ra=nb;},getCreateComposerPhoto:function(nb){return sa[nb||ka]||null;},setCreateComposerPhoto:function(nb,ob){sa[ob||ka]=nb;this.emit('composerChange');},getEditComposerPhoto:function(nb){return ta[nb]||null;},setEditComposerPhoto:function(nb,ob){ta[ob]=nb;this.emit('composerChange');},getLoadingCreateComposerPhoto:function(nb){return ua[nb||ka]||false;},setLoadingCreateComposerPhoto:function(nb,ob){ua[ob||ka]=nb;this.emit('composerChange');},getLoadingEditComposerPhoto:function(nb){return va[nb]||false;},setLoadingEditComposerPhoto:function(nb,ob){va[ob]=nb;this.emit('composerChange');},setCreateComposerState:function(nb,ob){xa[ob||ka]=nb;this.emit('composerChange');},getCreateComposerState:function(nb){return xa[nb||ka]||null;},getCreateComposerContent:function(nb){return this._editorStateToComposerPayload(this.getCreateComposerState(nb));},isEmptyCreateComposer:function(nb){return this.getLoadingCreateComposerPhoto(nb)||this.getCreateComposerContent(nb).visibleValue.trim()===''&&!this.getCreateComposerPhoto(nb);},setEditComposerState:function(nb,ob){ya[ob]=nb;this.emit('composerChange');},getEditComposerState:function(nb){return ya[nb];},getEditComposerContent:function(nb){return this._editorStateToComposerPayload(this.getEditComposerState(nb));},isEmptyEditComposer:function(nb){return this.getLoadingEditComposerPhoto(nb)||this.getEditComposerContent(nb).visibleValue.trim()===''&&!this.getEditComposerPhoto(nb);},hasTextChanged:function(nb,ob){return nb.trim()!==ob.trim();},hasPhotoChanged:function(nb,ob){if(nb){return ob?nb.fbid!==ob.fbid:true;}else return !!ob;},hasCommentChanged:function(nb,ob){var pb=this.getByID(nb);return this.hasTextChanged(ob.encodedValue,pb.body.text)||this.hasPhotoChanged(ta[nb],pb.photo_comment);},_editorStateToComposerPayload:function(nb){if(!nb)return la;var ob=nb.getCurrentContent(),pb=ea(ob),qb=da(ob);return {visibleValue:pb,encodedValue:qb};},getActorIDs:function(){return Object.keys(qa.actors);},getModerateURL:function(){return qa.moderateURL;},isLoggedIn:function(){return qa.user.id!==lb.LOGGED_OUT_USER;},isPlatoformEnabled:function(nb){return qa.actorsOptIn[nb];},isMobile:function(){return qa.isMobile;},useLegacyMentionsInput:function(){return this.isMobile();},isViewerModerator:function(){return qa.isModerator;},hasUnloadedComments:function(){return !!qa.afterCursor;},hasUnloadedReplies:function(nb){var ob=this.getByID(nb).public_replies;if(!ob)return false;if(ob.afterCursor)return true;if((!ob.commentIDs||ob.commentIDs.length===0)&&ob.totalCount>0)return true;return false;},getUnloadedCommentsCount:function(){return qa.totalCount-oa.length;},getDialogWidth:function(){return Math.min(document.body.offsetWidth-10,this.isMobile()?320:445);},dispatcherIndex:q.register(function(nb){db(nb.action);if(l.commentsPluginDisableOptOutUsers){hb(nb);}else{var ob;fb(nb.action,(ob=mb[nb.action]).bind.apply(ob,[mb].concat(nb.args)));}}),init:function(nb,ob,pb){qa=ob;this.updateCommentData(nb,pb);Object.keys(qa.actors).forEach(function(qb){return pa[qb]=qa.actors[qb];});this.setActor(qa.userID);},updateCommentData:function(nb,ob){oa=nb.commentIDs;pa=this.initComments(oa,nb.idMap);wa.ordering=ob;},initComment:function(nb){nb.collapsed=false;nb.editor=false;nb.composer=false;nb.deleted=false;nb.flagged=false;return nb;},initComments:function(nb,ob){nb.forEach((function(pb){return ob[pb]=this.initComment(ob[pb]);}).bind(this));return ob;},emit:undefined,addListener:undefined,removeCurrentListener:undefined,ActionHandler:undefined};ga(lb,ma);var mb={ban:function(nb){var ob=lb.getByID(nb);ob.deleted=true;lb.emit('change');var pb=i.getURIBuilder().setString('comment_id',nb).getURI();new h(pb).setMethod('POST').setData({ban:true,source:o.URL}).send();},hide:function(nb){var ob=lb.getByID(nb);ob.deleted=true;lb.emit('change');var pb=v.getURIBuilder().setInt('url_id',qa.targetFBID).setEnum('action',n.DELETE).setEnum('type',p.APPROVED).getURI();new h(pb).setData({comment_ids:[nb]}).setMethod('POST').send();},addComment:function(){var nb=lb.getCreateComposerContent(),ob=lb.getCreateComposerPhoto(),pb=j.getURIBuilder().setInt('target_id',qa.targetFBID).getURI();new h(pb).setData({app_id:qa.appID,av:lb.getUser().id,text:nb.encodedValue,attached_photo_fbid:ob?ha(ob.fbid):0,post_to_feed:lb.getPostToFeed(),iframe_referer:qa.iframeReferer}).setMethod('POST').setHandler((function(qb){var rb=qb.payload,sb=rb.commentID;this._prependComment(rb.idMap[sb]);delete xa[ka];lb.emit('composerCommentAdded',{});kb('commentCreated',{commentID:sb,message:nb.visibleValue});if(rb.sentryAction)lb.emit('sentryAction',rb.sentryAction,sb);}).bind(this)).setErrorHandler(function(qb){delete pa[ka];oa.shift();lb.emit('change');lb.emit('postError',qb);}).send();this._prependComment({authorID:qa.user.id,targetID:qa.targetFBID,body:{text:nb.visibleValue}});},addReply:function(nb){var ob=lb.getCreateComposerContent(nb),pb=lb.getCreateComposerPhoto(nb),qb=k.getURIBuilder().setString('parent_comment_id',nb).getURI(),rb=ka+ia();new h(qb).setData({app_id:qa.appID,av:lb.getUser().id,text:ob.encodedValue,attached_photo_fbid:pb?ha(pb.fbid):0,iframe_referer:qa.iframeReferer,replied_to:lb.getByID(nb).replyToCommentID}).setMethod('POST').setHandler(function(ub){var vb=lb.getByID(nb),wb=Object.assign({},vb.public_replies);Object.assign(pa,ub.payload.idMap);vb=lb.getByID(nb);vb.public_replies=wb;delete pa[rb];delete xa[nb];oa.splice(oa.indexOf(rb),1);vb.composer=false;delete vb.replyToCommentID;vb.public_replies.commentIDs.pop();vb.public_replies.commentIDs.push(ub.payload.commentID);kb('commentCreated',{commentID:ub.payload.commentID,parentCommentID:nb,message:ob.visibleValue});lb.emit('change');}).setErrorHandler(function(ub){delete pa[rb];oa.splice(oa.indexOf(rb),1);sb=lb.getByID(nb);sb.public_replies.commentIDs.pop();sb.public_replies.totalCount--;sb.composer=false;delete sb.replyToCommentID;lb.emit('change');lb.emit('postError',ub);}).send();var sb=lb.getByID(nb),tb=Object.assign({},sb.public_replies);if(!tb.commentIDs)tb.commentIDs=[];if(!tb.totalCount)tb.totalCount=0;tb.totalCount++;tb.commentIDs.push(rb);sb.public_replies=tb;pa[rb]={authorID:qa.user.id,body:{text:ob.visibleValue},targetID:nb,id:rb};oa.push(rb);lb.emit('change');},_prependComment:function(nb){if(!nb.id){nb.id=ka;}else{oa.shift();delete pa[ka];}oa.unshift(nb.id);pa[nb.id]=lb.initComment(nb);lb.emit('change');},edit:function(nb,ob){var pb=lb.getByID(nb);pb.editor=true;pb.prefillText=ob;lb.emit('change');},saveEdit:function(nb){var ob=JSON.parse(JSON.stringify(lb.getByID(nb))),pb=s.getURIBuilder().getURI(),qb=lb.getEditComposerContent(nb),rb=lb.getEditComposerPhoto(nb),sb=lb.hasCommentChanged(nb,qb);if(sb){new h(pb).setMethod('POST').setData({app_id:qa.appID,text:qb.encodedValue,comment_id:nb,av:lb.getAuthor(nb).id,attached_photo_fbid:rb?ha(rb.fbid):0,iframe_referer:qa.iframeReferer}).setHandler(function(ub){var vb=ub.payload;pa[vb.commentID]=lb.initComment(vb.idMap[vb.commentID]);delete ya[nb];lb.emit('change');}).setErrorHandler(function(ub){ob.editor=false;Object.assign(lb.getByID(nb),ob);lb.emit('change');lb.emit('postError',ub);}).send();var tb=lb.getByID(nb);tb.editor=false;tb.body.text=qb.visibleValue;delete tb.ranges;lb.emit('change');}else this.cancelEdit(nb);},cancelEdit:function(nb){var ob=lb.getByID(nb);ob.editor=false;lb.emit('change');},'delete':function(nb){var ob=lb.getByID(nb);ob.deleted=true;var pb=m.getURIBuilder().getURI();new h(pb).setData({app_id:qa.appID,comment_id:nb,av:lb.getAuthor(nb).id,iframe_referer:qa.iframeReferer}).setMethod('POST').setHandler(function(){return (kb('commentRemoved',{commentID:nb}));}).setErrorHandler(function(qb){var rb=lb.getByID(nb);rb.deleted=false;lb.emit('change');}).send();lb.emit('change');},like:function(nb){var ob=lb.getByID(nb),pb=u.getURIBuilder().setBool('action_like',!ob.hasLiked).getURI();new h(pb).setData({app_id:qa.appID,comment_id:ob.id,iframe_referer:qa.iframeReferer}).setMethod('POST').setHandler(function(qb){var rb=qb.payload;Object.assign(pa[rb.commentID],lb.initComment(rb.idMap[rb.commentID]));lb.emit('change');}).setErrorHandler(function(qb){ob.likeCount--;ob.hasLiked=false;lb.emit('postError',qb);}).send();ob.hasLiked=!ob.hasLiked;if(ob.hasLiked){ob.likeCount++;}else if(ob.likeCount>0)ob.likeCount--;pa[ob.id]=ob;lb.emit('change');},sort:function(nb){var ob=y.getURIBuilder().setInt('target_id',qa.targetFBID).setEnum('ordering',nb).getURI();new h(ob).setMethod('POST').setData({app_id:qa.appID,limit:lb.getPageSize(),iframe_referer:qa.iframeReferer}).setHandler(function(pb){var qb=pb.payload;qa.afterCursor=qb.afterCursor;lb.updateCommentData(qb,nb);lb.emit('sortingCompleted');lb.emit('change');}).send();},showMoreComments:function(){var nb=y.getURIBuilder().setInt('target_id',qa.targetFBID).setEnum('ordering',lb.getCurrentSorting()).getURI();new h(nb).setMethod('POST').setData({app_id:qa.appID,after_cursor:qa.afterCursor,limit:lb.getPageSize(),deeplinked_comment_id:qa.deeplinkedCommentID,iframe_referer:qa.iframeReferer}).setHandler(function(ob){var pb=ob.payload;qa.afterCursor=pb.afterCursor;oa=oa.concat(pb.commentIDs).filter(jb);pa=Object.assign(pa,lb.initComments(pb.commentIDs,pb.idMap));lb.emit('moreCommentsCompleted');lb.emit('change');}).setErrorHandler(function(ob){lb.emit('postError',ob);lb.emit('moreCommentsCompleted');}).send();},setUser:function(nb){lb.setActor(nb);lb.emit('composerChange');},setPostToFeed:function(nb){lb.setPostToFeed(nb);},showMoreReplies:function(nb){var ob=z.getURIBuilder().setString('comment_id',nb).getURI(),pb=lb.getByID(nb).public_replies;new h(ob).setMethod('POST').setData({app_id:qa.appID,after_cursor:pb.afterCursor,limit:lb.getPageSize(),iframe_referer:qa.iframeReferer}).setHandler(function(qb){var rb=qb.payload;pa=Object.assign(lb.initComments(rb.commentIDs,rb.idMap),pa);pb.afterCursor=rb.afterCursor;pb.commentIDs=pb.commentIDs.concat(rb.commentIDs).filter(jb);lb.emit('moreRepliesCompleted',{commentID:nb});lb.emit('change');}).setErrorHandler(function(qb){lb.emit('postError',qb);lb.emit('moreRepliesCompleted',{commentID:nb});}).send();},toggleVisibility:function(nb){var ob=lb.getByID(nb);ob.collapsed=!ob.collapsed;lb.emit('change');},flag:function(nb){pa[nb].flagged=true;this._sendFlagOrUnflagRequest(nb,'flag');lb.emit('change');},unflag:function(nb){pa[nb].flagged=false;this._sendFlagOrUnflagRequest(nb,'unflag');lb.emit('change');},_sendFlagOrUnflagRequest:function(nb,ob){var pb=t.getURIBuilder().getURI();new h(pb).setData({app_id:qa.appID,comment_id:nb,iframe_referer:qa.iframeReferer,unflag:ob==='unflag'}).setMethod('POST').setErrorHandler(function(qb){pa[nb].flagged=!pa[nb].flagged;lb.emit('postError',qb);}).send();},report:function(nb){window.open(lb.getByID(nb).reportURI,'_blank');},showReplyComposer:function(nb,ob){var pb=lb.getByID(nb);if(lb.isReply(nb)){var qb=nb;pb=lb.getByID(pb.targetID);pb.replyToCommentID=qb;}pb.prefillText=ob;pb.composer=true;lb.emit('change');},cancelReply:function(nb){var ob=lb.getByID(nb);ob.composer=false;delete ob.replyToCommentID;lb.emit('change');},restorePreviousState:function(){var nb=ba.getSessionStorage();if(nb){var ob=JSON.parse(nb.getItem('previousState'));nb.clear();var pb=lb.getCommentIDs();if(ob.action){var qb={};qb.action=ob.action;qb.args=ob.commentIDs;hb(qb);}var rb=ob.replies,sb=ob.edits;pb.map((function(tb){if(rb[tb])this.showReplyComposer(tb,rb[tb]);if(sb[tb])this.edit(tb,sb[tb]);}).bind(this));if(ob.commentBody)lb.emit('previousComposerCommentPrefill',{prefillText:ob.commentBody});}}};lb.ActionHandler=mb;f.exports=lb;},null);
__d('CommentsPluginActions',['CommentsPluginStore','DevxProxyActions'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new i(h);},null);
__d("XDeveloperDocumentationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/docs\/{?path1}\/{?path2}\/{?path3}\/{?path4}\/{?path5}\/{?path6}\/",{path:{type:"String"},version:{type:"String"},preview:{type:"Exists",defaultValue:false},revisionid:{type:"Int"},locale:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"},path4:{type:"String"},path5:{type:"String"},path6:{type:"String"}});},null,{});
__d('CommentsPluginFooter.react',['ImageBlock.react','React','XDeveloperDocumentationController','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,i.Component);m=l&&l.prototype;n.prototype.render=function(){return (i.createElement('div',{className:"_5lm5 _2pi3 _3-8y"},i.createElement(h,null,i.createElement('img',{src:'/images/like/icons/fav.png'}),i.createElement('a',{target:'_blank',href:j.getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},'Facebook Comments Plugin'))));};function n(){l.apply(this,arguments);}f.exports=n;},null);
__d('CommentsPluginHeader.react',['CommentsPluginActions','CommentsPluginStore','DeveloperCommentsPluginOrdering','LeftRight.react','Link.react','React','XUISelector.react','XUISpinner.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=n.Option;s=babelHelpers.inherits(v,m.Component);t=s&&s.prototype;function v(w){t.constructor.call(this,w);this.state={sorting:false};var x=this;x.$CommentsPluginHeader1=this.$CommentsPluginHeader1.bind(this);}v.prototype.$CommentsPluginHeader1=function(event){this.setState({sorting:true});i.addListener('sortingCompleted',(function(){this.setState({sorting:false});i.removeCurrentListener();}).bind(this));h.sort(event.value);};v.prototype.render=function(){var w=null;if(i.getModerateURL())w=m.createElement('span',null,m.createElement('span',{className:"_52bm"},'|'),m.createElement(l,{href:i.getModerateURL(),target:'_blank'},r._("C\u00f4ng c\u1ee5 ki\u1ec3m duy\u1ec7t")));return (m.createElement(k,{className:"_491z"},m.createElement('span',null,m.createElement(p,{weight:'bold'},i.getCommentsCount()!==1?r._("{count} b\u00ecnh lu\u1eadn",[r.param('count',i.getCommentsCount())]):r._("1 b\u00ecnh lu\u1eadn")),w),m.createElement('div',null,this.state.sorting?m.createElement(o,{size:'small',className:"_3-90"}):null,m.createElement('span',{className:"_pup"},r._("S\u1eafp x\u1ebfp theo")),' ',m.createElement(n,{alignh:'right',className:"_3-8_",initialValue:i.getCurrentSorting(),onChange:this.$CommentsPluginHeader1},j.__types.map(function(x){return (m.createElement(u,{value:x,key:x},j.__labels[x]));})))));};f.exports=v;},null);
__d('CommentsPluginAction',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={EDIT:'edit',DELETE:'delete',FLAG:'flag',UNFLAG:'unflag',BAN:'ban',HIDE:'hide',REPORT:'report',COLLAPSE:'collapse',SHOW:'show',getLabel:function(j){switch(j){case i.COLLAPSE:return h._("Thu g\u1ecdn b\u00ecnh lu\u1eadn");case i.SHOW:return h._("Hi\u1ec3n th\u1ecb b\u00ecnh lu\u1eadn");case i.EDIT:return h._("Ch\u1ec9nh s\u1eeda b\u00ecnh lu\u1eadn");case i.DELETE:return h._("X\u00f3a b\u00ecnh lu\u1eadn");case i.FLAG:return h._("G\u1eafn c\u1edd b\u00ecnh lu\u1eadn");case i.UNFLAG:return h._("B\u1ecf g\u1eafn c\u1edd b\u00ecnh lu\u1eadn");case i.BAN:return h._("C\u1ea5m ng\u01b0\u1eddi d\u00f9ng");case i.HIDE:return h._("\u1ea8n b\u00ecnh lu\u1eadn");case i.REPORT:return h._("B\u00e1o c\u00e1o cho Facebook");}},getMenuActions:function(){return [i.COLLAPSE,i.SHOW,i.EDIT,i.DELETE,i.FLAG,i.UNFLAG,i.BAN,i.HIDE,i.REPORT];}};f.exports=i;},null);
__d('MixinCommentsPluginConfirmAction',['CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','React','Set','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u={requiresConfirmation:function(v){var w=new l([h.DELETE,h.BAN,h.HIDE]);return w.has(v);},confirmAction:function(v){this.setState({actionConfirmationShown:true,action:v});},_onActionConfirmed:function(){i[this.state.action](this.props.commentID);this.setState({actionConfirmationShown:false});},_onActionCancelled:function(){this.setState({actionConfirmationShown:false});},_getActionMetadata:function(v){switch(v){case h.DELETE:return {body:s._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng?"),button_label:s._("X\u00e1c nh\u1eadn x\u00f3a")};case h.BAN:return {body:s._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n c\u1ea5m ng\u01b0\u1eddi d\u00f9ng n\u00e0y kh\u00f4ng?"),button_label:s._("X\u00e1c nh\u1eadn c\u1ea5m")};case h.HIDE:return {body:s._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n \u1ea9n b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng?"),button_label:s._("X\u00e1c nh\u1eadn \u1ea9n")};default:t(0);}},renderActionConfirmationDialog:function(){var v=this.state.action;if(!v)return null;var w=this._getActionMetadata(v);return (k.createElement(m,{shown:this.state.actionConfirmationShown,width:j.getDialogWidth()},k.createElement(r,{showCloseButton:false},h.getLabel(v)),k.createElement(n,null,w.body),k.createElement(q,null,k.createElement(p,{onClick:this._onActionCancelled}),k.createElement(o,{use:'confirm',label:w.button_label,onClick:this._onActionConfirmed}))));}};f.exports=u;},null);
__d('CommentsPluginCommentActions.react',['ActionList.react','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','Link.react','MixinCommentsPluginConfirmAction','React','UFICommentMetadata.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'CommentsPluginCommentActions',mixins:[n],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {deleteConfirmationShown:false,action:null};},_onLikeAction:function(){j.like(this.props.commentID);},_onReply:function(){j.showReplyComposer(this.props.commentID);},_onFlag:function(){j.flag(this.props.commentID);},_getLikeActionElem:function(u){if(!u.canLike&&k.isLoggedIn())return null;return (o.createElement(m,{onClick:this._onLikeAction},u.hasLiked?r._("B\u1ecf th\u00edch"):r._("Th\u00edch")));},render:function(){var u=k.getByID(this.props.commentID);return (o.createElement(h,{className:"_2vq9"},this._getLikeActionElem(u),o.createElement(m,{onClick:this._onReply},r._("Ph\u1ea3n h\u1ed3i")),k.isMobile()?u.canEdit?o.createElement(m,{onClick:this.confirmAction.bind(this,i.DELETE)},r._("X\u00f3a")):o.createElement(m,{onClick:this._onFlag},r._("G\u1eafn c\u1edd")):null,u.likeCount?o.createElement('span',null,o.createElement(l,{src:'/images/ufi/fbfeed/like.png',className:"_3-8_ _4iy4"}),u.likeCount):null,o.createElement(p,{comment:u,permalink:u.permalink,shortenTimestamp:true,showPermalink:!k.isReply(this.props.commentID),permalinkTarget:'_parent'}),k.isMobile()?this.renderActionConfirmationDialog():null));}});f.exports=t;},null);
__d('CommentsPluginComposerMirroringNotice.react',['CommentsPluginStore','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=i.PropTypes;l=babelHelpers.inherits(o,i.Component);m=l&&l.prototype;o.prototype.render=function(){var p=h.getMirroredPage();if(!p)return null;return (i.createElement('div',{className:"_5sge _2ph-"},p.name?this.props.isReply?k._("C\u00e2u tr\u1ea3 l\u1eddi c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean trang Facebook c\u1ee7a {page name}.",[k.param('page name',i.createElement('a',{href:p.uri,target:'blank'},p.name))]):k._("Your comment may also appear on {page name}'s Facebook Page.",[k.param('page name',i.createElement('a',{href:p.uri,target:'blank'},p.name))]):this.props.isReply?k._("Your reply may also appear on Facebook."):k._("B\u00ecnh lu\u1eadn c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean Facebook.")));};function o(){l.apply(this,arguments);}o.propTypes={isReply:n.bool};f.exports=o;},null);
__d('CommentsPluginProfilePicture.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.PropTypes;j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;m.prototype.render=function(){return (h.createElement('a',babelHelpers._extends({},this.props,{href:this.props.href}),h.createElement('img',{className:(!this.props.isReply?"_1ci":'')+(this.props.isReply?' '+"_1cj":''),src:this.props.src})));};function m(){j.apply(this,arguments);}m.propTypes={href:l.string.isRequired,src:l.string.isRequired,isReply:l.bool};f.exports=m;},null);
__d('CommentsPluginComposer.react',['ActorURI','CommentsPluginStore','CommentsPluginComposerMirroringNotice.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','DraftEntity','EditorState','MentionsInput.react','React','UFIAttachPhotoSection.react','UFIAttachedPhotoPreview.react','UFIImageBlock.react','UFICommentUtils.react','XUITypeaheadView.react','createEditorStateWithEntities','cx','fbt','getMentionsInputDecorator','getVisibleValueForContentState','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba,ca;'use strict';var da=p.PropTypes,ea=19;function fa(ha){return m.create('MENTION','IMMUTABLE',{id:ha.id});}ba=babelHelpers.inherits(ga,p.Component);ca=ba&&ba.prototype;function ga(ha,ia){ca.constructor.call(this,ha,ia);this.state=this.$CommentsPluginComposer1();var ja=this;ja.$CommentsPluginComposer2=this.$CommentsPluginComposer2.bind(this);ja.$CommentsPluginComposer3=this.$CommentsPluginComposer3.bind(this);}ga.prototype.$CommentsPluginComposer1=function(ha){var ia=null,ja=null,ka=ha||this.props.prefillText;if(ka){ia=this.$CommentsPluginComposer4(ka);if(this.props.editCommentID){i.setEditComposerState(ia,this.props.editCommentID);}else i.setCreateComposerState(ia,this.props.parentCommentIDOfNewReply);}else{var la=null;if(this.props.editCommentID){ja=i.getByID(this.props.editCommentID);ia=v({text:ja.body.text,ranges:t.shallowCopyRanges(ja.ranges).filter(function(oa){return !oa.entity.external;}),decorator:y(),entityCreationFn:fa});la=ja.photo_comment;this.$CommentsPluginComposer5(la);}else if(this.props.parentCommentIDOfNewReply){ja=i.getByID(this.props.parentCommentIDOfNewReply);if(ja.replyToCommentID&&i.getAuthor(ja.replyToCommentID).id!==i.getUser().id){var ma=i.getAuthor(ja.replyToCommentID),na={id:ma.id,text:ma.name,offset:0,length:ma.name.length,entity:{id:ma.id}};ia=n.moveFocusToEnd(v({text:ma.name+' ',ranges:[na],decorator:y(),entityCreationFn:fa}));}}if(!ia)ia=n.createEmpty(y());}return {editorState:ia,expanded:ka||!!this.props.alwaysExpanded,attachedPhoto:la};};ga.prototype.$CommentsPluginComposer4=function(ha){return v({text:ha,decorator:y()});};ga.prototype.$CommentsPluginComposer6=function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;};ga.prototype.$CommentsPluginComposer5=function(ha){if(this.props.editCommentID){i.setEditComposerPhoto(ha,this.props.editCommentID);}else i.setCreateComposerPhoto(ha,this.props.parentCommentIDOfNewReply);};ga.prototype.$CommentsPluginComposer7=function(ha){if(this.props.editCommentID){i.setLoadingEditComposerPhoto(ha,this.props.editCommentID);}else i.setLoadingCreateComposerPhoto(ha,this.props.parentCommentIDOfNewReply);};ga.prototype.$CommentsPluginComposer8=function(){if(this.props.editCommentID){return i.getLoadingEditComposerPhoto(this.props.editCommentID);}else return i.getLoadingCreateComposerPhoto(this.props.parentCommentIDOfNewReply);};ga.prototype.getPhotoUploadData=function(){var ha=i.getUser().id,ia={profile_id:ha,target_id:this.props.targetID,source:ea};ia[h.PARAMETER_ACTOR]=ha;return ia;};ga.prototype.onPhotoUploadComplete=function(ha){if(!this.$CommentsPluginComposer8())return;var ia=ha.getPayload();if(ia&&ia.fbid){this.$CommentsPluginComposer5(ia);this.$CommentsPluginComposer7(false);this.setState({attachedPhoto:ia,isLoadingPhoto:false,expanded:true});}else this.onRemoveAttachedPhotoPreviewClicked(null);};ga.prototype.resetAttachedPhoto=function(){this.$CommentsPluginComposer5(undefined);this.$CommentsPluginComposer7(false);this.setState({attachedPhoto:null,isLoadingPhoto:false});};ga.prototype.onRemoveAttachedPhotoPreviewClicked=function(event){this.resetAttachedPhoto();};ga.prototype.onRemoveAttachedStickerPreviewClicked=function(event){this.resetAttachedPhoto();};ga.prototype.prepareForAttachedPhotoPreview=function(){this.$CommentsPluginComposer5(undefined);this.$CommentsPluginComposer7(true);this.setState({attachedPhoto:null,isLoadingPhoto:true});};ga.prototype.componentDidMount=function(){i.addListener('composerCommentAdded',(function(event){if(this.$CommentsPluginComposer6()){var ha=this.$CommentsPluginComposer1();ha.expanded=true;this.setState(ha);if(this.refs.composer.style)this.refs.composer.style.cssText='';}}).bind(this));i.addListener('previousComposerCommentPrefill',(function(ha){var ia=this.$CommentsPluginComposer1(ha.prefillText);ia.expanded=true;this.setState(ia);}).bind(this));if(!this.$CommentsPluginComposer6())this.refs.composer.focus();};ga.prototype.$CommentsPluginComposer2=function(ha){this.setState({editorState:ha});if(this.props.editCommentID){i.setEditComposerState(ha,this.props.editCommentID);}else i.setCreateComposerState(ha,this.props.parentCommentIDOfNewReply);};ga.prototype.$CommentsPluginComposer9=function(){if(this.props.editCommentID)return i.isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;};ga.prototype.$CommentsPluginComposer3=function(){this.setState({expanded:true});};ga.prototype.setFileInput=function(ha,ia){this.setState({fileInput:ha,fileUploader:ia});};ga.prototype.$CommentsPluginComposer10=function(){return z(this.state.editorState.getCurrentContent());};ga.prototype.$CommentsPluginComposer11=function(ha){var ia=ha.target,ja=ia.value;ia.value='';ia.value=ja;this.$CommentsPluginComposer3();};ga.prototype.$CommentsPluginComposer12=function(ha){var ia=ha.target,ja=ia.scrollHeight;if(ia.offsetHeight<ja)ia.style.cssText='height:'+ja+'px';this.$CommentsPluginComposer2(v({text:ia.value}));};ga.prototype.$CommentsPluginComposer13=function(){var ha=this.props.placeholder||x._("Th\u00eam b\u00ecnh lu\u1eadn...");if(i.useLegacyMentionsInput())return (p.createElement('textarea',{className:"_1cb"+(' '+"_1u9t")+(this.props.readOnly?' '+"_5pu_":''),placeholder:ha,ref:'composer',onFocus:this.$CommentsPluginComposer11.bind(this),onChange:this.$CommentsPluginComposer12.bind(this),readOnly:this.props.readOnly,value:this.$CommentsPluginComposer10()}));return (p.createElement(o,{className:"_1cb"+(this.props.readOnly?' '+"_5pu_":''),editorState:this.state.editorState,mentionsSource:i.getComposerSearchSource(),onChange:this.$CommentsPluginComposer2,onFocus:this.$CommentsPluginComposer3,placeholder:ha,readOnly:this.props.readOnly,typeaheadView:u,ref:'composer'}));};ga.prototype.render=function(){var ha=this.props.editCommentID?i.getAuthor(this.props.editCommentID):ha=i.getUser(),ia=this.$CommentsPluginComposer9();return (p.createElement(s,{spacing:'medium',className:aa("_4uyl"+(ia?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":''),this.props.className)},i.isMobile()?p.createElement('div',null):p.createElement(l,{href:ha.uri,src:ha.thumbSrc,isReply:ia,target:'_blank'}),p.createElement('div',null,p.createElement('div',{className:'UFIInputContainer'},this.$CommentsPluginComposer13(),p.createElement('div',{className:"UFICommentAttachmentButtons"+(' '+"clearfix")+(!k.commentsPluginZemeckisAttachments||!this.props.allowPhotoAttachments?' '+"hidden_elem":'')},p.createElement(q,{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.prepareForAttachedPhotoPreview.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto}))),p.createElement(r,{attachedPhoto:this.state.attachedPhoto,onRemoveAttachedPhotoPreview:this.onRemoveAttachedPhotoPreviewClicked.bind(this),onRemoveAttachedStickerPreview:this.onRemoveAttachedStickerPreviewClicked.bind(this),isLoadingPhoto:this.state.isLoadingPhoto}),this.state.expanded?p.createElement('div',{className:"_4uym"},p.createElement(j,{isReply:ia}),this.props.children):null)));};ga.propTypes={editCommentID:da.string,parentCommentIDOfNewReply:da.string,readOnly:da.bool,placeholder:da.node,alwaysExpanded:da.bool};f.exports=ga;},null);
__d('CommentsPluginComposerEdit.react',['CommentsPluginActions','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=k.PropTypes;o=babelHelpers.inherits(r,k.Component);p=o&&o.prototype;function r(s,t){p.constructor.call(this,s,t);this.state={waitingAsyncResponse:false};var u=this;u.$CommentsPluginComposerEdit1=this.$CommentsPluginComposerEdit1.bind(this);u.$CommentsPluginComposerEdit2=this.$CommentsPluginComposerEdit2.bind(this);this.$CommentsPluginComposerEdit3=null;}r.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit3=j.addListener('composerChange',(function(){return this.forceUpdate();}).bind(this));};r.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerEdit3)this.$CommentsPluginComposerEdit3.remove();};r.prototype.$CommentsPluginComposerEdit1=function(){this.setState({waitingAsyncResponse:true});h.saveEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit2=function(){this.refs.composer.resetAttachedPhoto();h.cancelEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit4=function(){return (this.state.waitingAsyncResponse||j.isEmptyEditComposer(this.props.commentID));};r.prototype.render=function(){var s=j.getByID(this.props.commentID);return (k.createElement(i,{alwaysExpanded:true,ref:'composer',prefillText:s.prefillText,readOnly:this.state.waitingAsyncResponse,allowPhotoAttachments:true,editCommentID:this.props.commentID},k.createElement('div',{className:"_5tr6 clearfix _2ph_"},k.createElement(l,{disabled:this.$CommentsPluginComposerEdit4(),label:n._("L\u01b0u"),use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit1}),k.createElement(l,{disabled:this.state.waitingAsyncResponse,label:n._("H\u1ee7y"),use:'default',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit2})),this.props.children));};r.propTypes={commentID:q.string.isRequired};f.exports=r;},null);
__d('CommentsPluginMenu.react',['CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','MixinCommentsPluginConfirmAction','ReactXUIMenu','PopoverMenu.react','React','Tooltip','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=m.Item,u=o.createClass({displayName:'CommentsPluginMenu',mixins:[l],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {opened:false,actionConfirmationShown:false,action:null};},_onMenuShow:function(){this.setState({opened:true});},_onMenuHide:function(){this.setState({opened:false});},_toggleVisibility:function(){i.toggleVisibility(this.props.commentID);},_onAction:function(v,event){var w=event.item.getValue();if(this.requiresConfirmation(w)){this.confirmAction(w);}else if(w===h.SHOW||w===h.COLLAPSE){this._toggleVisibility();}else i[w](this.props.commentID);},_getMenuItem:function(v,w){var x=j.isReply(w.id);switch(v){case h.DELETE:case h.EDIT:if(!w.canEdit)return null;break;case h.FLAG:if(w.canEdit||w.collapsed||w.flagged)return null;break;case h.UNFLAG:if(w.canEdit||!w.flagged)return null;break;case h.SHOW:if(x||!w.collapsed)return null;break;case h.COLLAPSE:if(x||w.collapsed||w.flagged)return null;break;case h.BAN:case h.HIDE:if(!j.isViewerModerator())return null;break;case h.REPORT:if(!w.reportURI)return null;break;default:break;}return (o.createElement(t,{value:v,key:v},h.getLabel(v)));},render:function(){var v=j.getByID(this.props.commentID);return (o.createElement('div',null,o.createElement(n,{alignh:'right',onShow:this._onMenuShow,onHide:this._onMenuHide,menu:o.createElement(m,{onItemClick:this._onAction},h.getMenuActions().map((function(w){return this._getMenuItem(w,v);}).bind(this)))},o.createElement('a',null,o.createElement(k,babelHelpers._extends({},p.propsFor(q._("Menu")),{src:r('/images/plugins/comments/chevron-down.png')})))),this.renderActionConfirmationDialog()));},isOpen:function(){return this.state.opened;}});f.exports=u;},null);
__d('CommentsPluginAuthorSelector.react',['ActorSelector.react','CommentsPluginActions','CommentsPluginStore','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,k.Component);n=m&&m.prototype;function o(p){n.constructor.call(this,p);var q=this;q.$CommentsPluginAuthorSelector1=this.$CommentsPluginAuthorSelector1.bind(this);}o.prototype.$CommentsPluginAuthorSelector1=function(p){i.setUser(p.value);};o.prototype.$CommentsPluginAuthorSelector2=function(p){return l._("\u0110ang b\u00ecnh lu\u1eadn v\u1edbi t\u01b0 c\u00e1ch {actorName}",[l.param('actorName',p)]);};o.prototype.render=function(){var p=j.getActorIDs();return (p.length>1?k.createElement('div',{className:this.props.className},k.createElement(h,{actorIDs:p,coverEnabled:false,selectedActorID:j.getUser().id,onChange:this.$CommentsPluginAuthorSelector1,tooltipConstructor:this.$CommentsPluginAuthorSelector2})):null);};f.exports=o;},null);
__d('CommentsPluginComposerReply.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=l.PropTypes;p=babelHelpers.inherits(s,l.Component);q=p&&p.prototype;function s(t,u){q.constructor.call(this,t,u);this.state={waitingAsyncResponse:false};var v=this;v.$CommentsPluginComposerReply1=this.$CommentsPluginComposerReply1.bind(this);v.$CommentsPluginComposerReply2=this.$CommentsPluginComposerReply2.bind(this);this.$CommentsPluginComposerReply3=null;}s.prototype.componentDidMount=function(){this.$CommentsPluginComposerReply3=k.addListener('composerChange',(function(){return this.forceUpdate();}).bind(this));};s.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerReply3)this.$CommentsPluginComposerReply3.remove();};s.prototype.$CommentsPluginComposerReply1=function(){this.setState({waitingAsyncResponse:true});h.addReply(this.props.commentID);this.refs.composer.resetAttachedPhoto();};s.prototype.$CommentsPluginComposerReply2=function(){this.refs.composer.resetAttachedPhoto();h.cancelReply(this.props.commentID);};s.prototype.$CommentsPluginComposerReply4=function(){return (this.state.waitingAsyncResponse||k.isEmptyCreateComposer(this.props.commentID));};s.prototype.render=function(){var t=k.getByID(this.props.commentID);return (l.createElement(j,{allowPhotoAttachments:true,ref:'composer',alwaysExpanded:true,prefillText:t.prefillText,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,placeholder:o._("Th\u00eam ph\u1ea3n h\u1ed3i...")},l.createElement('div',{className:"_5tr6 clearfix _2ph_"},l.createElement(m,{disabled:this.$CommentsPluginComposerReply4(),label:o._("Tr\u1ea3 l\u1eddi"),use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply1}),l.createElement(m,{disabled:this.state.waitingAsyncResponse,label:o._("H\u1ee7y"),use:'default',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply2}),l.createElement(i,{className:'rfloat'}))));};s.propTypes={commentID:r.string.isRequired};f.exports=s;},null);
__d('CommentsPluginComment.react',['ActorBio.react','Badge.react','CenteredContainer.react','CommentsPluginActions','CommentsPluginCommentActions.react','CommentsPluginComposerEdit.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','CommentsPluginMenu.react','CommentsPluginComposerReply.react','CommentsPluginStore','HovercardLinkInterpolator','Link.react','Image.react','React','TruncatedTextWithEntities.react','UFIActor.react','UFICommentAttachment.react','UFICommentUtils.react','UFIImageBlock.react','XUIGrayText.react','XUISpinner.react','XUIText.react','cx','fbt','joinClasses','nullthrows','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){if(c.__markCompiled)c.__markCompiled();var ja,ka,la,ma;'use strict';var na=v.PropTypes;ja=babelHelpers.inherits(oa,v.Component);ka=ja&&ja.prototype;function oa(qa,ra){ka.constructor.call(this,qa,ra);this.state={showMenu:false};var sa=this;sa.$CommentsPluginComment1=this.$CommentsPluginComment1.bind(this);sa.$CommentsPluginComment2=this.$CommentsPluginComment2.bind(this);}oa.prototype.$CommentsPluginComment1=function(){this.setState({showMenu:true});};oa.prototype.$CommentsPluginComment2=function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});};oa.prototype.render=function(){var qa=ha(r.getByID(this.props.commentID));if(qa.deleted)return null;if(qa.editor)return (v.createElement('div',{className:"_3-8y"},v.createElement(m,{commentID:this.props.commentID}),v.createElement(pa,{commentID:this.props.commentID,className:"_3j_p"})));var ra=z.shallowCopyRanges(qa.ranges),sa=z.getCommentTextWithTruncatedURIs(ra,qa.body.text),ta=null;if(qa.collapsed||qa.flagged){ta=v.createElement('div',{className:"_5mlf"},v.createElement(ba,{shade:'light'},fa._("B\u00ecnh lu\u1eadn n\u00e0y \u0111\u01b0\u1ee3c {action}",[fa.param('action',qa.collapsed?'collapsed':'flagged')])));}else{if(qa.photoComment&&n.commentsPluginZemeckisAttachments)qa.photo_comment=qa.photoComment.photo_comment;ta=v.createElement('div',{className:"_30o4"},sa?v.createElement(w,babelHelpers._extends({className:"_5mdd",text:sa,ranges:ra,interpolator:function(ya,za){return (s(ya,za,'_blank'));}},r.getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})):null,v.createElement(y,{comment:qa,disableTheater:true}));}var ua=ha(r.getByID(qa.authorID)),va=r.isOptimisticComment(qa),wa=r.isReply(this.props.commentID),xa=r.isMobile();return (v.createElement(aa,{className:"_3-8y"+(!wa?' '+"_5nz1":''),spacing:'medium',onMouseEnter:this.$CommentsPluginComment1,onMouseLeave:this.$CommentsPluginComment2},v.createElement(o,{href:ua.uri,src:ua.thumbSrc,isReply:wa,target:'_blank'}),v.createElement('div',null,v.createElement(x,{author:ua,delimiter:xa?' ':undefined,key:'author',showHovercard:!xa,target:'_blank'},ua.isVerified?v.createElement(i,{key:'badge',size:'xsmall',type:'verified'}):null,ua.bio?v.createElement('div',{className:"_4q1v"},v.createElement(h,{target:'_blank',preferredTypes:ua.bio.preferredTypes,stats:ua.bio.stats})):null),v.createElement('div',{className:"_3-8m"},ta),va||qa.collapsed||qa.flagged?null:v.createElement(l,{commentID:this.props.commentID}),v.createElement(pa,{commentID:this.props.commentID})),v.createElement('div',null,this.state.showMenu&&!va&&!xa?v.createElement(p,{ref:'menu',commentID:this.props.commentID}):null)));};oa.propTypes={commentID:na.string.isRequired};la=babelHelpers.inherits(pa,v.Component);ma=la&&la.prototype;function pa(qa,ra){'use strict';ma.constructor.call(this,qa,ra);this.state={loading:false};var sa=this;sa.$CommentsPluginCommentReplies1=this.$CommentsPluginCommentReplies1.bind(this);}pa.prototype.$CommentsPluginCommentReplies1=function(){'use strict';this.setState({loading:true});r.addListener('moreRepliesCompleted',(function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});r.removeCurrentListener();}}).bind(this));k.showMoreReplies(this.props.commentID);};pa.prototype.render=function(){'use strict';var qa=r.getByID(this.props.commentID),ra=qa.public_replies;if(ra===undefined||qa.collapsed===true||qa.flagged)return qa.composer?v.createElement('div',{className:ga("_44ri _2pis _3-8y",this.props.className)},v.createElement(q,{commentID:this.props.commentID})):null;if(!ra.commentIDs)ra.commentIDs=[];var sa=ra.totalCount-ra.commentIDs.length,ta=r.getPageSize(),ua=sa<ta?sa:ta;return (v.createElement('div',{className:ga("_44ri _2pis",this.props.className)},ra.commentIDs.map((function(va){if(va===this.props.commentID)return null;return v.createElement(oa,{commentID:va,key:va});}).bind(this)),r.hasUnloadedReplies(this.props.commentID)&&sa>0?v.createElement('div',{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?v.createElement(j,null,v.createElement(ca,{size:'small'})):v.createElement(t,{onClick:this.$CommentsPluginCommentReplies1},v.createElement(da,{size:'small',weight:'bold'},ua===1?fa._("Hi\u1ec3n th\u1ecb th\u00eam 1 ph\u1ea3n h\u1ed3i trong chu\u1ed7i n\u00e0y"):fa._("Hi\u1ec3n th\u1ecb th\u00eam {number of replies} ph\u1ea3n h\u1ed3i trong chu\u1ed7i n\u00e0y",[fa.param('number of replies',ua)])),v.createElement(u,{src:ia({name:'triangle-down'})}))):null,qa.composer?v.createElement('div',{className:"_3-8y"},v.createElement(q,{commentID:this.props.commentID})):null));};pa.propTypes={commentID:na.string.isRequired};f.exports=oa;},null);
__d('CommentsPluginLoadMore.react',['CenteredContainer.react','CommentsPluginActions','CommentsPluginStore','React','XUIButton.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,k.Component);q=p&&p.prototype;function r(s,t){q.constructor.call(this,s,t);this.state={loading:false};var u=this;u.$CommentsPluginLoadMore1=this.$CommentsPluginLoadMore1.bind(this);}r.prototype.$CommentsPluginLoadMore1=function(){i.showMoreComments();this.setState({loading:true});j.addListener('moreCommentsCompleted',(function(){this.setState({loading:false});j.removeCurrentListener();}).bind(this));};r.prototype.render=function(){var s=j.getUnloadedCommentsCount();if(!j.hasUnloadedComments()||s<1)return null;if(this.state.loading)return (k.createElement(h,{className:"_ndl"},k.createElement(m,{size:'large'})));var t=j.getPageSize(),u=s<t?s:t;return (k.createElement('div',{className:"_5o4h"},k.createElement(l,{className:"_1gl3",role:'button',onClick:this.$CommentsPluginLoadMore1,label:u===1?o._("T\u1ea3i th\u00eam 1 b\u00ecnh lu\u1eadn"):o._("T\u1ea3i th\u00eam {pagesize} b\u00ecnh lu\u1eadn",[o.param('pagesize',u)])})));};f.exports=r;},null);
__d('CommentsPluginListing.react',['CommentsPluginComment.react','CommentsPluginLoadMore.react','CommentsPluginStore','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,k.Component);n=m&&m.prototype;o.prototype.render=function(){var p=j.getCommentIDs(),q=p.map(function(r){return k.createElement(h,{commentID:r,key:r});});return (k.createElement('div',{className:"_4k-6"},q,k.createElement(i,null)));};function o(){m.apply(this,arguments);}f.exports=o;},null);
__d('CommentsPluginComposerComment.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','Grid.react','InputLabel.react','LeftRight.react','React','XUIButton.react','XUICheckboxInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=l.GridItem;t=babelHelpers.inherits(w,o.Component);u=t&&t.prototype;function w(x){u.constructor.call(this,x);this.state={selectedActorID:k.getUser().id,postToFeed:false,ablePostToFeed:false,commentLength:0,waitingAsyncResponse:false};var y=this;y.$CommentsPluginComposerComment1=this.$CommentsPluginComposerComment1.bind(this);y.$CommentsPluginComposerComment2=this.$CommentsPluginComposerComment2.bind(this);}w.prototype.componentDidMount=function(){k.addListener('composerChange',(function(){var x=k.getCreateComposerContent().visibleValue,y=x.trim().length;this.setState({commentLength:y,ablePostToFeed:y>=k.getMinFeedLength()});}).bind(this));k.addListener('composerCommentAdded',(function(){this.setState({waitingAsyncResponse:false});this.refs.composer.resetAttachedPhoto();}).bind(this));k.addListener('login',(function(){this.setState({waitingAsyncResponse:false});}).bind(this));};w.prototype.$CommentsPluginComposerComment2=function(event){var x=!this.state.postToFeed;this.setState({postToFeed:x});h.setPostToFeed(x);};w.prototype.$CommentsPluginComposerComment1=function(){this.setState({waitingAsyncResponse:true});h.setPostToFeed(this.state.postToFeed);h.addComment();};w.prototype.$CommentsPluginComposerComment3=function(){return (this.state.waitingAsyncResponse||k.isEmptyCreateComposer());};w.prototype.render=function(){var x=k.isLoggedIn()?s._("\u0110\u0103ng"):s._("\u0110\u0103ng nh\u1eadp v\u00e0o b\u00e0i vi\u1ebft"),y=k.getMinFeedLength()-this.state.commentLength;return (o.createElement(j,{allowPhotoAttachments:true,ref:'composer',className:"_2392",readOnly:this.state.waitingAsyncResponse},o.createElement(n,{className:"_5tr6 clearfix _2ph-"},!k.isMirrored()?o.createElement(l,{cols:1},o.createElement(v,null,o.createElement(m,{className:"_1u0n"},o.createElement(q,{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment2}),o.createElement('label',{className:"_3-99 _2ern _50f8 _5kx5"},s._("C\u0169ng \u0111\u0103ng l\u00ean Facebook")))),o.createElement(v,null,this.state.postToFeed&&!this.state.ablePostToFeed?s._({"*":{"character":"Write {lengthRemain} more character to post to Facebook","characters":"Write {lengthRemain} more characters to post to Facebook"}},[s.param('lengthRemain',y,[0]),s['enum'](y===1?'character':'characters',{character:'character',characters:'characters'})]):o.createElement('span',null))):o.createElement('span',null),o.createElement('span',null,o.createElement(p,{disabled:this.$CommentsPluginComposerComment3(),label:x,use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment1}),o.createElement(i,{className:'rfloat'})))));};f.exports=w;},null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/{comment_id}\/async\/confirm\/publish\/dialog\/",{comment_id:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d('CommentsPlugin.react',['AsyncDialog','AsyncRequest','CommentsPluginActions','CommentsPluginConfig','CommentsPluginFooter.react','CommentsPluginHeader.react','CommentsPluginListing.react','CommentsPluginComposerComment.react','CommentsPluginStore','XPluginCommentsConfirmPostToFacebookAsyncDialogController','DOMQuery','PluginResize','React','ReactDOM','CommentsPluginSentryAction','SimpleXUIDialog','cx','fbt','getElementPosition','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba,ca;'use strict';var da=t.PropTypes;ba=babelHelpers.inherits(ea,t.Component);ca=ba&&ba.prototype;ea.prototype.componentWillMount=function(){p.init(this.props.comments,this.props.meta,this.props.initialOrdering);p.addListener('postError',function(fa){w.show(fa.errorSummary||y._("R\u1ea5t ti\u1ebfc, \u0111\u00e3 x\u1ea3y ra l\u1ed7i. Vui l\u00f2ng th\u1eed l\u1ea1i sau."),null,null,{width:p.getDialogWidth()});});p.addListener('sentryAction',function(fa,ga){switch(fa){case v.CONFIRM_POST_TO_PROFILE:var ha=q.getURIBuilder().setString('comment_id',ga).getURI();h.send(new i(ha).setData({iframe_referer:p.getIframeReferer()}));break;default:break;}});};ea.prototype.componentDidMount=function(){var fa=u.findDOMNode(this),ga=p.isMobile();if(ga){s.autoHeight(null,fa);}else s.auto(fa);new s(function(){ga?null:fa.offsetWidth;},function(){var ha=fa.offsetHeight,ia=r.scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer'),ja=r.scry(document.body,'.captcha_dialog');if(ia.length===0&&ja.length===0)return ha;var ka=ia.length>0?z(ia[0]):null,la=ja.length>0?z(ja[0]):null;return Math.max(ha,ka?ka.y+ka.height+1:0,la?la.height:0);},'resize.iframe',false).resize().auto();p.addListener('change',(function(){this.forceUpdate();}).bind(this));if(k.commentsPluginDisableOptOutUsers&&p.isOptinReturn())j.restorePreviousState();};ea.prototype.render=function(){return (t.createElement('div',{className:aa("_56q9",this.props.className)},t.createElement('div',{className:"_2pi8"},t.createElement(m,null),t.createElement(o,null),t.createElement(n,null),t.createElement(l,null))));};function ea(){ba.apply(this,arguments);}ea.propTypes={comments:da.object.isRequired,meta:da.object.isRequired,initialOrdering:da.string.isRequired};f.exports=ea;},null);