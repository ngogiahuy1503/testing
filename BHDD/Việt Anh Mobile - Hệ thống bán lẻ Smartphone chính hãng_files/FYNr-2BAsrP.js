/*!CK:991581770!*//*1445957345,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["j+bxK"]); }

__d("MNCommerceErrors",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALREADY_UNLINKED:1893001};},null,{});
__d("MNCommerceReplyTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_LINK:2};},null,{});
__d('PagesMessengerConfirmCloseThreadDialog.react',['React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p,q=h.PropTypes,r=300;o=babelHelpers.inherits(s,h.Component);p=o&&o.prototype;function s(t){'use strict';p.constructor.call(this,t);}s.prototype.render=function(){'use strict';return (h.createElement(i,{layerHideOnBlur:false,shown:this.props.shown,width:r},h.createElement(m,{showCloseButton:false},n._("\u0110\u00f3ng cu\u1ed9c tr\u00f2 chuy\u1ec7n")),h.createElement(j,null,n._("B\u1ea1n ch\u01b0a g\u1eedi tin nh\u1eafn. B\u1ea1n c\u00f3 mu\u1ed1n r\u1eddi kh\u1ecfi m\u00e0 kh\u00f4ng g\u1eedi tin nh\u1eafn kh\u00f4ng?")),h.createElement(l,null,h.createElement(k,{action:'cancel',label:n._("Ti\u1ebfp t\u1ee5c vi\u1ebft"),onClick:this.props.onCancel,use:'default'}),h.createElement(k,{action:'confirm',label:n._("R\u1eddi cu\u1ed9c tr\u00f2 chuy\u1ec7n"),onClick:this.props.onConfirm,use:'confirm'}))));};s.propTypes={onCancel:q.func.isRequired,onConfirm:q.func.isRequired,shown:q.bool.isRequired};f.exports=s;},null);
__d('PagesMessengerCreatorInfo.react',['React','UFICreatorInfo.react','XUIGrayText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;o.prototype.render=function(){return (h.createElement(j,{className:"_ajk"+(this.props.isNote?' '+"_45l2":''),display:'inline',shade:'light',size:'small'},h.createElement(i,{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI})));};function o(){l.apply(this,arguments);}o.propTypes={creator_info:n.shape({creatorID:n.string.isRequired,creatorName:n.string.isRequired,creatorType:n.string.isRequired,labelType:n.string.isRequired,pageID:n.string.isRequired,profileURI:n.string}).isRequired};f.exports=o;},null);
__d('MercuryPageMessageActions',['MercuryActionType','MercuryMessageActions','MercuryPayloadSource','MercurySingletonMixin'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){m.constructor.call(this,o);}n.prototype.createNote=function(o,p,q){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({action_type:h.CREATE_PAGE_ADMIN_NOTE,message_id:q,note:o,thread_id:p},j.CLIENT_CREATE_PAGE_ADMIN_NOTE));this.__serverRequests.createNote(o.body,q,p);};Object.assign(n,k,{_instances:{}});f.exports=n;},null);
__d('PagesMessengerSimpleMultilineComposer.react',['MercuryMessageObject','MercurySourceType','MercuryPageMessageActions','PagesEventObserver','PagesEventType','PagesMessengerTextInput.react','React','ReactDOM','XUIButton.react','cx','fbt','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u,v=n.PropTypes;t=babelHelpers.inherits(w,n.Component);u=t&&t.prototype;function w(x){'use strict';u.constructor.call(this,x);this.state={value:''};this.$PagesMessengerSimpleMultilineComposer1=j.getForFBID(this.props.sourceID);this.$PagesMessengerSimpleMultilineComposer2=h.getForFBID(this.props.sourceID);}w.prototype.hasInput=function(){'use strict';return !!this.state.value;};w.prototype.clearInput=function(){'use strict';this.setState({value:''});};w.prototype.focusInput=function(){'use strict';o.findDOMNode(this.refs.textInput).focus();};w.prototype.getConfirmButtonLabel=function(){'use strict';return r._("G\u1eedi");};w.prototype.getTextInputPlaceholder=function(){'use strict';return r._("Vi\u1ebft tin nh\u1eafn");};w.prototype.onTextInputChanged=function(event){'use strict';this.setState({value:event.target.value});};w.prototype.processSend=function(event){'use strict';var x=this.refs.textInput.getValue();if(!x)return;var y=this.$PagesMessengerSimpleMultilineComposer2.constructUserGeneratedMessageObject(x,i.TITAN_WEB,this.props.threadID,null,null);k.logData_DEPRECATED({page_id:this.props.sourceID,event_name:l.MESSAGES_DIALOG_SEND,thread_id:this.props.destinationID},null);event.preventDefault();if(this.props.allowSend()){this.$PagesMessengerSimpleMultilineComposer1.send(y);this.setState({value:''});this.props.afterSend();}};w.prototype.render=function(){'use strict';return (n.createElement('div',{className:"_1yn"},n.createElement('div',null,n.createElement(m,{className:"_1yq"+(s(this.state.value)?' '+"_1yx":''),placeholder:this.getTextInputPlaceholder(),onChange:this.onTextInputChanged.bind(this),onKeyUp:this.props.onKeyUp,value:this.state.value,ref:'textInput'})),n.createElement('hr',{className:"_1yy"}),n.createElement('div',{className:"_1yz"},n.createElement('div',{className:"_1y-"},n.createElement(p,{use:'confirm',onClick:this.processSend.bind(this),label:this.getConfirmButtonLabel()})))));};w.propTypes={afterSend:v.func.isRequired,allowSend:v.func.isRequired,destinationID:v.string.isRequired,onKeyUp:v.func.isRequired,sourceID:v.string.isRequired,threadID:v.string.isRequired};f.exports=w;},null);
__d("XPagesMessagingFindPageController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/search\/page_name_typeahead\/",{page_id:{type:"String",required:true},value:{type:"String"}});},null,{});
__d('PagesMessengerNewThreadDialog.react',['Event','Keys','MercuryIDs','MercuryParticipants','PagesEventObserver','PagesEventType','PagesMessengerConfirmCloseThreadDialog.react','PagesMessengerSimpleMultilineComposer.react','React','SearchableEntry','WebAsyncSearchSource','XPagesMessagingFindPageController','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUITextInput.react','XUITypeahead.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa,ba,ca=p.PropTypes,da=500;aa=babelHelpers.inherits(ea,p.Component);ba=aa&&aa.prototype;function ea(fa){'use strict';ba.constructor.call(this,fa);this.state={typeaheadErrorMessage:null,initDialog:false,pageName:'...',query:'',selectedItem:null,showCloseConfirmationDialog:false};this.$PagesMessengerNewThreadDialog1=false;this.$PagesMessengerNewThreadDialog2=false;var ga=s.getURIBuilder().setString('page_id',this.props.pageID).getURI(),ha={uri:ga};this.$PagesMessengerNewThreadDialog3=new r({bootstrapRequests:[ha],queryRequests:[ha],getAllForEmptyQuery:true});}ea.prototype.$PagesMessengerNewThreadDialog4=function(fa){'use strict';l.notify(m.MESSAGES_CLOSE_PAGE_MESSAGE_DIALOG,this.props.pageID,{flowID:this.props.flowID,close_state:fa});};ea.prototype.$PagesMessengerNewThreadDialog5=function(){'use strict';if(this.refs.newThreadComposer.hasInput()){this.setState({showCloseConfirmationDialog:true});this.$PagesMessengerNewThreadDialog4('has_message');}else{this.$PagesMessengerNewThreadDialog6();this.props.onHide();this.$PagesMessengerNewThreadDialog4('no_message');}};ea.prototype.$PagesMessengerNewThreadDialog6=function(){'use strict';this.refs.newThreadComposer.clearInput();this.setState({query:'',selectedItem:null,showCloseConfirmationDialog:false});};ea.prototype.$PagesMessengerNewThreadDialog7=function(){'use strict';this.$PagesMessengerNewThreadDialog6();this.props.onHide();this.$PagesMessengerNewThreadDialog4('confirm_close');};ea.prototype.$PagesMessengerNewThreadDialog8=function(){'use strict';this.setState({showCloseConfirmationDialog:false});};ea.prototype.$PagesMessengerNewThreadDialog9=function(fa,event){'use strict';if(h.getKeyCode(event)===i.ESC)setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};ea.prototype.$PagesMessengerNewThreadDialog10=function(event){'use strict';if(h.getKeyCode(event)===i.ESC)setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};ea.prototype.$PagesMessengerNewThreadDialog11=function(fa){'use strict';if(!fa&&this.props.shown)this.$PagesMessengerNewThreadDialog5();};ea.prototype.subscribeEvents=function(){'use strict';if(this.refs.newPageMessageDialog&&!this.$PagesMessengerNewThreadDialog2){this.refs.newPageMessageDialog.layerSubscribe('key',this.$PagesMessengerNewThreadDialog9.bind(this));this.$PagesMessengerNewThreadDialog2=true;}};ea.prototype.loadPageName=function(){'use strict';if(!this.$PagesMessengerNewThreadDialog1){this.$PagesMessengerNewThreadDialog1=true;k.get(j.getParticipantIDFromUserID(this.props.pageID),(function(fa){this.setState({pageName:fa.name});}).bind(this));}};ea.prototype.componentDidUpdate=function(fa,ga){'use strict';if(!this.props.shown)return;this.subscribeEvents();this.loadPageName();var ha=this.refs.pageTypeahead.getTextFieldDOM();ha.parentElement.style.border='0px';ha.style.width='382px';ha.style.border='0px';ha.style.fontSize='14px';if(this.props.shown&&!fa.shown)this.refs.pageTypeahead.focusInput();};ea.prototype.renderFrom=function(){'use strict';return (p.createElement('div',{className:"_1vwk"+(' '+"_2pis")+(' '+"_2pi3")},z._("T\u1eeb: {pageName}",[z.param('pageName',this.state.pageName)])));};ea.prototype.renderTypeahead=function(){'use strict';return (p.createElement('div',{className:"_1vwl"+(' '+"_2pis")+(' '+"_2pi3")},p.createElement('span',{className:"_1vwm"},z._("T\u1edbi:")),p.createElement(x,{className:"_1vwn"+(' '+"_2pir"),clearable:!!this.state.selectedItem,highlightOnSelect:true,onChange:this.$PagesMessengerNewThreadDialog12.bind(this),onClear:this.$PagesMessengerNewThreadDialog13.bind(this),onSelectAttempt:this.$PagesMessengerNewThreadDialog14.bind(this),queryString:this.state.query,ref:'pageTypeahead',searchSource:this.$PagesMessengerNewThreadDialog3,selectedEntry:this.state.selectedItem,showPhoto:!!this.state.selectedItem,tallInput:true,viewStyle:'rich',xuiError:this.state.typeaheadErrorMessage}),p.createElement('span',{className:"_2f3y"},z._("Ch\u1ec9 Trang"))));};ea.prototype.$PagesMessengerNewThreadDialog14=function(fa){'use strict';this.refs.newThreadComposer.focusInput();this.setState({typeaheadErrorMessage:null,query:fa.getTitle(),selectedItem:fa});l.notify(m.MESSAGES_PAGE_MESSAGE_DIALOG_CHOOSE_RECIPIENT,this.props.pageID,{flowID:this.props.flowID,recipient:fa.getUniqueID()});};ea.prototype.$PagesMessengerNewThreadDialog12=function(event){'use strict';this.setState({typeaheadErrorMessage:null,query:event.target.value,selectedItem:null});};ea.prototype.$PagesMessengerNewThreadDialog13=function(){'use strict';this.refs.pageTypeahead.focusInput();this.setState({typeaheadErrorMessage:null,query:'',selectedItem:null});};ea.prototype.$PagesMessengerNewThreadDialog15=function(){'use strict';setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};ea.prototype.$PagesMessengerNewThreadDialog16=function(){'use strict';if(!this.state.selectedItem||this.state.selectedItem.getUniqueID().length==0){var fa=z._("Vui l\u00f2ng ch\u1ecdn m\u1ed9t trang \u0111\u1ec3 nh\u1eadn tin nh\u1eafn c\u1ee7a b\u1ea1n");this.refs.pageTypeahead.focusInput();this.setState({typeaheadErrorMessage:fa});return false;}l.notify(m.MESSAGES_PAGE_MESSAGE_DIALOG_SEND,this.props.pageID,{flowID:this.props.flowID,recipient:this.state.selectedItem.getUniqueID()});return true;};ea.prototype.renderAttachmentShelf=function(){'use strict';return (p.createElement('div',{ref:'newThreadAttachmentsShelf',className:"_jz4"}));};ea.prototype.renderComposer=function(){'use strict';var fa=this.state.selectedItem?this.state.selectedItem.getUniqueID():'',ga='user:'+fa;return (p.createElement(o,{afterSend:this.$PagesMessengerNewThreadDialog15.bind(this),allowSend:this.$PagesMessengerNewThreadDialog16.bind(this),destinationID:fa,onKeyUp:this.$PagesMessengerNewThreadDialog10.bind(this),ref:'newThreadComposer',sourceID:this.props.pageID,threadID:ga}));};ea.prototype.componentWillReceiveProps=function(fa){'use strict';if(!this.state.initDialog&&fa.shown)this.setState({initDialog:true});};ea.prototype.renderCloseConfirmationDialog=function(){'use strict';if(!this.state.showCloseConfirmationDialog)return null;return (p.createElement(n,{shown:this.state.showCloseConfirmationDialog,onCancel:this.$PagesMessengerNewThreadDialog8.bind(this),onConfirm:this.$PagesMessengerNewThreadDialog7.bind(this)}));};ea.prototype.render=function(){'use strict';if(!this.state.initDialog)return null;return (p.createElement('div',null,p.createElement(t,{layerHideOnBlur:false,ref:'newPageMessageDialog',shown:this.props.shown,onToggle:this.$PagesMessengerNewThreadDialog11.bind(this),width:da},p.createElement(v,null,z._("Tin nh\u1eafn m\u1edbi t\u1edbi Trang")),p.createElement(u,{className:"_1vwv"},this.renderFrom(),this.renderTypeahead(),this.renderAttachmentShelf(),this.renderComposer())),this.renderCloseConfirmationDialog()));};ea.propTypes={flowID:ca.string,onHide:ca.func.isRequired,shown:ca.bool.isRequired,pageID:ca.string.isRequired};f.exports=ea;},null);
__d('PagesMessengerMessagePageButton.react',['PagesEventObserver','PagesEventType','PagesMessengerNewThreadDialog.react','React','Image.react','XUIButton.react','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q,r=k.PropTypes;p=babelHelpers.inherits(s,k.Component);q=p&&p.prototype;s.getButtonSize=function(t){'use strict';return t.size||'medium';};function s(t){'use strict';q.constructor.call(this,t);this.state={showDialog:false};}s.prototype.$PagesMessengerMessagePageButton1=function(){'use strict';this.setState({showDialog:false});};s.prototype.$PagesMessengerMessagePageButton2=function(){'use strict';if(this.state.showDialog)return;this.setState({showDialog:true});h.notify(i.MESSAGES_OPEN_PAGE_MESSAGE_DIALOG,this.props.pageID,{flowID:this.props.flowID});};s.prototype.render=function(){'use strict';return (k.createElement('span',{className:!this.props.pagesCommNewMessagesTab?"_3-9a":''},k.createElement(m,{className:this.props.pagesCommNewMessagesTab?"_3kr2":'',image:k.createElement(l,{src:this.props.pagesCommNewMessagesTab?o('/images/mobile/glyph/compose_dark-grey_l.png'):o('/images/deprecated/glyphs/dark/compose_s.png')}),onClick:this.$PagesMessengerMessagePageButton2.bind(this),size:this.props.size}),k.createElement(j,{flowID:this.props.flowID,shown:this.state.showDialog,onHide:this.$PagesMessengerMessagePageButton1.bind(this),pageID:this.props.pageID})));};s.propTypes={flowID:r.string,pageID:r.string.isRequired,pagesCommNewMessagesTab:r.bool};f.exports=s;},null);
__d('BUISwitch.react',['Event','Keys','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'BUISwitch',propTypes:{animate:m.bool,disabled:m.bool,onToggle:m.func,showLabel:m.bool,value:m.bool.isRequired},getDefaultProps:function(){return {animate:true};},render:function(){return (j.createElement('div',babelHelpers._extends({},this.props,{className:"_128j"+(this.props.value?' '+"_128k":'')+(!this.props.value?' '+"_128l":'')+(this.props.disabled?' '+"_128m":'')+(this.props.animate?' '+"_128n":''),role:'checkbox','aria-checked':this.props.value?'true':'false'}),j.createElement('div',{className:"_128o",onClick:this._onClick,onKeyDown:this._onKeyDown,onMouseDown:this._preventFocus,tabIndex:this.props.disabled?'-1':'0'},j.createElement('div',{className:"_128p"})),this._renderLabel()));},_renderLabel:function(){if(!this.props.showLabel)return null;return (j.createElement('span',{className:"_128q"},this.props.value?l._("B\u1eacT"):l._("T\u1eaeT")));},_onClick:function(event){if(this.props.disabled)return;this.props.onToggle&&this.props.onToggle(!this.props.value);},_onKeyDown:function(event){if(this.props.disabled)return;var o=h.getKeyCode(event);if(o===i.RETURN||o===i.SPACE)this.props.onToggle&&this.props.onToggle(!this.props.value);},_preventFocus:function(event){event.preventDefault();}});f.exports=n;},null);
__d('ResizeListener',['EventListener','SubscriptionList','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k,l=false,m=new i(function(){k=h.listen(window,'resize',n);},function(){k.remove();});function n(){if(!l){l=true;j(function(){m.fireCallbacks();l=false;});}}f.exports=m;},null);
__d('MessengerCodePasteUtils',['BanzaiODS','MessengerBubble.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=/`{3,}/;function m(o){return !!(o&&o.search(l)!==-1&&o.split('\n').length>1);}function n(o,p,q){var r=o.split(l),s=[];for(var t=0;t<r.length;t+=2){var u=r[t].trim();if(u&&u.length>0)s.push(j.createElement(i,{key:t,body:u,className:"clearfix _3058 _ui9",ranges:p,threadID:q}));if(t+1<r.length&&r[t+1]){var v=r[t+1].split('\n'),w=v[0].replace(/[^a-zA-Z]+/g,''),x=v.slice(1).join('\n');h.bumpEntityKey('messenger_code_paste','render_bubble');s.push(j.createElement('div',{key:t+1,className:"_3058 _15gf _wu0 _52mr"},j.createElement('div',{ref:'syntaxTarget'+t,className:'language-'+w},x)));}}return s;}f.exports={containsCodeBlock:m,getCodeAndMessageBubbles:n};},null);
__d('MessengerCodeBubble.react',['Bootloader','immutable','MessengerCodePasteUtils','ReactComponentWithPureRenderMixin','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'MessengerCodeBubble',mixins:[k],propTypes:{attachments:n.instanceOf(i.List),body:n.string.isRequired,ranges:n.array.isRequired,threadID:n.string.isRequired},componentDidMount:function(){h.loadModules(["Prism.Complete"],(function(p){for(var q in this.refs){var r=m.findDOMNode(this.refs[q]);p.highlightElement(r);}}).bind(this));},render:function(){var p=j.getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID);return l.createElement('div',null,p);}});f.exports=o;},null);
__d('MessengerPageAdminNoteList.react',['LeftRight.react','MessengerBubble.react','PagesMessengerCreatorInfo.react','ReactComponentWithPureRenderMixin','React','toIterator','classWithMixins','cx','fbt','immutable','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=l.PropTypes;s=babelHelpers.inherits(v,n(l.Component,r(k)));t=s&&s.prototype;v.prototype.render=function(){var w=[],x=this.calculateGroups(this.props.notes);x.forEach((function(y,z){w.push(l.createElement('li',{className:"_4kd2",key:'group:'+z},this.$MessengerPageAdminNoteList1(y)));}).bind(this));return (l.createElement('ul',{className:"_4kd3"},w));};v.prototype.$MessengerPageAdminNoteList1=function(w){var x=[];w.forEach((function(y,z){x.push(l.createElement('div',{className:"_4kd4",key:'note:'+z},this.$MessengerPageAdminNoteList2(y,w)));}).bind(this));return x;};v.prototype.$MessengerPageAdminNoteList2=function(w,x){var y=q.List([l.createElement(h,{className:"_561k"},l.createElement('div',{className:"_561l"},p._("Ghi ch\u00fa ri\u00eang")),l.createElement(j,{key:'creator_info',creator_info:x[0].creator_info,isNote:true}))]);return (l.createElement('div',{className:"_o46 _3i_m _nd_"},l.createElement('div',{className:'clearfix'},l.createElement(i,{body:w.body,attachments:y,className:"_3058 _4kd5"}))));};v.prototype.calculateGroups=function(w){var x=[],y=null,z=null,aa=m(w),ba;while(!(ba=aa.next()).done){var ca=z&&z.value.creator_info.creatorID===ba.value.creator_info.creatorID;if(!ca){y=[];x.push(y);}if(y)y.push(ba.value);z=ba;}return x;};function v(){s.apply(this,arguments);}v.propTypes={notes:u.arrayOf(u.shape({id:u.string,body:u.string.isRequired,creator_info:u.shape({creatorID:u.string.isRequired,creatorName:u.string.isRequired,creatorType:u.string.isRequired,labelType:u.string.isRequired,pageID:u.string.isRequired,profileURI:u.string}),timestamp:u.number.isRequired})).isRequired};f.exports=v;},null);
__d('MessengerDialogCancelButton.react',['MessengerDialogButton.react','ReactComponentWithPureRenderMixin','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'MessengerDialogCancelButton',mixins:[i],render:function(){return (j.createElement(h,babelHelpers._extends({action:'cancel',label:k._("H\u1ee7y"),type:'secondary'},this.props)));}});f.exports=l;},null);
__d('MercurySeenIndicator.react',['MercuryDelayedRoger','MercuryIDs','React','SubscriptionsHandler','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'MercurySeenIndicator',propTypes:{thread:m.object.isRequired,viewer:m.string.isRequired},componentDidMount:function(){this._subscriptions=new k();this._subscriptions.addSubscriptions(h.subscribe('state-changed',(function(o,p){p[this.props.thread.thread_id]&&this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},render:function(){var o=this._separateParticipants(),p=o.viewer,q=o.others,r=this._viewerLastToReply(p),s=this._seenByAll(q);return (j.createElement('span',{className:"_3jy5"+(r?' '+"repliedLast":'')+(r&&s?' '+"seenByAll":'')}));},_separateParticipants:function(){var o=i.getParticipantIDFromUserID(this.props.viewer),p=this.props.thread.participants.filter(function(q){return q!==o;});return {viewer:o,others:p};},_viewerLastToReply:function(o){return o===this.props.thread.snippet_sender;},_seenByAll:function(o){var p=this.props.thread.thread_id;return h.getSeenBy(p).length===o.length;}});f.exports=n;},null);
__d('MercuryThreadSnippet.react',['immutable','MercuryAttachmentSnippet.react','MercuryIDs','React','TextWithEmoticons.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MercuryThreadSnippet',propTypes:{participants:o.instanceOf(h.Map).isRequired,shouldAlwaysRenderSender:o.bool,shouldRenderYou:o.bool,thread:o.object.isRequired,viewer:o.string.isRequired},shouldComponentUpdate:function(s,t){return (this.props.shouldRenderYou!==s.shouldRenderYou||this.props.thread!==s.thread||this.props.viewer!==s.viewer||!h.is(s.participants,this.props.participants));},render:function(){return (k.createElement('span',{className:this.props.className},this._renderAttachmentIndicator(),this._renderSnippet()));},_renderAttachmentIndicator:function(){if(!this.props.thread.snippet||!q(this.props.thread))return null;return (k.createElement('span',{className:"_j0r"}));},_renderSnippet:function(){var s=this.props.thread,t=j.getParticipantIDFromUserID(this.props.viewer),u=this._renderInnerSnippet(),v=s.participants.length;if(s.is_subscribed)v--;if(s.snippet_has_attachment||!s.snippet_sender)return u;if(s.snippet_sender===t){if(!this.props.shouldRenderYou)return u;return n._("You: {conversation_snippet}",[n.param('conversation_snippet',u)]);}if(v<=1&&!this.props.shouldAlwaysRenderSender)return u;var w=this.props.participants.get(s.snippet_sender);if(!w||!w.short_name)return u;return n._("{name}: {conversation_snippet}",[n.param('name',w.short_name),n.param('conversation_snippet',u)]);},_renderInnerSnippet:function(){var s=this.props.thread,t=s.snippet;if(t&&t.startsWith('?OTR'))return n._("[tin nh\u1eafn \u0111\u00e3 m\u00e3 h\u00f3a]");if(t)return (k.createElement(l,{renderEmoticons:true,renderEmoji:true,text:t.replace(/\r\n|[\r\n]/g,' ')}));if(q(s))return (k.createElement(i,{thread:s,viewer:this.props.viewer}));return null;}});function q(s){return (s.snippet_has_attachment&&s.snippet_attachments&&s.snippet_attachments.length>0);}function r(s){return !s.snippet&&q(s);}f.exports=p;},null);
__d('MercuryThreadTimestamp.react',['ReactComponentWithPureRenderMixin','React','formatDate','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'MercuryThreadTimestamp',mixins:[h],propTypes:{time:l.number,title:l.string,text:l.string},render:function(){var n=this.props.time;if(!n)return i.createElement('abbr',null);return (i.createElement('abbr',{className:k(this.props.className,'timestamp'),title:this.props.title||new Date(n).toLocaleDateString(),'data-utime':n/1000},this.props.text||j(new Date(n),'g:ia')));}});f.exports=m;},null);
__d('P2PGroupSendReceiptDialog.react',['CurrentEnvironment','Image.react','Link.react','P2PAmountUtils','P2PButton.react','P2PBigAmount.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLinkConstants','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PText.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=w.PropTypes,aa=w.createClass({displayName:'P2PGroupSendReceiptDialog',propTypes:{amount:z.string.isRequired,onClose:z.func.isRequired,receiver:z.object.isRequired,sender:z.object.isRequired},componentDidMount:function(){this.log(t.UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount});},log:function(ba,ca){s.log(ba,babelHelpers._extends({www_event_flow:u.UI_FLOW_P2P_GROUP_SEND},ca));},handleClose:function(){this.log(t.UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose();},renderParticipantRow:function(ba,ca){var da;if(ca){da=y._("T\u1eeb");}else da=y._("T\u1edbi");return (w.createElement('li',{className:"_2chg",key:ba.id},w.createElement('div',{className:"_2chh"},w.createElement(j,{href:ba.profile_uri,onClick:this.props.onClose},w.createElement(i,{height:50,src:ba.picture,width:50}))),w.createElement('div',{className:"_2chi"},w.createElement(v,{type:'primary'},w.createElement(v,{type:'secondary'},da),ba.full_name))));},render:function(){var ba=h.messengerdotcom,ca=ba?380:360;return (w.createElement(n,{className:ba?"_bpv":'',layerHideOnBlur:false,onToggle:this.props.onClose,width:ca},w.createElement(q,null,y._("Chi ti\u1ebft thanh to\u00e1n")),w.createElement(o,null,w.createElement('ul',null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),w.createElement('div',{className:"_bpy"},w.createElement(m,{amount:k.sanitizeAmount(this.props.amount),size:'large'})),w.createElement(v,{className:"_bpt",size:'small',type:'secondary'},y._("B\u1ea1n c\u00f3 th\u1ec3 g\u1eedi ti\u1ec1n cho b\u1ea1n b\u00e8 trong nh\u00f3m."),' ',w.createElement(j,{href:r.helpCenterURI,target:'_blank'},y._("T\u00ecm hi\u1ec3u th\u00eam")))),w.createElement(p,null,w.createElement(l,{label:y._("\u0110\u1ed3ng \u00fd"),onClick:this.handleClose,type:'primary'}))));}});f.exports=aa;},null);
__d('PagesMessengerOmnipicker.react',['React','Link.react','Omnipicker.react','ComputerPanel.react','OmnipickerComputerSelector.react','OmnipickerDialog.react','OmnipickerDialogRenderer','OmnipickerPagePostedPhotosPanel.react','OmnipickerPagePostedPhotosSelector.react','OmnipickerPanelList.react','OmnipickerSelectorList.react','OmnipickerWaterfallLogger','PUWApplications','PUWSteps','WaterfallIDGenerator','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=h.PropTypes,aa=h.createClass({displayName:'PagesMessengerOmnipicker',_waterfallLogger:s,_dialogRenderer:null,propTypes:{uploadURI:z.string.isRequired,onPhotosSelected:z.func.isRequired,pageID:z.string.isRequired},componentDidMount:function(){this._waterfallLogger=new s(t.WEB_PAGES_MESSENGER,v.generate());var ba={fileUploadURI:this.props.uploadURI};this._dialogRenderer=new n(h.createElement(m,{onCancel:this._onPickerCancel,title:x._("L\u1ef1a ch\u1ecdn \u1ea3nh")},h.createElement(j,{logger:this._waterfallLogger,onDoneSelecting:this._onDoneSelecting},h.createElement(r,null,h.createElement(l,null),h.createElement(p,null)),h.createElement(q,null,h.createElement(k,{config:ba}),h.createElement(o,{pageID:this.props.pageID})))));},render:function(){return (h.createElement('div',{className:"_k6_"},h.createElement(i,{className:"_k70",onClick:this._onPickerLaunch},h.createElement('i',{alt:x._("M\u00e1y \u1ea3nh"),className:"_k72"}))));},_onPickerLaunch:function(){this._waterfallLogger.logStep(u.CLIENT_FLOW_BEGIN);!this._dialogRenderer?y(0):undefined;this._dialogRenderer.show();},_onPickerCancel:function(){!this._dialogRenderer?y(0):undefined;this._dialogRenderer.hide();this._waterfallLogger.logStep(u.CLIENT_FLOW_CANCEL);},_onDoneSelecting:function(ba){!this._dialogRenderer?y(0):undefined;this._dialogRenderer.hide();this.props.onPhotosSelected(ba);}});f.exports=aa;},null);
__d('PagesManagerCountDownTimer.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m=1000;k=babelHelpers.inherits(n,h.Component);l=k&&k.prototype;function n(o,p){'use strict';l.constructor.call(this,o,p);this.state={timeRemaining:this.$PagesManagerCountDownTimer1(this.props.expireTimestamp),isCountingDown:false};}n.prototype.componentDidMount=function(){'use strict';if(!this.state.isCountingDown)this.$PagesManagerCountDownTimer2();};n.prototype.componentWillReceiveProps=function(o){'use strict';this.setState({timeRemaining:this.$PagesManagerCountDownTimer1(o.expireTimestamp)});if(!this.state.isCountingDown)this.$PagesManagerCountDownTimer2();};n.prototype.render=function(){'use strict';return (h.createElement('div',{className:"_3uo9"+(this.props.isHidden?' '+"hidden_elem":'')},this.$PagesManagerCountDownTimer3()));};n.prototype.$PagesManagerCountDownTimer3=function(){'use strict';var o=Math.floor(this.state.timeRemaining/1000/60),p=this.$PagesManagerCountDownTimer4(Math.floor(o/60)),q=this.$PagesManagerCountDownTimer4(o%60);if(this.props.isNewInbox)return j._("Returning in {hours}:{minutes}",[j.param('hours',p),j.param('minutes',q)]);return j._("C\u00f2n {hours}:{minutes}",[j.param('hours',p),j.param('minutes',q)]);};n.prototype.$PagesManagerCountDownTimer1=function(o){'use strict';return o?o-Date.now():0;};n.prototype.$PagesManagerCountDownTimer2=function(){'use strict';this.setState({isCountingDown:true});var o=(function(){var p=this.$PagesManagerCountDownTimer1(this.props.expireTimestamp);if(p>0){this.setState({timeRemaining:p});this.$PagesManagerCountDownTimer2();return;}this.setState({isCountingDown:false});this.props.onTimeup();}).bind(this);setTimeout(o,m);};n.prototype.$PagesManagerCountDownTimer4=function(o){'use strict';return ("0"+o).slice(-2);};n.defaultProps={isNewInbox:false};f.exports=n;},null);
__d('PagesManagerActionType',['ImmutableObject','keyMirrorRecursive'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=new h(i({LIST:{FETCH:'',FETCHED:'',UPDATED:'',LOAD_MORE:'',LOADING:'',PREVENT_SCROLL:'',SELECT:'',VIEW:''},NAVIGATION_UNIT:{CHANGE:'',NOTIFICATION_COUNT_CHANGE:''},LAYOUT:{HEIGHT_CHANGE:''},SEARCH:{TOGGLE_SEARCH:'',CHANGE_SEARCH_TERM:'',IS_SEARCHING_CHANGED:''}}));f.exports=j;},null);
__d('PagesManagerDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerStore',['PagesManagerActionType','FluxStore','Map','PagesManagerDispatcher'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,k);this.$PagesManagerStore1=null;this.$PagesManagerStore2=0;this.$PagesManagerStore3=0;this.$PagesManagerStore4=[];this.$PagesManagerStore5=new j();}n.prototype.__onDispatch=function(o){'use strict';switch(o.type){case h.LIST.VIEW:this.$PagesManagerStore1=o.listItem;this.__emitChange();break;case h.LIST.SELECT:this.$PagesManagerStore6(o);this.__emitChange();break;case h.LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore2=o.heights.navigationHeight;this.$PagesManagerStore3=o.heights.layoutHeight;this.__emitChange();break;default:return;}};n.prototype.$PagesManagerStore6=function(o){'use strict';this.$PagesManagerStore4=o.selectedRows;o.rowsAdded.forEach((function(p){this.$PagesManagerStore5.set(p,true);}).bind(this));o.rowsRemoved.forEach((function(p){this.$PagesManagerStore5.set(p,false);}).bind(this));};n.prototype.getViewingListItem=function(){'use strict';return this.$PagesManagerStore1;};n.prototype.getLayoutHeight=function(){'use strict';return this.$PagesManagerStore3;};n.prototype.getNavigationHeight=function(){'use strict';return this.$PagesManagerStore2;};n.prototype.getIsRowSelected=function(o){'use strict';return this.$PagesManagerStore5.has(o)?this.$PagesManagerStore5.get(o):false;};n.prototype.getSelectedRows=function(){'use strict';return this.$PagesManagerStore4;};f.exports=new n(k);},null);
__d('PagesManagerListBatchActionContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,j.Component);l=k&&k.prototype;m.getStores=function(){'use strict';return [i];};m.calculateState=function(n){'use strict';var o=i.getSelectedRows(),p=o.length>0;return {showBatchAction:p,selectedRows:o};};m.prototype.render=function(){'use strict';var n=this.props,o=n.ChildClass,p=babelHelpers.objectWithoutProperties(n,['ChildClass']);return (j.createElement(o,babelHelpers._extends({},p,{selectedRows:this.state.selectedRows,showBatchAction:this.state.showBatchAction})));};function m(){'use strict';k.apply(this,arguments);}f.exports=h.create(m);},null);
__d('PagesManagerAction',['PagesManagerActionType','PagesManagerDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={viewListItem:function(k){i.dispatch({type:h.LIST.VIEW,listItem:k});},setHeight:function(k){i.dispatch({type:h.LAYOUT.HEIGHT_CHANGE,heights:k});},handleSelectionChange:function(k,l,m){i.dispatch({type:h.LIST.SELECT,rowsAdded:k,rowsRemoved:l,selectedRows:m});}};f.exports=j;},null);
__d('PagesManagerResizeListener',['EventEmitter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerListDetailLayout.react',['PagesManagerAction','PagesManagerResizeListener','React','ReactDOM','ResizeListener','SubscriptionsHandler','Vector','XUICard.react','Grid.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u=p.GridItem,v=200;s=babelHelpers.inherits(w,j.Component);t=s&&s.prototype;w.getTopOffsetRelativeToView=function(x){'use strict';var y=0;do{if(!isNaN(x.offsetTop))y+=x.offsetTop;}while(x=x.offsetParent);return y;};function w(x,y){'use strict';t.constructor.call(this,x,y);this.state={top:0,height:v};}w.prototype.$PagesManagerListDetailLayout1=function(){'use strict';var x=Math.max(v,n.getViewportDimensions().y-w.getTopOffsetRelativeToView(k.findDOMNode(this))-2-30);this.setState({height:x});var y=n.getElementDimensions(k.findDOMNode(this.refs.navigationSection)).y;h.setHeight({layoutHeight:x,navigationHeight:y});this.setState({top:y+8});};w.prototype.componentDidMount=function(){'use strict';this.$PagesManagerListDetailLayout1();this.$PagesManagerListDetailLayout2=new m();this.$PagesManagerListDetailLayout2.addSubscriptions(l.add((function(){return this.$PagesManagerListDetailLayout1();}).bind(this)),i.addListener('change',(function(){return this.$PagesManagerListDetailLayout1();}).bind(this)));};w.prototype.componentWillUnmount=function(){'use strict';this.$PagesManagerListDetailLayout2&&this.$PagesManagerListDetailLayout2.release();};w.prototype.render=function(){'use strict';var x=this.state.height+'px',y=this.state.top+'px',z=this.props.navigationSection===null?null:j.createElement('div',{className:"_2-97",ref:'navigationSection'},this.props.navigationSection);return (j.createElement(o,{style:{height:x}},z,j.createElement('div',{className:"_10ua",style:{top:y}},j.createElement(p,{alignv:'top',className:"_10ue",cols:2},j.createElement(u,{className:r("_10uf",this.props.listClassName)},this.props.listSection),j.createElement(u,{className:"_10ug"},this.props.detailSection)))));};f.exports=w;},null);
__d('PagesManagerListRowContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,j.Component);l=k&&k.prototype;m.getStores=function(){'use strict';return [i];};m.calculateState=function(n,o){'use strict';var p=false,q=false;if(o&&o.listItem){p=i.getIsRowSelected(o.listItem);q=i.getViewingListItem()===o.listItem;}return {selected:p,isViewing:q};};m.prototype.render=function(){'use strict';var n=this.props,o=n.ChildClass,p=babelHelpers.objectWithoutProperties(n,['ChildClass']);return (j.createElement(o,babelHelpers._extends({ref:'childClass',selected:this.state.selected,isViewing:this.state.isViewing},p)));};function m(){'use strict';k.apply(this,arguments);}f.exports=h.create(m,{withProps:true});},null);
__d('PagesManagerListView.react',['PagesManagerListRowContainer.react','PagesManagerAction','PagesManagerStore','PagesSelectableList.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;m=babelHelpers.inherits(o,l.Component);n=m&&m.prototype;o.prototype.$PagesManagerListView1=function(p){'use strict';i.viewListItem(p);};o.prototype.componentWillUpdate=function(p){'use strict';if(p.navigationKey!==this.props.navigationKey){i.handleSelectionChange([],j.getSelectedRows(),[]);this.refs.selectableList.clearSelection();}};function o(p){'use strict';n.constructor.call(this,p);this.state={scrollableHeight:0};}o.prototype.render=function(){'use strict';var p;if(!this.props.list.length){if(!this.props.initLoading){p=this.props.emptyView;}else p=this.$PagesManagerListView2();}else p=this.$PagesManagerListView3();return (l.createElement(k,{actionBarRightComponent:this.props.actionBarRightContainer,deselectAllLabel:'',enableOnVisible:this.props.hasMoreItem,forceRequestMoreRows:true,height:this.props.height,loadingIndicator:this.props.loadingMoreSpinner,onSelectionChange:this.props.onSelectionChange,onRequestMoreRows:this.props.onScroll,ref:'selectableList',scrollableAreaMode:true,scrollableAreaHasShadow:false},p));};o.prototype.$PagesManagerListView3=function(){'use strict';return this.props.list.map((function(p){return (l.createElement(h,{ChildClass:this.props.listRowContainer,listItem:p,pageID:this.props.pageID,ref:this.props.getKey(p),key:this.props.getKey(p),onViewingListItem:this.$PagesManagerListView1,type:'li'}));}).bind(this));};o.prototype.clearSelection=function(){'use strict';this.refs.selectableList.clearSelection();};o.prototype.$PagesManagerListView2=function(){'use strict';return l.createElement('div',{key:'loading'});};f.exports=o;},null);
__d('PagesManagerStaticStore',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={_pageID:'',setPageID:function(i){this._pageID=i;},getPageID:function(){return this._pageID;}};f.exports=h;},null);
__d('PagesManagerDetailContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,j.Component);l=k&&k.prototype;function m(n){'use strict';l.constructor.call(this,n);this.state={height:0,viewingListItem:null};}m.getStores=function(){'use strict';return [i];};m.calculateState=function(n){'use strict';var o=i.getLayoutHeight()-i.getNavigationHeight();return {height:o,viewingListItem:i.getViewingListItem()};};m.prototype.render=function(){'use strict';var n=this.props,o=n.ChildContainerClass,p=babelHelpers.objectWithoutProperties(n,['ChildContainerClass']);return (j.createElement(o,babelHelpers._extends({height:this.state.height,viewingListItem:this.state.viewingListItem,listItemKey:this.props.getListItemKey(this.state.viewingListItem)},p)));};f.exports=h.create(m);},null);
__d('PagesManagerListContainer.react',['FluxContainer','PagesManagerAction','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,k.Component);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,o);this.state={height:0};}n.getStores=function(){'use strict';return [j];};n.calculateState=function(o){'use strict';var p=j.getLayoutHeight()-j.getNavigationHeight();return {height:p};};n.prototype.render=function(){'use strict';var o=this.props,p=o.ChildContainerClass,q=babelHelpers.objectWithoutProperties(o,['ChildContainerClass']);return (k.createElement(p,babelHelpers._extends({height:this.state.height,onSelectionChange:this.$PagesManagerListContainer1},q)));};n.prototype.$PagesManagerListContainer1=function(o){'use strict';var p=o.rowsAdded,q=o.rowsRemoved,r=o.selectedRows;i.handleSelectionChange(p,q,r);};f.exports=h.create(n);},null);
__d('AbstractPagesManagerListStore',['PagesManagerActionType','FluxStore','Map','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,o);this.__hasMoreItem=new j();this.__isLoading=false;}n.prototype.__onDispatch=function(o){'use strict';switch(o.type){case h.LIST.FETCH:this.__handleListFetch(o);break;case h.LIST.FETCHED:case h.LIST.UPDATED:this.__emitChange();break;case h.LIST.LOADING:this.__isLoading=true;this.__emitChange();break;case h.NAVIGATION_UNIT.CHANGE:this.__handleNavigationUnitChange(o);break;default:return;}};n.prototype.__handleListFetch=function(o){'use strict';k(0);};n.prototype.__handleNavigationUnitChange=function(o){'use strict';k(0);};n.prototype.hasMoreItem=function(o){'use strict';return this.__hasMoreItem.get(o);};n.prototype.getItemList=function(o,p){'use strict';k(0);};n.prototype.isLoading=function(){'use strict';return this.__isLoading;};f.exports=n;},null);
__d('PagesManagerMessagingActionType',['PagesManagerActionType','keyMirrorRecursive'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i({THREAD_LEVEL:{READ_STATUS:'',ARCHIVE_STATUS:'',SPAM_STATUS:'',UPDATE_THREAD:''},MESSAGE_LEVEL:{READ_RECEIPTS:''},SET_SCROLL_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null});Object.assign(j,h);f.exports=j;},null);
__d('PagesManagerMessagingAwayStatusDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerAwayToggleAction',['PagesManagerMessagingActionType','PagesManagerMessagingAwayStatusDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={fetchStatus:function(k){i.dispatch({pageID:k,type:h.AWAY_STATE.FETCH});},setToggleStatus:function(k,l){i.dispatch({pageID:k,toggle:l,type:h.AWAY_STATE.SET});}};f.exports=j;},null);
__d('PagesManagerAwayBanner.react',['PagesManagerAwayToggleAction','Image.react','LeftRight.react','Link.react','PagesManagerResizeListener','PagesManagerCountDownTimer.react','React','XUIText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u='/help/800788243369168';s=babelHelpers.inherits(v,n.Component);t=s&&s.prototype;v.prototype.$PagesManagerAwayBanner1=function(){'use strict';h.setToggleStatus(this.props.pageID,false);};v.prototype.componentDidUpdate=function(w){'use strict';if(w.isAway!==this.props.isAway)l.emit('change');};v.prototype.renderLeftChild=function(){'use strict';var w=this.props.expirationTimestamp*1000;return (n.createElement('div',null,n.createElement(i,{className:"_2fei",src:r('images/pages/pages_manager/messages/clock.png')}),n.createElement(o,{className:"_2fek",size:'small',display:'inline'},q._("Hi\u1ec7n kh\u00f4ng c\u00f3 m\u1eb7t"),n.createElement('div',{className:"_2fel"},n.createElement(m,{expireTimestamp:w,isHidden:!this.props.isAway,isNewInbox:true,onTimeup:(function(){return this.$PagesManagerAwayBanner1();}).bind(this)})))));};v.prototype.renderRightChild=function(){'use strict';return (n.createElement('div',null,n.createElement(k,{className:"_2fem",href:u,target:'_blank'},q._("T\u00ecm hi\u1ec3u th\u00eam")),n.createElement(o,{className:"_2fen",onClick:(function(){h.setToggleStatus(this.props.pageID,false);}).bind(this)},q._("T\u1eaft"))));};v.prototype.render=function(){'use strict';if(!this.props.isInitialized)return n.createElement('div',null);return (n.createElement(j,{className:"_2feo"+(!this.props.isAway?' '+"hidden_elem":'')},this.renderLeftChild(),this.renderRightChild()));};function v(){'use strict';s.apply(this,arguments);}f.exports=v;},null);
__d("XPagesAwayToggleController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/manager\/messages\/awaytoggle\/",{});},null,{});
__d("XPagesAwayToggleStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/manager\/messages\/awaytoggle\/status\/",{});},null,{});
__d('PagesManagerMessagingAwayStatusStore',['ActorURI','AsyncRequest','PagesManagerMessagingActionType','FluxStore','PagesManagerMessagingAwayStatusDispatcher','XPagesAwayToggleController','XPagesAwayToggleStatusController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';o=babelHelpers.inherits(q,k);p=o&&o.prototype;function q(r){p.constructor.call(this,r);this.$PagesManagerMessagingAwayStatusStore1=false;this.$PagesManagerMessagingAwayStatusStore2=false;this.$PagesManagerMessagingAwayStatusStore3=0;}q.prototype.$PagesManagerMessagingAwayStatusStore4=function(r){var s=n.getURIBuilder().getURI();s=h.create(s,r);new i().setURI(s).setHandler((function(t){this.$PagesManagerMessagingAwayStatusStore1=t.payload.isAway;this.$PagesManagerMessagingAwayStatusStore3=t.payload.expiration;this.$PagesManagerMessagingAwayStatusStore2=true;this.__dispatcher.dispatch({type:j.AWAY_STATE.UPDATE});}).bind(this)).send();};q.prototype.$PagesManagerMessagingAwayStatusStore5=function(r,s){var t=m.getURIBuilder().getURI();t=h.create(t,r);new i().setURI(t).setMethod('POST').setData({is_away:s}).setHandler((function(u){this.$PagesManagerMessagingAwayStatusStore1=u.payload.isAway;this.$PagesManagerMessagingAwayStatusStore3=u.payload.expiration;this.__dispatcher.dispatch({type:j.AWAY_STATE.UPDATE});}).bind(this)).send();};q.prototype.__onDispatch=function(r){switch(r.type){case j.AWAY_STATE.SET:this.$PagesManagerMessagingAwayStatusStore5(r.pageID,r.toggle);break;case j.AWAY_STATE.FETCH:this.$PagesManagerMessagingAwayStatusStore4(r.pageID);break;case j.AWAY_STATE.UPDATE:this.__emitChange();break;default:break;}};q.prototype.isAway=function(){return this.$PagesManagerMessagingAwayStatusStore1;};q.prototype.isInitialized=function(){return this.$PagesManagerMessagingAwayStatusStore2;};q.prototype.getExpirationTimestamp=function(){return this.$PagesManagerMessagingAwayStatusStore3;};f.exports=new q(l);},null);
__d('PagesManagerAwayContainer.react',['PagesManagerMessagingAwayStatusStore','PagesManagerAwayToggleAction','FluxContainer','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,k.Component);m=l&&l.prototype;n.getStores=function(){'use strict';return [h];};n.calculateState=function(o,p){'use strict';return {isAway:h.isAway(),isInitialized:h.isInitialized(),expirationTimestamp:h.getExpirationTimestamp()};};n.prototype.componentWillMount=function(){'use strict';i.fetchStatus(this.props.pageID);};n.prototype.render=function(){'use strict';var o=this.props,p=o.RenderClass,q=babelHelpers.objectWithoutProperties(o,['RenderClass']);return (k.createElement(p,babelHelpers._extends({},q,this.state)));};function n(){'use strict';l.apply(this,arguments);}f.exports=j.create(n,{withProps:true});},null);
__d('PagesManagerMessagingComposerActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({ATTACHMENT:{ALL_COMPLETE:'attachment/attach/complete/all',ATTACH_CACHED:'attachment/attach/cached',ATTACH_COMPLETE:'attachment/attach/complete',ATTACH_START:'attachment/attach/start',CANCEL:'attachment/cancel',DETACH:'attachment/detach',DETACH_ALL:'attachment/detach/all'},MESSAGE:{CLEAR:'message/clear',SET:'message/set'},PARTICIPANT:{SET:'participant/set'},SAVED_REPLIES:{LOADING:'saved-replies/loading',SET:'saved-replies/set'},SHARE_UPLOADER:{READY:'share-uploader/ready',CLEAR:'share-uploader/clear'},UPLOADER:{READY:'uploader/ready'}});f.exports=i;},null);
__d('PagesManagerMessagingComposerDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerMessagingComposerActions',['PagesManagerMessagingComposerActionTypes','PagesManagerMessagingComposerDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={clearMessage:function(){i.dispatch({actionType:h.MESSAGE.CLEAR});},clearShareLinkUploader:function(){i.dispatch({actionType:h.SHARE_UPLOADER.CLEAR});},completeAllAttachments:function(){i.dispatch({actionType:h.ATTACHMENT.ALL_COMPLETE});},completeAttachment:function(k){i.dispatch({actionType:h.ATTACHMENT.ATTACH_COMPLETE,attachment:k});},detachAllAttachments:function(){i.dispatch({actionType:h.ATTACHMENT.DETACH_ALL});},detachAttachment:function(k){i.dispatch({actionType:h.ATTACHMENT.DETACH,uploadID:k});},fileUploaderReady:function(k){i.dispatch({actionType:h.UPLOADER.READY,uploader:k});},setIsSavedRepliesLoading:function(k){i.dispatch({actionType:h.SAVED_REPLIES.LOADING,isLoading:k});},setMessage:function(k){i.dispatch({actionType:h.MESSAGE.SET,message:k});},setParticipant:function(k){i.dispatch({actionType:h.PARTICIPANT.SET,participant:k});},setSavedReplies:function(k,l){i.dispatch({actionType:h.SAVED_REPLIES.SET,replies:k,tokens:l});},setShareLinkUploader:function(k){i.dispatch({actionType:h.SHARE_UPLOADER.READY,uploader:k});},startAttachment:function(k){i.dispatch({actionType:h.ATTACHMENT.ATTACH_START,files:k});}};f.exports=j;},null);
__d('PagesManagerMessagingComposerStore',['PagesManagerMessagingComposerActionTypes','FluxStore','Map','MercuryConfig','PagesManagerMessagingComposerDispatcher','PagesMessagingConfig','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';o=babelHelpers.inherits(q,i);p=o&&o.prototype;function q(r){p.constructor.call(this,r);this.$PagesManagerMessagingComposerStore1=new j();this.$PagesManagerMessagingComposerStore2=null;this.$PagesManagerMessagingComposerStore3=false;this.$PagesManagerMessagingComposerStore4='';this.$PagesManagerMessagingComposerStore5=null;this.$PagesManagerMessagingComposerStore6={replies:[],tokens:{}};this.$PagesManagerMessagingComposerStore7=null;}q.prototype.getAllAttachmentsMeta=function(){var r=this.$PagesManagerMessagingComposerStore8(),s=[];for(var t=this.$PagesManagerMessagingComposerStore1.values(),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var w;if(u){if(v>=t.length)break;w=t[v++];}else{v=t.next();if(v.done)break;w=v.value;}var x=w;if(x.id&&r.indexOf(x.id)!==-1||x.isUploading)s.push(x);}return s;};q.prototype.getAttachedAttachmentIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAttachments();return [];};q.prototype.getAttachedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getImageFiles();return [];};q.prototype.getAttachedAnimatedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAnimatedImageFiles();return [];};q.prototype.getAttachedVideoIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getVideoFiles();return [];};q.prototype.getAttachedAudioFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAudioFiles();return [];};q.prototype.getAttachedFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getFiles();return [];};q.prototype.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore2;};q.prototype.getIsAttachmentUploading=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.isUploading();return false;};q.prototype.getIsSavedRepliesLoading=function(){return this.$PagesManagerMessagingComposerStore3;};q.prototype.getMessage=function(){return this.$PagesManagerMessagingComposerStore4;};q.prototype.getQuickReplyMode=function(){return m.sendOnEnter;};q.prototype.getParticipant=function(){return this.$PagesManagerMessagingComposerStore5;};q.prototype.getSavedReplies=function(){return this.$PagesManagerMessagingComposerStore6;};q.prototype.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore7)return this.$PagesManagerMessagingComposerStore7.getAttachData();};q.prototype.getUploadActionFromUserID=function(r){if(!r)return null;return new n(k.upload_url).addQueryData('request_user_id',r).toString();};q.prototype.$PagesManagerMessagingComposerStore9=function(r,s){this.$PagesManagerMessagingComposerStore1.set(s.upload_id,{id:'',isUploading:true,name:s.metadata.filename,type:s.metadata.filetype,uploadID:s.upload_id});};q.prototype.$PagesManagerMessagingComposerStore10=function(r){r.map((function(s){this.$PagesManagerMessagingComposerStore1.set(s.upload_id,{id:'',isUploading:true,name:s.metadata.name,type:s.metadata.type,uploadID:s.upload_id});}).bind(this));};q.prototype.$PagesManagerMessagingComposerStore11=function(){this.$PagesManagerMessagingComposerStore4='';};q.prototype.$PagesManagerMessagingComposerStore12=function(r){if(this.$PagesManagerMessagingComposerStore1.has(r))this.$PagesManagerMessagingComposerStore1['delete'](r);};q.prototype.$PagesManagerMessagingComposerStore13=function(){if(this.$PagesManagerMessagingComposerStore7)this.$PagesManagerMessagingComposerStore7.clear();};q.prototype.$PagesManagerMessagingComposerStore14=function(r){var s;if(this.$PagesManagerMessagingComposerStore1.has(r.upload_id)){s=this.$PagesManagerMessagingComposerStore1.get(r.upload_id);s.id=this.$PagesManagerMessagingComposerStore15(r);s.isUploading=false;this.$PagesManagerMessagingComposerStore1.set(r.upload_id,s);}};q.prototype.$PagesManagerMessagingComposerStore8=function(){if(!this.$PagesManagerMessagingComposerStore2)return [];var r=this.$PagesManagerMessagingComposerStore2;return [].concat(r.getAttachments(),r.getImageFiles(),r.getAnimatedImageFiles(),r.getVideoFiles(),r.getAudioFiles(),r.getFiles());};q.prototype.$PagesManagerMessagingComposerStore15=function(r){return r.metadata.image_id||r.metadata.gif_id||r.metadata.video_id||r.metadata.audio_id||r.metadata.file_id;};q.prototype.__onDispatch=function(r){switch(r.actionType){case h.ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore16();this.__emitChange();break;case h.ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore14(r.attachment);this.__emitChange();break;case h.ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore10(r.files);this.__emitChange();break;case h.ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore17(r.uploadID);this.__emitChange();break;case h.ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore18();this.__emitChange();break;case h.MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore11();break;case h.MESSAGE.SET:this.$PagesManagerMessagingComposerStore19(r.message);this.__emitChange();break;case h.PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore20(r.participant);this.__emitChange();break;case h.SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore21(r.isLoading);this.__emitChange();break;case h.SAVED_REPLIES.SET:this.$PagesManagerMessagingComposerStore22(r.replies,r.tokens);this.__emitChange();break;case h.SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore23(r.uploader);break;case h.SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore13();break;case h.UPLOADER.READY:this.$PagesManagerMessagingComposerStore24(r.uploader);this.$PagesManagerMessagingComposerStore25();break;}};q.prototype.$PagesManagerMessagingComposerStore18=function(){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeAttachments();this.$PagesManagerMessagingComposerStore1.clear();}};q.prototype.$PagesManagerMessagingComposerStore17=function(r){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeOneAttachment(r);this.$PagesManagerMessagingComposerStore12(r);}};q.prototype.$PagesManagerMessagingComposerStore16=function(){this.$PagesManagerMessagingComposerStore1.forEach((function(r,s){if(r.isUploading)this.$PagesManagerMessagingComposerStore1['delete'](r.uploadID);}).bind(this));};q.prototype.$PagesManagerMessagingComposerStore24=function(r){this.$PagesManagerMessagingComposerStore2=r;};q.prototype.$PagesManagerMessagingComposerStore21=function(r){this.$PagesManagerMessagingComposerStore3=r;};q.prototype.$PagesManagerMessagingComposerStore19=function(r){this.$PagesManagerMessagingComposerStore4=r;};q.prototype.$PagesManagerMessagingComposerStore20=function(r){this.$PagesManagerMessagingComposerStore5=r;};q.prototype.$PagesManagerMessagingComposerStore22=function(r,s){this.$PagesManagerMessagingComposerStore6={replies:r,tokens:s};};q.prototype.$PagesManagerMessagingComposerStore23=function(r){this.$PagesManagerMessagingComposerStore7=r;};q.prototype.$PagesManagerMessagingComposerStore25=function(){var r=this.$PagesManagerMessagingComposerStore2;if(r)r.subscribe('cached-file-added',this.$PagesManagerMessagingComposerStore9.bind(this));};f.exports=new q(l);},null);
__d('PagesManagerMessagingComposerAttachmentListItem.react',['Image.react','React','XUICloseButton.react','XUISpinner.react','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';var p=i.PropTypes;n=babelHelpers.inherits(q,i.Component);o=n&&n.prototype;function q(r){o.constructor.call(this,r);this.$PagesManagerMessagingComposerAttachmentListItem1=(function(){return this.props.onDetach(this.props.uploadID);}).bind(this);}q.prototype.$PagesManagerMessagingComposerAttachmentListItem2=function(){if(this.props.type.startsWith('image')){return m('/images/pages/pages_manager/messages/photo-attachment.png');}else if(this.props.type.startsWith('video')){return m('/images/pages/pages_manager/messages/video-attachment.png');}else if(this.props.type.startsWith('audio')){return m('/images/pages/pages_manager/messages/audio-attachment.png');}else if(this.props.type.startsWith('text'))return m('/images/pages/pages_manager/messages/text-attachment.png');return m('/images/pages/pages_manager/messages/general-attachment.png');};q.prototype.$PagesManagerMessagingComposerAttachmentListItem3=function(){return (i.createElement(j,{className:"_2uia",onClick:this.$PagesManagerMessagingComposerAttachmentListItem1}));};q.prototype.$PagesManagerMessagingComposerAttachmentListItem4=function(){return (i.createElement('span',{className:"_2uib"},this.props.isUploading?i.createElement(k,{size:'large'}):i.createElement(h,{src:this.$PagesManagerMessagingComposerAttachmentListItem2(),alt:this.props.type})));};q.prototype.$PagesManagerMessagingComposerAttachmentListItem5=function(){return (i.createElement('span',{className:"_2uic"},this.props.name));};q.prototype.render=function(){return (i.createElement('li',{className:"clearfix _2uid"},i.createElement('span',{className:"_kqe _kqf"},this.$PagesManagerMessagingComposerAttachmentListItem4()),i.createElement('span',{className:"_kqe _kqh"},this.$PagesManagerMessagingComposerAttachmentListItem5()),i.createElement('span',{className:"_kqe _kqi"},this.$PagesManagerMessagingComposerAttachmentListItem3())));};q.propTypes={attachmentID:p.string,isUploading:p.bool,key:p.string,name:p.string,onDetach:p.func,type:p.string,uploadID:p.string};f.exports=q;},null);
__d('PagesManagerMessagingComposerAttachmentList.react',['PagesManagerMessagingComposerAttachmentListItem.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=i.PropTypes;k=babelHelpers.inherits(n,i.Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);}n.prototype.$PagesManagerMessagingComposerAttachmentList1=function(o){return (i.createElement(h,{isUploading:o.isUploading,key:o.uploadID,name:o.name,onDetach:this.props.onDetach,type:o.type,uploadID:o.uploadID}));};n.prototype.render=function(){if(this.props.attachments.length>0)return (i.createElement('ul',{className:"_27ru"},this.props.attachments.map(this.$PagesManagerMessagingComposerAttachmentList1,this)));return null;};n.propTypes={attachments:m.array.isRequired,onDetach:m.func.isRequired};n.defaultProps={attachments:[]};f.exports=n;},null);
__d("XPagesSavedResponseImagePreviewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/image\/preview\/",{});},null,{});
__d('PagesManagerMessagingSavedRepliesListItem.react',['ActorURI','AsyncRequest','LeftRight.react','React','SavedResponsesImage.react','SavedResponsesTokensUtils','SavedResponsesUtils','XPagesSavedResponsesImageDuplicationController','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;'use strict';var t=k.PropTypes,u=53,v=53;r=babelHelpers.inherits(w,k.Component);s=r&&r.prototype;function w(x){s.constructor.call(this,x);this.state={isHovering:false};}w.prototype.$PagesManagerMessagingSavedRepliesListItem1=function(){if(this.props.reply.image){var x=this.props.reply.image.id;return (k.createElement(l,{className:"_3-9b _wba",displayClassName:"_wba",height:u,imageID:x,loadingClassName:"_wba",pageID:this.props.pageID,shouldShowCloseButton:false,width:v}));}};w.prototype.$PagesManagerMessagingSavedRepliesListItem2=function(){if(this.props.reply.title)return (k.createElement('h4',{className:"_wbb"},this.props.reply.title));};w.prototype.$PagesManagerMessagingSavedRepliesListItem3=function(){var x=m.prepareforSend(this.props.reply.message,this.props.tokens),y=null,z,aa;if(!this.props.reply.image){this.props.onClick(x,y);return;}y=this.props.reply.image.id;z=o.getURIBuilder().getURI();aa=h.create(z,this.props.pageID);new i().setURI(aa).setMethod('POST').setData({image_id:y}).setHandler((function(ba){var ca=n.generateImageMetadata(''+ba.payload.duplicatedImageID);this.props.onClick(x,ca);}).bind(this)).send();};w.prototype.$PagesManagerMessagingSavedRepliesListItem4=function(){var x=m.prepareforSend(this.props.reply.message,this.props.tokens);this.props.onMouseEnter(x);};w.prototype.$PagesManagerMessagingSavedRepliesListItem5=function(x){var y=0,z=0,aa=/\{{(.*?)\}}/g,ba=aa.exec(x),ca=0,da=[];while(ba!=null){z=ba.index;da.push(k.createElement('span',{key:'token:'+ca},x.substring(y,z)));y=z+ba[0].length;ca+=1;var ea=ba[1] in this.props.tokens?this.props.tokens[ba[1]].value:ba[1];da.push(k.createElement('span',{className:"_3p6b",key:'token:'+ca},ea));ba=aa.exec(x);ca+=1;}da.push(k.createElement('span',{key:'token:'+ca},x.substring(y,x.length)));ca+=1;return da;};w.prototype.render=function(){return (k.createElement('li',{className:q("_2ph_ _1_2c",this.props.className),onClick:(function(){return this.$PagesManagerMessagingSavedRepliesListItem3();}).bind(this),onMouseEnter:(function(){return this.$PagesManagerMessagingSavedRepliesListItem4();}).bind(this),onMouseLeave:(function(){return this.props.onMouseLeave();}).bind(this),ref:'replyItem'},k.createElement(j,{direction:'right'},k.createElement('div',null,this.$PagesManagerMessagingSavedRepliesListItem2(),this.$PagesManagerMessagingSavedRepliesListItem5(this.props.reply.message)),this.$PagesManagerMessagingSavedRepliesListItem1())));};w.propTypes={className:t.string,onClick:t.func.isRequired,onMouseEnter:t.func.isRequired,onMouseLeave:t.func.isRequired,pageID:t.string.isRequired,reply:t.object.isRequired,tokens:t.object.isRequired};f.exports=w;},null);
__d('PagesManagerMessagingSavedRepliesList.react',['Link.react','React','PagesManagerMessagingSavedRepliesListItem.react','ScrollableArea.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=i.PropTypes;o=babelHelpers.inherits(r,i.Component);p=o&&o.prototype;r.prototype.$PagesManagerMessagingSavedRepliesList1=function(s){return (s.message.toLowerCase().indexOf(this.props.filter)!==-1||(s.title||'').toLowerCase().indexOf(this.props.filter)!==-1);};r.prototype.render=function(){return (i.createElement('div',{className:"_1_25"+(this.props.isLoading?' '+"_1_26":'')+(!this.props.isLoading&&this.props.replies.length===0?' '+"_1_27":'')},this.props.isLoading?this.$PagesManagerMessagingSavedRepliesList2():null,this.$PagesManagerMessagingSavedRepliesList3()));};r.prototype.$PagesManagerMessagingSavedRepliesList4=function(){return (i.createElement(h,{onClick:(function(){return this.props.onCreateNewReply();}).bind(this),className:"_1_2a"},n._("T\u1ea1o c\u00e2u tr\u1ea3 l\u1eddi m\u1edbi")));};r.prototype.$PagesManagerMessagingSavedRepliesList5=function(){return (i.createElement('div',{className:"_2ph_ _1_28"},i.createElement('p',null,this.$PagesManagerMessagingSavedRepliesList6()),i.createElement('p',null,this.$PagesManagerMessagingSavedRepliesList4())));};r.prototype.$PagesManagerMessagingSavedRepliesList2=function(){return (i.createElement('div',null,i.createElement('div',{className:"_2ph_ _1_29"},i.createElement(l,{size:'large'}))));};r.prototype.$PagesManagerMessagingSavedRepliesList6=function(){return n._("Ph\u1ea7n cu\u1ed1i c\u1ee7a c\u00e2u tr\u1ea3 l\u1eddi \u0111\u00e3 l\u01b0u");};r.prototype.$PagesManagerMessagingSavedRepliesList3=function(){return (i.createElement(k,{fade:true,shadow:false,height:300},i.createElement('ul',{className:"_1_2b"},this.props.replies.map(this.$PagesManagerMessagingSavedRepliesList7,this),i.createElement('li',{className:"_2ph_ _1_2c"},this.$PagesManagerMessagingSavedRepliesList5()))));};r.prototype.$PagesManagerMessagingSavedRepliesList7=function(s,t){return (i.createElement(j,{className:!this.$PagesManagerMessagingSavedRepliesList1(s)?"hidden_elem":'',key:t,onClick:this.props.onReplySelected,onMouseEnter:this.props.onReplyMouseEnter,onMouseLeave:this.props.onReplyMouseLeave,pageID:this.props.pageID,reply:s,tokens:this.props.tokens}));};function r(){o.apply(this,arguments);}r.defaultProps={filter:''};r.propTypes={filter:q.string,isLoading:q.bool.isRequired,onCreateNewReply:q.func.isRequired,onReplyMouseEnter:q.func.isRequired,onReplyMouseLeave:q.func.isRequired,onReplySelected:q.func.isRequired,pageID:q.string.isRequired,replies:q.array.isRequired,tokens:q.object.isRequired};f.exports=r;},null);
__d('PagesManagerMessagingSavedRepliesFlyout.react',['Image.react','LeftRight.react','Link.react','PagesManagerMessagingSavedRepliesList.react','React','XUICloseButton.react','XUITextInput.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;'use strict';var t=l.PropTypes;r=babelHelpers.inherits(u,l.Component);s=r&&r.prototype;function u(v){s.constructor.call(this,v);this.state={searchQuery:''};}u.prototype.$PagesManagerMessagingSavedRepliesFlyout1=function(v){var w=v.target.value;this.setState({searchQuery:w});};u.prototype.$PagesManagerMessagingSavedRepliesFlyout2=function(){this.setState({searchQuery:''});};u.prototype.render=function(){return (l.createElement('div',{className:"_201v"},this.$PagesManagerMessagingSavedRepliesFlyout3(),this.$PagesManagerMessagingSavedRepliesFlyout4(),this.$PagesManagerMessagingSavedRepliesFlyout5()));};u.prototype.$PagesManagerMessagingSavedRepliesFlyout3=function(){return (l.createElement('div',{className:"_2ph_ _201w"},l.createElement(i,null,l.createElement('h3',{className:"_201x"},p._("Saved Save Replies")),l.createElement(j,{className:'PagesManagerMessagingSavedRepliesFlyout/manageLink',onClick:this.props.onManageReplies},p._("Qu\u1ea3n l\u00fd c\u00e2u tr\u1ea3 l\u1eddi")))));};u.prototype.$PagesManagerMessagingSavedRepliesFlyout5=function(){return (l.createElement(k,{filter:this.state.searchQuery,isLoading:this.props.isLoading,onCreateNewReply:this.props.onCreateNewReply,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,tokens:this.props.tokens}));};u.prototype.$PagesManagerMessagingSavedRepliesFlyout4=function(){return (l.createElement('div',{className:"_2ph_ _201y"},l.createElement(h,{className:"_201z",src:q('/images/browse/search/search-gray.png')}),l.createElement(n,{className:"_201-",onChange:this.$PagesManagerMessagingSavedRepliesFlyout1.bind(this),ref:'inputField',placeholder:p._("Search Saved Replies"),value:this.state.searchQuery}),l.createElement(m,{size:'small',onClick:this.$PagesManagerMessagingSavedRepliesFlyout2.bind(this),className:this.state.searchQuery.length===0?"hidden_elem":''})));};u.propTypes={isLoading:t.bool.isRequired,onCreateNewReply:t.func.isRequired,onManageReplies:t.func.isRequired,onReplyMouseEnter:t.func.isRequired,onReplyMouseLeave:t.func.isRequired,onReplySelected:t.func.isRequired,pageID:t.string.isRequired,replies:t.array.isRequired,tokens:t.object.isRequired};f.exports=u;},null);
__d('PagesManagerMessagingSavedRepliesButton.react',['Image.react','Link.react','PagesManagerMessagingSavedRepliesFlyout.react','React','SavedResponsesConstants','SavedResponsesManagePanel.react','XUIContextualDialog.react','XUIDialog.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=k.PropTypes,v=600,w=405;s=babelHelpers.inherits(x,k.Component);t=s&&s.prototype;function x(y){t.constructor.call(this,y);this.state={initialSavedResponsesManageViewType:l.editPanelViewMode.LIST,isFlyoutShown:false,isManageDialogVisible:false};}x.prototype.$PagesManagerMessagingSavedRepliesButton1=function(){this.props.onFetchReplies();this.setState({isFlyoutShown:!this.state.isFlyoutShown});};x.prototype.$PagesManagerMessagingSavedRepliesButton2=function(){this.props.onFetchReplies();this.setState({isManageDialogVisible:false});};x.prototype.$PagesManagerMessagingSavedRepliesButton3=function(){setTimeout((function(){this.setState({isFlyoutShown:false});}).bind(this),0);};x.prototype.render=function(){var y=q._("Ch\u1ecdn c\u00e2u tr\u1ea3 l\u1eddi \u0111\u00e3 l\u01b0u");return (k.createElement('div',null,k.createElement(i,{'aria-label':this.props.showTooltip?y:null,className:"_3xmz",'data-hover':'tooltip','data-tooltip-align':'right',onClick:this.$PagesManagerMessagingSavedRepliesButton1.bind(this)},k.createElement(h,{alt:'',className:"_3xm-",ref:'icon',src:r('/images/pages/pages_manager/messages/composer-saved-replies.png'),tabIndex:0})),this.$PagesManagerMessagingSavedRepliesButton4(),this.$PagesManagerMessagingSavedRepliesButton5()));};x.prototype.$PagesManagerMessagingSavedRepliesButton4=function(){if(this.state.isFlyoutShown)return (k.createElement(n,{alignment:'right',className:"_3xm_",contextRef:(function(){return this.refs.icon;}).bind(this),hasActionableContext:true,hideOnEscape:false,onBlur:this.$PagesManagerMessagingSavedRepliesButton3.bind(this),position:'above',ref:'flyoutDialog',shown:this.state.isFlyoutShown,width:w},k.createElement(j,{isLoading:this.props.isSavedRepliesLoading,onCreateNewReply:(function(){return this.setState({isManageDialogVisible:true,initialSavedResponsesManageViewType:l.editPanelViewMode.CREATE});}).bind(this),onManageReplies:(function(){return this.setState({isManageDialogVisible:true,initialSavedResponsesManageViewType:l.editPanelViewMode.LIST});}).bind(this),onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,tokens:this.props.tokens})));};x.prototype.$PagesManagerMessagingSavedRepliesButton5=function(){if(this.state.isManageDialogVisible)return (k.createElement(o,{layerHideOnBlur:false,ref:'managementDialog',shown:this.state.isManageDialogVisible,width:v},k.createElement(m,{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$PagesManagerMessagingSavedRepliesButton2.bind(this),otherUserID:this.props.recipientID,pageID:this.props.pageID})));};x.propTypes={isSavedRepliesLoading:u.bool.isRequired,onFetchReplies:u.func.isRequired,onReplyMouseEnter:u.func.isRequired,onReplyMouseLeave:u.func.isRequired,onReplySelected:u.func.isRequired,pageID:u.string.isRequired,recipientID:u.string.isRequired,replies:u.array.isRequired,showTooltip:u.bool,tokens:u.object.isRequired};x.defaultProps={showTooltip:true};f.exports=x;},null);
__d("XPagesMessagingSuggestedResponseController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/suggestedresponse\/",{});},null,{});
__d('PagesManagerMessagingComposerView.react',['PagesManagerMessagingComposerAttachmentList.react','Image.react','MercuryDragDropPrompt.react','PagesManagerMessagingSavedRepliesButton.react','PagesMessageSuggestedResponseHandler','PagesMessengerFileUploader.react','PagesMessengerOmnipicker.react','PagesMessengerSuggestedResponseView.react','PagesMessengerTextInput.react','React','UFIStickerButton.react','XUIButton.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;'use strict';var y=q.PropTypes,z=function(){};w=babelHelpers.inherits(aa,q.Component);x=w&&w.prototype;function aa(ba){x.constructor.call(this,ba);this.state={isAttachmentsButtonVisible:true,isSavedRepliesButtonVisible:true,isStickerButtonVisible:true,placeholder:''};}aa.prototype.componentDidUpdate=function(ba,ca){if(this.props.onInitialRender&&!ba.participant&&this.props.participant)this.props.onInitialRender();if(ba&&ba.message!==this.props.message)this.refs.textInput.updateHeight();};aa.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerView1(this.props);};aa.prototype.componentWillReceiveProps=function(ba){this.$PagesManagerMessagingComposerView1(ba,this.state);};aa.prototype.$PagesManagerMessagingComposerView1=function(ba){var ca=ba.attachments.length,da=ba.message.length;this.setState({isSavedRepliesButtonVisible:da<1&&ca<1,isStickerButtonVisible:da<1&&ca<1});};aa.prototype.$PagesManagerMessagingComposerView2=function(){return (this.props.canAttachFiles&&this.state.isAttachmentsButtonVisible);};aa.prototype.$PagesManagerMessagingComposerView3=function(){return (this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible);};aa.prototype.$PagesManagerMessagingComposerView4=function(){return (this.props.canUseStickers&&this.state.isStickerButtonVisible);};aa.prototype.$PagesManagerMessagingComposerView5=function(ba){this.props.onEmoticonSelected(ba,this.refs.textInput.getTextFieldDOM());};aa.prototype.$PagesManagerMessagingComposerView6=function(ba){ba.preventDefault();this.props.onSend();};aa.prototype.$PagesManagerMessagingComposerView7=function(){if(this.$PagesManagerMessagingComposerView2()){if(this.props.canUseOmnipicker)return (q.createElement('div',{className:"_4dvy"},q.createElement(n,{onPhotosSelected:this.props.onOmnipickerPhotosSelected,uploadURI:this.props.uploaderActionURI,pageID:this.props.userID})));return (q.createElement('div',{className:"_4dvy"},q.createElement(m,{actionURI:this.props.uploaderActionURI,iconSize:'large',onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:'fileUploader'})));}};aa.prototype.$PagesManagerMessagingComposerView8=function(){if(this.props.canAttachFiles)return (q.createElement(h,{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:'attachmentList'}));};aa.prototype.$PagesManagerMessagingComposerView9=function(){var ba=this.state.placeholder||u._("Vi\u1ebft tr\u1ea3 l\u1eddi...");return (q.createElement('div',{className:"_4dv-"},q.createElement(p,{className:"_1p7p _5id1 _4dv_",onNoShiftEnter:this.props.isQuickReplyMode?(function(ca){return this.$PagesManagerMessagingComposerView6(ca);}).bind(this):null,placeholder:ba,onChange:this.props.onInputChange,value:this.props.message,ref:'textInput'})));};aa.prototype.$PagesManagerMessagingComposerView10=function(){return (q.createElement('div',{className:"_6fk",ref:'linkPreview'}));};aa.prototype.$PagesManagerMessagingComposerView11=function(){return (q.createElement('div',{className:"_4dw0"},q.createElement(i,{className:"_1cjc",src:this.props.participant.image_src})));};aa.prototype.$PagesManagerMessagingComposerView12=function(){if(this.$PagesManagerMessagingComposerView3()&&this.props.recipientID)return (q.createElement('span',{className:"_4dw1"},q.createElement(k,{recipientID:this.props.recipientID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$PagesManagerMessagingComposerView13.bind(this),onReplyMouseLeave:this.$PagesManagerMessagingComposerView14.bind(this),onReplySelected:this.$PagesManagerMessagingComposerView15.bind(this),pageID:this.props.userID,replies:this.props.savedReplies.replies,showTooltip:true,tokens:this.props.savedReplies.tokens})));};aa.prototype.$PagesManagerMessagingComposerView16=function(){var ba=u._("G\u1eedi");return (q.createElement('div',{className:"_4dw3"},q.createElement(s,{disabled:this.props.isSendBlocked,label:ba,onClick:(function(ca){return this.$PagesManagerMessagingComposerView6(ca);}).bind(this),use:'confirm'})));};aa.prototype.$PagesManagerMessagingComposerView17=function(){var ba=u._("\u0110\u0103ng nh\u00e3n d\u00e1n");if(this.$PagesManagerMessagingComposerView4())return (q.createElement('span',{className:"_4dw4"},q.createElement(r,{onStickerSelected:this.props.onStickerSelected,onEmoticonSelected:(function(ca){return this.$PagesManagerMessagingComposerView5(ca);}).bind(this)},q.createElement(i,{alt:ba,className:"_3fhi",src:v('/images/pages/pages_manager/messages/composer-stickers.png')}))));};aa.prototype.$PagesManagerMessagingComposerView18=function(){return (q.createElement(o,{suggestedResponseHandler:this.props.suggestedResponseHandler,onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline}));};aa.prototype.render=function(){if(!this.props.participant)return q.createElement('div',{className:"_26ue"});return (q.createElement('div',{className:"__1d"},q.createElement(j,null),q.createElement('div',{className:"_4dw9"},this.$PagesManagerMessagingComposerView11(),this.$PagesManagerMessagingComposerView9(),q.createElement('div',{className:"_3-8o _4dwa"},this.$PagesManagerMessagingComposerView7(),this.$PagesManagerMessagingComposerView17(),this.$PagesManagerMessagingComposerView12(),this.$PagesManagerMessagingComposerView16())),q.createElement('div',{className:"_6fl"},this.$PagesManagerMessagingComposerView18(),this.$PagesManagerMessagingComposerView10()),this.$PagesManagerMessagingComposerView8()));};aa.prototype.$PagesManagerMessagingComposerView13=function(ba){this.setState({placeholder:ba});};aa.prototype.$PagesManagerMessagingComposerView14=function(){this.setState({placeholder:''});};aa.prototype.$PagesManagerMessagingComposerView15=function(ba,ca){this.setState({placeholder:''});this.props.onReplySelected(ba,ca);};aa.propTypes={attachments:y.array,canAttachFiles:y.bool,canUseSavedReplies:y.bool,canUseStickers:y.bool,isQuickReplyMode:y.bool,isSavedRepliesLoading:y.bool,isSendBlocked:y.bool,message:y.string.isRequired,onAttachmentDetach:y.func,onEmoticonSelected:y.func,onFetchReplies:y.func.isRequired,onFileUploaderSubmit:y.func,onFileUploaderMounted:y.func,onFileUploadFinished:y.func,onInitialRender:y.func,onInputChange:y.func,onSend:y.func,onStickerSelected:y.func,onSuggestedResponseAccept:y.func,onSuggestedResponseDecline:y.func,participant:y.object,recipientID:y.string,savedReplies:y.object,suggestedResponseHandler:y.instanceOf(l),uploaderActionURI:y.string,userID:y.string};aa.defaultProps={attachments:[],canAttachFiles:true,canUseOmnipicker:false,canUseSavedReplies:true,canUseStickers:true,isSendBlocked:false,onAttachmentDetach:z,onEmoticonSelected:z,onFileUploaderMounted:z,onFileUploaderSubmit:z,onFileUploadFinished:z,onInputChange:z,onSend:z,onStickerSelected:z,onSuggestedResponseAccept:z};f.exports=aa;},null);
__d('PagesManagerMessagingComposerContainer.react',['DragDropTarget','EmoticonsList','EmoticonUtils','FluxContainer','MercuryIDs','MercuryMessageActions','MercuryMessageObject','MercuryParticipants','MercurySourceType','PagesEventObserver','PagesEventType','PagesManagerMessagingComposerActions','PagesManagerMessagingComposerStore','PagesManagerMessagingComposerView.react','PagesMessagingConfig','PagesMessengerShareLinkUploader','React','ReactDOM','SavedResponsesUtils','SelectionPosition','SubscriptionsHandler','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da,ea;'use strict';var fa=x.PropTypes;da=babelHelpers.inherits(ga,x.Component);ea=da&&da.prototype;ga.getStores=function(){return [t];};ga.calculateState=function(ha,ia){var ja=ha?ha.isShareLinkUploading:false;return {attachments:t.getAllAttachmentsMeta(),isAttachmentUploading:t.getIsAttachmentUploading(),isSavedRepliesLoading:t.getIsSavedRepliesLoading(),isQuickReplyMode:t.getQuickReplyMode(),isShareLinkUploading:ja,message:t.getMessage(),participant:t.getParticipant(),savedReplies:t.getSavedReplies(),uploaderActionURI:t.getUploadActionFromUserID(ia.userID)};};ga.prototype.$PagesManagerMessagingComposerContainer1=function(ha){this.$PagesManagerMessagingComposerContainer2.addSubscriptions(ha.subscribe('one-upload-completed',this.$PagesManagerMessagingComposerContainer3.bind(this)));};ga.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerContainer4(this.props);this.$PagesManagerMessagingComposerContainer5(this.props.userID);this.$PagesManagerMessagingComposerContainer2=new ba();};ga.prototype.componentWillReceiveProps=function(ha){this.$PagesManagerMessagingComposerContainer4(ha);if(ha.threadID!==this.props.threadID){s.clearMessage();s.detachAllAttachments();}if(ha.userID!==this.props.userID)this.$PagesManagerMessagingComposerContainer5(ha.userID);};ga.prototype.componentWillUpdate=function(ha,ia){if(this.props.onMessageOrAttachmentUpdate&&(ia.attachments.length!==this.state.attachments.length||ia.message!==this.state.message))this.props.onMessageOrAttachmentUpdate();};ga.prototype.componentWillUnmount=function(){this.$PagesManagerMessagingComposerContainer2&&this.$PagesManagerMessagingComposerContainer2.release();};ga.prototype.$PagesManagerMessagingComposerContainer6=function(){var ha=new w(y.findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.getTextFieldDOM(),ca,ca);this.$PagesManagerMessagingComposerContainer2.addSubscriptions(ha.subscribe('link-detected',(function(){this.setState({isShareLinkUploading:true});this.props.onMessageOrAttachmentUpdate();}).bind(this)),ha.subscribe('share-loaded',(function(){this.setState({isShareLinkUploading:false});}).bind(this)),ha.subscribe('closed',(function(){this.props.onMessageOrAttachmentUpdate();}).bind(this)));if(v.dragdropEnabled){this.$PagesManagerMessagingComposerContainer7=this.$PagesManagerMessagingComposerContainer7||new h(y.findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer7.setOnURLDropCallback(function(ia){return (ha.loadShare(ia));});}s.setShareLinkUploader(ha);};ga.prototype.$PagesManagerMessagingComposerContainer8=function(){if(this.state.isSavedRepliesLoading||!this.props.userID||!this.props.recipientID)return;s.setIsSavedRepliesLoading(true);z.fetchSavedResponses(this.props.userID,this.props.recipientID,function(ha,ia){s.setIsSavedRepliesLoading(false);s.setSavedReplies(ha,ia);});};ga.prototype.$PagesManagerMessagingComposerContainer4=function(ha){this.$PagesManagerMessagingComposerContainer9=n.getForFBID(ha.userID);this.$PagesManagerMessagingComposerContainer10=m.getForFBID(ha.userID);};ga.prototype.$PagesManagerMessagingComposerContainer5=function(ha){var ia=l.getParticipantIDFromUserID(ha);o.get(ia,function(ja){s.setParticipant(ja);});};ga.prototype.isSendBlocked=function(){if(this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===''&&this.state.attachments.length<1)return true;return false;};ga.prototype.$PagesManagerMessagingComposerContainer11=function(ha){s.detachAttachment(ha);};ga.prototype.$PagesManagerMessagingComposerContainer12=function(ha,ia){var ja=i.symbols[ha];if(!ja)return;this.$PagesManagerMessagingComposerContainer13=this.$PagesManagerMessagingComposerContainer13||new aa(ia);var ka=j.insertEmoticon(ja,this.state.message,this.$PagesManagerMessagingComposerContainer13.getPos());this.$PagesManagerMessagingComposerContainer13.setPos(ka.start,ka.end);s.setMessage(ka.result);};ga.prototype.$PagesManagerMessagingComposerContainer14=function(ha){this.$PagesManagerMessagingComposerContainer1(ha);if(v.dragdropEnabled){this.$PagesManagerMessagingComposerContainer7=this.$PagesManagerMessagingComposerContainer7||new h(y.findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer7.setOnFilesDropCallback(this.$PagesManagerMessagingComposerContainer15.bind(this));}s.fileUploaderReady(ha);};ga.prototype.$PagesManagerMessagingComposerContainer3=function(ha,ia){s.completeAttachment(ia);};ga.prototype.$PagesManagerMessagingComposerContainer16=function(ha,ia){s.startAttachment(ia.files);};ga.prototype.$PagesManagerMessagingComposerContainer17=function(ha){if(ha==='all-uploads-completed'){s.completeAllAttachments();}else ha==='upload-canceled';};ga.prototype.$PagesManagerMessagingComposerContainer18=function(ha){s.setMessage(ha.target.value);};ga.prototype.$PagesManagerMessagingComposerContainer19=function(ha,ia){var ja=t.getFileUploader();s.detachAllAttachments();s.setMessage(ha);if(ia&&ja)ja.addCachedAttachments([ia]);if(this.refs.composer&&this.refs.composer.refs.textInput)this.refs.composer.refs.textInput.getTextFieldDOM().focus();};ga.prototype.$PagesManagerMessagingComposerContainer20=function(ha){var ia=t.getFileUploader();if(ia)ia.addCachedAttachments(ha.map(function(ja){return {filename:'Photo.jpg',image_id:ja.fbid,filetype:'image/jpeg'};}));};ga.prototype.$PagesManagerMessagingComposerContainer21=function(){var ha=this.state.message,ia=t.getAttachedAttachmentIds(),ja=t.getAttachedImageIds(),ka=t.getAttachedAnimatedImageIds(),la=t.getAttachedVideoIds(),ma=t.getAttachedAudioFilesIds(),na=t.getAttachedFilesIds(),oa=t.getShareLink(),pa=this.$PagesManagerMessagingComposerContainer9.constructUserGeneratedMessageObject(ha,p.TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!ha&&!ia.length&&!ma.length&&!ja.length&&!na.length&&!ka.length&&!la.length&&!oa)return;if(oa){pa.has_attachment=true;pa.content_attachment=oa;}if(ia.length>0){pa.has_attachment=true;pa.raw_attachments=ia;}if(ja.length>0){pa.image_ids=ja;pa.has_attachment=true;}if(ka.length>0){pa.gif_ids=ka;pa.has_attachment=true;}if(la.length>0){pa.video_ids=la;pa.has_attachment=true;}if(ma.length>0){pa.audio_ids=ma;pa.has_attachment=true;}if(na.length>0){pa.file_ids=na;pa.has_attachment;}q.logData_DEPRECATED({page_id:this.props.user,event_name:r.MESSAGES_DIALOG_SEND,thread_id:this.props.threadElementID},null);this.$PagesManagerMessagingComposerContainer10.send(pa);s.detachAllAttachments();s.clearMessage();s.clearShareLinkUploader();};ga.prototype.$PagesManagerMessagingComposerContainer22=function(ha){var ia=this.$PagesManagerMessagingComposerContainer9.constructUserGeneratedMessageObject('',p.TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);ia.has_attachment=true;ia.sticker_id=ha;this.$PagesManagerMessagingComposerContainer10.send(ia);s.clearMessage();};ga.prototype.$PagesManagerMessagingComposerContainer15=function(ha){if(this.refs.composer&&this.refs.composer.refs.fileUploader)this.refs.composer.refs.fileUploader.addFiles(ha);};ga.prototype.render=function(){return (x.createElement(u,babelHelpers._extends({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.$PagesManagerMessagingComposerContainer11.bind(this),onEmoticonSelected:this.$PagesManagerMessagingComposerContainer12.bind(this),onFetchReplies:this.$PagesManagerMessagingComposerContainer8.bind(this),onFileUploaderMounted:this.$PagesManagerMessagingComposerContainer14.bind(this),onFileUploaderSubmit:this.$PagesManagerMessagingComposerContainer16.bind(this),onFileUploadFinished:this.$PagesManagerMessagingComposerContainer17.bind(this),onInitialRender:(function(){return this.$PagesManagerMessagingComposerContainer6();}).bind(this),onInputChange:(function(ha){return this.$PagesManagerMessagingComposerContainer18(ha);}).bind(this),onOmnipickerPhotosSelected:this.$PagesManagerMessagingComposerContainer20.bind(this),onReplySelected:this.$PagesManagerMessagingComposerContainer19.bind(this),onSend:(function(){return this.$PagesManagerMessagingComposerContainer21();}).bind(this),onStickerSelected:this.$PagesManagerMessagingComposerContainer22.bind(this),ref:'composer'})));};function ga(){da.apply(this,arguments);}ga.propTypes={creatorInfo:fa.object,onMessageOrAttachmentUpdate:fa.func,threadElementID:fa.string,threadID:fa.string,userID:fa.string};f.exports=k.create(ga,{withProps:true});},null);
__d('PagesManagerMessagingNavigationUnitKey',['MercuryFilters','MessagingTag','PageMessageEnumTag'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={FILTERS:{ALL:h.ALL,UNREAD:h.UNREAD,FLAGGED:j.FLAG},FOLDERS:{INBOX:i.INBOX,ARCHIVED:i.ACTION_ARCHIVED,SPAM:i.SPAM}};f.exports=k;},null);
__d('PagesManagerNavigationUnit',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$PagesManagerNavigationUnit1=j;}i.prototype.getDisplayTitle=function(){h(0);};i.prototype.getKey=function(){return this.$PagesManagerNavigationUnit1;};i.prototype.getNotificationCount=function(j,k){return 0;};f.exports=i;},null);
__d('PagesManagerMessagingAllNavigationUnit',['PagesManagerMessagingNavigationUnitKey','PagesManagerNavigationUnit','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,i);l=k&&k.prototype;function m(){l.constructor.call(this,h.FILTERS.ALL);}m.prototype.getDisplayTitle=function(){return j._("T\u1ea5t c\u1ea3");};f.exports=m;},null);
__d('PagesManagerMessagingFolderNavigationUnit',['immutable','PagesManagerMessagingNavigationUnitKey','PagesManagerNavigationUnit','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.List;l=babelHelpers.inherits(o,j);m=l&&l.prototype;o.prototype.getSupportedFilterKeys=function(){return n([i.FILTERS.ALL]);};o.prototype.assertSupportsFilter=function(p){!(this.getSupportedFilterKeys().indexOf(p.getKey())>=0)?k(0):undefined;};function o(){l.apply(this,arguments);}f.exports=o;},null);
__d('PagesManagerMessagingArchiveNavigationUnit',['PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){l.constructor.call(this,i.FOLDERS.ARCHIVED);}m.prototype.getDisplayTitle=function(){return j._("\u0110\u00e3 l\u01b0u tr\u1eef");};f.exports=m;},null);
__d('PagesManagerMessagingFlaggedNavigationUnit',['PagesManagerNavigationUnit','PagesManagerMessagingNavigationUnitKey','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){l.constructor.call(this,i.FILTERS.FLAGGED);}m.prototype.getDisplayTitle=function(){return j._("\u0110\u00e3 g\u1eafn c\u1edd");};f.exports=m;},null);
__d('PagesManagerMessagingUnreadCountHelper',['MercuryThreadlistConstants','MercuryUnreadState'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getUnreadCount:function(k,l){var m=i.getForFBID(k),n=m.exceedsMaxCount(l);return n?h.MAX_UNREAD_COUNT:m.getUnreadCount(l);}};f.exports=j;},null);
__d('PagesManagerMessagingInboxNavigationUnit',['immutable','PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingUnreadCountHelper','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';var o=h.List;m=babelHelpers.inherits(p,i);n=m&&m.prototype;function p(){n.constructor.call(this,j.FOLDERS.INBOX);}p.prototype.getDisplayTitle=function(){return l._("H\u1ed9p th\u01b0");};p.prototype.getSupportedFilterKeys=function(){return o([j.FILTERS.ALL,j.FILTERS.UNREAD,j.FILTERS.FLAGGED]);};p.prototype.getNotificationCount=function(q,r){return k.getUnreadCount(q,this.getKey());};f.exports=p;},null);
__d('PagesManagerMessagingSpamNavigationUnit',['PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){l.constructor.call(this,i.FOLDERS.SPAM);}m.prototype.getDisplayTitle=function(){return j._("Spam");};f.exports=m;},null);
__d('PagesManagerMessagingThreadlistDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(){j.constructor.call(this);this.dispatch=this.dispatch.bind(this);}f.exports=new k();},null);
__d('PagesManagerMessagingThreadlistAction',['PagesManagerMessagingActionType','PagesManagerMessagingThreadlistDispatcher','MercuryThreadlistConstants'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={initThreadlist:function(l){this.fetchThreadlist(l,0,j.WEBMESSENGER_THREAD_COUNT);},fetchThreadlist:function(l,m,n){i.dispatch({offset:m,limit:n,pageID:l,type:h.LIST.FETCH});},updateThreadlist:function(l){i.dispatch({pageID:l,type:h.LIST.UPDATED});},changeSearchTerm:function(l,m,n){i.dispatch({type:h.SEARCH.CHANGE_SEARCH_TERM,searchTerm:m,pageID:l,activeFolder:n});},changeIsSearchingStatus:function(l){i.dispatch({type:h.SEARCH.IS_SEARCHING_CHANGED,isSearching:l});},resetSearch:function(l){k.changeSearchTerm(l,'','');}};f.exports=k;},null);
__d('PagesManagerMessagingSearchStore',['PagesManagerMessagingActionType','PagesManagerMessagingThreadlistDispatcher','FluxStore','MercurySearchThreadResultOrderer','MercurySearchThreadsStrategy','PagesManagerMessagingThreadlistAction','emptyFunction','guid'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,j);q=p&&p.prototype;function r(){q.constructor.call(this,i);this.$PagesManagerMessagingSearchStore1='';this.$PagesManagerMessagingSearchStore2=false;this.$PagesManagerMessagingSearchStore3=false;this.$PagesManagerMessagingSearchStore4='';this.$PagesManagerMessagingSearchStore5=[];}r.prototype.getCurrentSearchTerm=function(){return this.$PagesManagerMessagingSearchStore1;};r.prototype.getIsInSearchMode=function(){return this.$PagesManagerMessagingSearchStore2;};r.prototype.getCurrentSearchResults=function(){return this.$PagesManagerMessagingSearchStore5;};r.prototype.getIsSearching=function(){return this.$PagesManagerMessagingSearchStore3;};r.prototype.__onDispatch=function(s){switch(s.type){case h.SEARCH.CHANGE_SEARCH_TERM:this.$PagesManagerMessagingSearchStore1=s.searchTerm;if(this.$PagesManagerMessagingSearchStore1===''){this.$PagesManagerMessagingSearchStore5=[];this.$PagesManagerMessagingSearchStore2=false;}else{this.$PagesManagerMessagingSearchStore2=true;this.$PagesManagerMessagingSearchStore6(s.pageID,s.searchTerm,s.activeFolder);}this.__emitChange();break;case h.SEARCH.IS_SEARCHING_CHANGED:this.$PagesManagerMessagingSearchStore3=s.isSearching;this.__emitChange();break;}};r.prototype.$PagesManagerMessagingSearchStore6=function(s,t,u){var v=o();this.$PagesManagerMessagingSearchStore4=v;var w=l.getForFBID(s),x=k.getForFBID(s);this.$PagesManagerMessagingSearchStore3=true;w.search(t,(function(y){this.$PagesManagerMessagingSearchStore5=x.filterThreadsInFolder(y,u);this.__emitChange();}).bind(this),(function(y,z){if(v!==this.$PagesManagerMessagingSearchStore4)return;var aa=x.filterThreadsInFolder(y,u);this.$PagesManagerMessagingSearchStore5=x.orderResults(this.$PagesManagerMessagingSearchStore5,[],aa,u);if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore3=false;this.__emitChange();}else m.changeIsSearchingStatus(false);}).bind(this),n);this.__emitChange();};f.exports=new r();},null);
__d('PagesManagerMessagingUnreadNavigationUnit',['PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingUnreadCountHelper','PagesManagerNavigationUnit','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,j);m=l&&l.prototype;function n(){m.constructor.call(this,h.FILTERS.UNREAD);}n.prototype.getDisplayTitle=function(){return k._("Ch\u01b0a \u0111\u1ecdc");};n.prototype.getNotificationCount=function(o,p){if(p.activeFolder.getKey()!==h.FOLDERS.INBOX)return 0;return i.getUnreadCount(o,p.activeFolder.getKey());};f.exports=n;},null);
__d('PagesManagerMessagingFilterStore',['FluxStore','immutable','Map','PagesManagerActionType','PagesManagerMessagingAllNavigationUnit','PagesManagerMessagingArchiveNavigationUnit','PagesManagerMessagingFlaggedNavigationUnit','PagesManagerMessagingInboxNavigationUnit','PagesManagerMessagingSpamNavigationUnit','PagesManagerMessagingSearchStore','PagesManagerMessagingThreadlistDispatcher','PagesManagerMessagingUnreadNavigationUnit','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;'use strict';u=babelHelpers.inherits(w,h);v=u&&u.prototype;function w(){v.constructor.call(this,r);this.$PagesManagerMessagingFilterStore1=i.List([new o(),new m(),new p()]);this.$PagesManagerMessagingFilterStore2=new l();this.$PagesManagerMessagingFilterStore3=i.List([this.$PagesManagerMessagingFilterStore2,new s(),new n()]);this.$PagesManagerMessagingFilterStore4=this.$PagesManagerMessagingFilterStore1.first();this.$PagesManagerMessagingFilterStore5=this.$PagesManagerMessagingFilterStore6(this.$PagesManagerMessagingFilterStore4.getSupportedFilterKeys().first());this.$PagesManagerMessagingFilterStore7=false;}w.prototype.$PagesManagerMessagingFilterStore8=function(x,y){var z=x.filter(function(aa){return aa.getKey()===y;});!(z.size>0)?t(0):undefined;return z.first();};w.prototype.$PagesManagerMessagingFilterStore6=function(x){return this.$PagesManagerMessagingFilterStore8(this.$PagesManagerMessagingFilterStore3,x);};w.prototype.$PagesManagerMessagingFilterStore9=function(x){return this.$PagesManagerMessagingFilterStore8(this.$PagesManagerMessagingFilterStore1,x);};w.prototype.$PagesManagerMessagingFilterStore10=function(x,y){this.$PagesManagerMessagingFilterStore4=y;this.$PagesManagerMessagingFilterStore5=this.$PagesManagerMessagingFilterStore6(y.getSupportedFilterKeys().first());this.__emitChange();};w.prototype.$PagesManagerMessagingFilterStore11=function(x,y){this.$PagesManagerMessagingFilterStore4.assertSupportsFilter(y);this.$PagesManagerMessagingFilterStore5=y;this.__emitChange();};w.prototype.getAvailableFolders=function(){return this.$PagesManagerMessagingFilterStore1;};w.prototype.getAvailableFilters=function(){return i.List(this.$PagesManagerMessagingFilterStore3.filter((function(x){return this.getActiveFolder().getSupportedFilterKeys().indexOf(x.getKey())>=0;}).bind(this)));};w.prototype.getActiveFolder=function(){return this.$PagesManagerMessagingFilterStore4;};w.prototype.getActiveFilter=function(){return this.$PagesManagerMessagingFilterStore7?this.$PagesManagerMessagingFilterStore2:this.$PagesManagerMessagingFilterStore5;};w.prototype.getActiveFolderName=function(){return this.getActiveFolder().getKey();};w.prototype.getActiveFilterName=function(){return this.getActiveFilter().getKey();};w.prototype.getUnitNotificationCountMap=function(x){var y=new j(),z=(function(aa){return y.set(aa,aa.getNotificationCount(x,{activeFolder:this.getActiveFolder(),activeFilter:this.getActiveFilter()}));}).bind(this);this.getAvailableFolders().map(z);this.getAvailableFilters().map(z);return y;};w.prototype.getNavigationKey=function(){return this.getActiveFolderName()+'|'+this.getActiveFilterName();};w.prototype.__onDispatch=function(x){switch(x.type){case k.NAVIGATION_UNIT.CHANGE:if(this.getAvailableFolders().indexOf(x.unit)>=0){this.$PagesManagerMessagingFilterStore10(x.pageID,x.unit);}else this.$PagesManagerMessagingFilterStore11(x.pageID,x.unit);break;case k.NAVIGATION_UNIT.NOTIFICATION_COUNT_CHANGE:this.__emitChange();break;case k.SEARCH.CHANGE_SEARCH_TERM:r.waitFor([q.getDispatchToken()]);var y=x.searchTerm!=='';if(this.$PagesManagerMessagingFilterStore7!==y){this.$PagesManagerMessagingFilterStore7=y;this.__emitChange();}break;}};f.exports=new w();},null);
__d('PagesManagerMessagingMessagelistDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerMessagingMessagelistAction',['PagesManagerMessagingActionType','PagesManagerMessagingMessagelistDispatcher'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.LIST,k={updateMessagelist:function(l,m,n){i.dispatch({type:j.LOADED,pageID:l,threadID:m,data:n});},setIsLoading:function(l){i.dispatch({type:j.LOADING,isLoading:l});},setIsLoadingMore:function(l){i.dispatch({type:j.LOAD_MORE,isLoadingMore:l});},setScrollAreaHeight:function(l){i.dispatch({type:h.SET_SCROLL_HEIGHT,height:l});},updateReadReceipts:function(l,m,n){i.dispatch({type:h.MESSAGE_LEVEL.READ_RECEIPTS,pageID:l,threadID:m,readReceipts:n});},updateThread:function(l,m){i.dispatch({type:h.THREAD_LEVEL.UPDATE_THREAD,pageID:l,threadID:m});},setIsContextCardHidden:function(l){i.dispatch({type:h.SET_IS_CONTEXT_CARD_HIDDEN,isHidden:l});}};f.exports=k;},null);
__d('PagesManagerMessagingMessageDateBreak.react',['MessengerDateBreak.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,i.Component);l=k&&k.prototype;function m(n){'use strict';l.constructor.call(this,n);}m.prototype.render=function(){'use strict';return (i.createElement(h,{className:"_2hvw",date:this.props.date}));};f.exports=m;},null);
__d('PagesManagerMessagingMessageList.react',['ChatTypingIndicators.react','immutable','MessengerTypingIndicator.react','MessageList.react','MessengerLogMessage.react','MessengerMessageGroup.react','MessengerSpinner.react','PagesManagerMessagingMessageDateBreak.react','React','MercuryShareAttachmentRenderLocations','ScrollableArea.react','cloneWithProps','cx','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;v=babelHelpers.inherits(x,p.Component);w=v&&v.prototype;function x(y,z){'use strict';w.constructor.call(this,y,z);this.$PagesManagerMessagingMessageList1=true;this.prevScrollTop=0;this.prevScrollHeight=0;}x.prototype.componentDidUpdate=function(y){'use strict';var z=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,aa=y.messagelist.last()&&y.messagelist.last().thread_fbid;if(y.messagelist.size===0&&this.props.messagelist.size!==0||z!=aa){this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom();}else if(this.props.messagelist.size!==y.messagelist.size)this.$PagesManagerMessagingMessageList2(this.prevScrollHeight,this.prevScrollTop);};x.prototype.$PagesManagerMessagingMessageList2=function(y,z){'use strict';if(!this.refs.scrollableArea)return;var aa=this.refs.scrollableArea.getArea(),ba=aa.getScrollHeight()-y+z;aa.setScrollTop(ba,false);};x.prototype.$PagesManagerMessagingMessageList3=function(){'use strict';if(!this.refs.scrollableArea)return;var y=this.refs.scrollableArea.getArea(),z=this.prevScrollTop,aa=this.prevScrollHeight;this.$PagesManagerMessagingMessageList4();if(y.isScrolledToTop()){this.props.fetchEarlierMessages();}else if(y.isScrolledToBottom()){this.$PagesManagerMessagingMessageList5();}else{if(y.getScrollTop()===z&&y.getScrollHeight()!==aa)this.$PagesManagerMessagingMessageList2(aa,z);this.$PagesManagerMessagingMessageList6();}};x.prototype.$PagesManagerMessagingMessageList5=function(){'use strict';if(!this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=true;};x.prototype.$PagesManagerMessagingMessageList6=function(){'use strict';if(this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=false;};x.prototype.$PagesManagerMessagingMessageList4=function(){'use strict';var y=this.refs.scrollableArea;this.prevScrollHeight=y?y.getArea().getScrollHeight():0;this.prevScrollTop=y?y.getArea().getScrollTop():0;};x.prototype.$PagesManagerMessagingMessageList7=function(){'use strict';var y=Math.floor(this.props.scrollHeight/130);return (p.createElement('div',{className:"_31m6",style:{height:this.props.scrollHeight}},p.createElement('div',{className:"_31m7",style:{height:130*y}},this.$PagesManagerMessagingMessageList8(y))));};x.prototype.$PagesManagerMessagingMessageList8=function(y){'use strict';var z=p.createElement('div',null,p.createElement('div',{className:"_31m8"}),p.createElement('div',{className:"_31ma"}),p.createElement('div',{className:"_31mb"}),p.createElement('div',{className:"_31mc"}),p.createElement('div',{className:"_31me"}),p.createElement('div',{className:"_31mf"}),p.createElement('div',{className:"_31mg"}),p.createElement('div',{className:"_31mh"}),p.createElement('div',{className:"_31mi"}),p.createElement('div',{className:"_31mj"}),p.createElement('div',{className:"_31mk"}),p.createElement('div',{className:"_31ml"}),p.createElement('div',{className:"_31mm"}),p.createElement('div',{className:"_31mn"}),p.createElement('div',{className:"_31mo"}),p.createElement('div',{className:"_31mp"}),p.createElement('div',{className:"_31mq"})),aa=[];for(var ba=0;ba<y;ba++)aa.push(s(z,{key:'loading'+ba}));return aa;};x.prototype.$PagesManagerMessagingMessageList9=function(){'use strict';if(!this.props.isLoadingMore)return null;return (p.createElement('div',{className:"_2k8v"},p.createElement(n,null)));};x.prototype.$PagesManagerMessagingMessageList10=function(){'use strict';return (p.createElement('div',{className:"clearfix _1ej0 _2mpc"},p.createElement(k,{DateBreak:o,deliveryTimestamp:0,isCanonical:true,isPageMessage:true,location:q.MESSENGER,LogMessage:l,MessageGroup:m,messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),p.createElement(h,{indicatorClass:j,indicatorsWillShow:function(){},indicatorsDidShow:(function(){this.$PagesManagerMessagingMessageList1&&this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom();}).bind(this),rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})));};x.prototype.render=function(){'use strict';if(this.props.initLoading)return this.$PagesManagerMessagingMessageList7();return (p.createElement(r,{className:"_11y7",fade:false,height:this.props.scrollHeight,onScroll:u((function(){return this.$PagesManagerMessagingMessageList3();}).bind(this),500),ref:'scrollableArea',shadow:false},this.$PagesManagerMessagingMessageList9(),p.createElement('div',{className:"_14y3"},this.props.threadID?this.$PagesManagerMessagingMessageList10():p.createElement('div',null))));};f.exports=x;},null);
__d("XPagesContextCardSetIsHiddenController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/customer\/context_card\/set_is_hidden\/",{});},null,{});
__d('PagesManagerMessagingMessagelistStore',['PagesManagerMessagingActionType','AsyncRequest','FluxStore','immutable','PagesManagerMessagingMessagelistDispatcher','MercuryMessages','PagesManagerMessagingMessagelistDispatcher','MercuryThreadlistConstants','XPagesContextCardSetIsHiddenController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;q=babelHelpers.inherits(s,j);r=q&&q.prototype;function s(){'use strict';r.constructor.call(this,n);this.$PagesManagerMessagingMessagelistStore1='';this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore3=false;this.$PagesManagerMessagingMessagelistStore4=[];this.$PagesManagerMessagingMessagelistStore5=k.OrderedMap();this.$PagesManagerMessagingMessagelistStore6=0;}s.prototype.__onDispatch=function(t){'use strict';switch(t.type){case h.LIST.LOADED:this.$PagesManagerMessagingMessagelistStore7(t);this.__emitChange();break;case h.LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=t.isLoading;this.__emitChange();break;case h.LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=t.isLoadingMore;this.__emitChange();break;case h.MESSAGE_LEVEL.READ_RECEIPTS:this.$PagesManagerMessagingMessagelistStore8(t);this.__emitChange();break;case h.SET_SCROLL_HEIGHT:var u=t.height;if(u!==this.$PagesManagerMessagingMessagelistStore6){this.$PagesManagerMessagingMessagelistStore6=u;this.__emitChange();}break;case h.THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case h.SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore9(t.isHidden);this.__emitChange();break;default:return;}};s.prototype.$PagesManagerMessagingMessagelistStore7=function(t){'use strict';this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore1=t.threadID;this.$PagesManagerMessagingMessagelistStore4=t.data.messages;};s.prototype.$PagesManagerMessagingMessagelistStore8=function(t){'use strict';if(this.$PagesManagerMessagingMessagelistStore1!==t.threadID)this.$PagesManagerMessagingMessagelistStore4=[];this.$PagesManagerMessagingMessagelistStore1=t.threadID;this.$PagesManagerMessagingMessagelistStore5=t.readReceipts;};s.prototype.isLoading=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore2;};s.prototype.isLoadingMore=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore3;};s.prototype.getMessagelist=function(t,u){'use strict';if(u!=this.$PagesManagerMessagingMessagelistStore1)return m.getForFBID(t).getThreadMessagesRangeNow(u,0,o.RECENT_MESSAGES_LIMIT).reverse();return this.$PagesManagerMessagingMessagelistStore4;};s.prototype.getScrollHeight=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore6;};s.prototype.getReadReceipts=function(t){'use strict';if(t!=this.$PagesManagerMessagingMessagelistStore1)return k.OrderedMap();return this.$PagesManagerMessagingMessagelistStore5;};s.prototype.isCardHidden=function(){'use strict';if(this.$PagesManagerMessagingMessagelistStore10===undefined||this.$PagesManagerMessagingMessagelistStore10===null)return null;return this.$PagesManagerMessagingMessagelistStore10;};s.prototype.$PagesManagerMessagingMessagelistStore9=function(t){'use strict';this.$PagesManagerMessagingMessagelistStore10=t;var u=p.getURIBuilder().getURI();new i().setURI(u).setData({is_hidden:t}).send();};f.exports=new s(l);},null);
__d('PagesManagerMessagingNoteComposerContainer.react',['MercuryIDs','MercuryMessageIDs','MercuryMessages','MercuryPageMessageActions','MercuryParticipants','PagesManagerMessagingNoteComposerView.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=n.PropTypes;o=babelHelpers.inherits(r,n.Component);p=o&&o.prototype;function r(s,t){p.constructor.call(this,s,t);this.state={message:'',participant:null};}r.prototype.$PagesManagerMessagingNoteComposerContainer1=function(){this.setState({message:''});};r.prototype.componentWillMount=function(){this.$PagesManagerMessagingNoteComposerContainer2(this.props);};r.prototype.componentWillReceiveProps=function(s){this.$PagesManagerMessagingNoteComposerContainer3(s.userID);this.$PagesManagerMessagingNoteComposerContainer2(s);if(s.threadID!==this.props.threadID)this.$PagesManagerMessagingNoteComposerContainer1();if(s.userID!==this.props.userID)this.$PagesManagerMessagingNoteComposerContainer3(s.userID);};r.prototype.componentDidMount=function(){setTimeout((function(){return this.$PagesManagerMessagingNoteComposerContainer3(this.props.userID);}).bind(this),0);};r.prototype.componentWillUpdate=function(s,t){if(this.props.onMessageOrAttachmentUpdate&&t.message!==this.state.message)this.props.onMessageOrAttachmentUpdate();};r.prototype.$PagesManagerMessagingNoteComposerContainer2=function(s){var t=s.userID;this.$PagesManagerMessagingNoteComposerContainer4=k.getForFBID(t);this.$PagesManagerMessagingNoteComposerContainer5=j.getForFBID(t);};r.prototype.$PagesManagerMessagingNoteComposerContainer6=function(s){var t=s.target;this.setState({message:t.value});};r.prototype.$PagesManagerMessagingNoteComposerContainer7=function(){if(!this.props.threadID)return;var s=this.props.creatorInfo?{creatorID:this.props.creatorInfo.creatorID,creatorType:this.props.creatorInfo.creatorType,creatorName:this.props.creatorInfo.creatorName,labelType:'page_admin_note',pageID:this.props.creatorInfo.pageID,profileURI:this.props.creatorInfo.profileURI}:null,t={id:null,body:this.state.message,creator_info:s,timestamp:Math.floor(Date.now()/1000)};this.$PagesManagerMessagingNoteComposerContainer5.getThreadMessagesRange(this.props.threadID,0,1,(function(u){if(!u.length)return;var v=u[0];if(this.$PagesManagerMessagingNoteComposerContainer5.isLocalMessage(v)){i.getServerIDs([v.message_id],(function(w){if(w.length){var x=w[0];this.$PagesManagerMessagingNoteComposerContainer4.createNote(t,this.props.threadID,x);}}).bind(this));}else this.$PagesManagerMessagingNoteComposerContainer4.createNote(t,this.props.threadID,v.message_id);}).bind(this));this.$PagesManagerMessagingNoteComposerContainer1();this.props.onDisablePageAdminNoteMode();};r.prototype.$PagesManagerMessagingNoteComposerContainer8=function(){this.$PagesManagerMessagingNoteComposerContainer1();this.props.onDisablePageAdminNoteMode();};r.prototype.$PagesManagerMessagingNoteComposerContainer3=function(s){var t=h.getParticipantIDFromUserID(s);l.get(t,(function(u){this.setState({participant:u});}).bind(this));};r.prototype.render=function(){return (n.createElement(m,babelHelpers._extends({},this.props,this.state,{onInputChange:(function(s){return this.$PagesManagerMessagingNoteComposerContainer6(s);}).bind(this),onCreateNote:(function(){return this.$PagesManagerMessagingNoteComposerContainer7();}).bind(this),onCancelCreateNote:(function(){return this.$PagesManagerMessagingNoteComposerContainer8();}).bind(this)})));};r.propTypes={creatorInfo:q.object,onDisablePageAdminNoteMode:q.func.isRequired,onMessageOrAttachmentUpdate:q.func,threadID:q.string,userID:q.string.isRequired};f.exports=r;},null);
__d('PagesManagerMessagingBatchActionMenu.react',['MercuryPageThreadActions','PagesManagerAction','PagesManagerMessagingMessagelistAction','PagesMessengerActions','PagesMessagingActionPlacement','PopoverMenu.react','React','SimpleXUIDialog','ReactXUIMenu','XUIDialogButton.react','XUIDialogCancelButton.react','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x=p.Item;v=babelHelpers.inherits(y,n.Component);w=v&&v.prototype;function y(z){'use strict';w.constructor.call(this,z);this.$PagesManagerMessagingBatchActionMenu1=h.getForFBID(z.pageID);}y.prototype.$PagesManagerMessagingBatchActionMenu2=function(event,z){'use strict';var aa=z.item.getValue(),ba=null;switch(aa){case k.FLAG:ba=this.$PagesManagerMessagingBatchActionMenu1.batchAddFlag;break;case k.UNFLAG:ba=this.$PagesManagerMessagingBatchActionMenu1.batchRemoveFlag;break;case k.MARK_AS_SPAM:ba=this.$PagesManagerMessagingBatchActionMenu1.batchMarkSpam;break;case k.MARK_AS_UNSPAM:ba=this.$PagesManagerMessagingBatchActionMenu1.batchUnmarkSpam;break;case k.MARK_AS_READ:ba=this.$PagesManagerMessagingBatchActionMenu1.batchMarkRead;break;case k.MARK_AS_UNREAD:ba=this.$PagesManagerMessagingBatchActionMenu1.batchMarkUnread;break;case k.ARCHIVE:ba=this.$PagesManagerMessagingBatchActionMenu1.batchArchive;break;case k.UNARCHIVE:ba=this.$PagesManagerMessagingBatchActionMenu1.batchUnarchive;break;case k.DELETE_THREAD:this.$PagesManagerMessagingBatchActionMenu3();return;case k.HIDE_CONTEXT_CARD:this.$PagesManagerMessagingBatchActionMenu4();return;case k.SHOW_CONTEXT_CARD:this.$PagesManagerMessagingBatchActionMenu5();return;default:u(0);}if(ba)ba.call(this.$PagesManagerMessagingBatchActionMenu1,this.props.selectedRows,this.props.placement);i.handleSelectionChange([],this.props.selectedRows,[]);this.props.onSelectionClear&&this.props.onSelectionClear();};y.prototype.$PagesManagerMessagingBatchActionMenu3=function(){'use strict';var z=this.props.selectedRows.length,aa=t._("X\u00f3a tin nh\u1eafn"),ba=t._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a {number of messages}?",[t.param('number of messages',n.createElement('span',{className:"_50f7"},t._({"*":{"message":"{number of messages} tin nh\u1eafn","messages":"{number of messages} tin nh\u1eafn"}},[t.param('number of messages',z,[0]),t['enum'](z>1?'messages':'message',{message:'message',messages:'messages'})])))]),ca=t._("X\u00f3a tin nh\u1eafn"),da=[n.createElement(r,null),n.createElement(q,{action:'cancel',label:ca,onClick:(function(){this.$PagesManagerMessagingBatchActionMenu1.batchDelete(this.props.selectedRows,l.THREAD_LIST_BATCH_ACTION);}).bind(this),use:'confirm'})];o.showEx(ba,aa,da);};y.prototype.$PagesManagerMessagingBatchActionMenu4=function(){'use strict';j.setIsContextCardHidden(true);};y.prototype.$PagesManagerMessagingBatchActionMenu5=function(){'use strict';j.setIsContextCardHidden(false);};y.prototype.renderMenu=function(){'use strict';return (n.createElement(p,{onItemClick:(function(event,z){return this.$PagesManagerMessagingBatchActionMenu2(event,z);}).bind(this)},this.props.inlineActionParam.showFlag?n.createElement(x,{value:k.FLAG},t._("G\u1eafn c\u1edd")):null,this.props.inlineActionParam.showUnflag?n.createElement(x,{value:k.UNFLAG},t._("B\u1ecf g\u1eafn c\u1edd")):null,this.props.inlineActionParam.showSpam?n.createElement(x,{value:k.MARK_AS_SPAM},t._("B\u00e1o c\u00e1o l\u00e0 spam")):null,this.props.inlineActionParam.showUnspam?n.createElement(x,{value:k.MARK_AS_UNSPAM},t._("Chuy\u1ec3n sang h\u1ed9p th\u01b0")):null,this.props.inlineActionParam.showMarkRead?n.createElement(x,{value:k.MARK_AS_READ},t._("\u0110\u00e1nh d\u1ea5u l\u00e0 \u0111\u00e3 \u0111\u1ecdc")):null,this.props.inlineActionParam.showMarkUnread?n.createElement(x,{value:k.MARK_AS_UNREAD},t._("\u0110\u00e1nh d\u1ea5u l\u00e0 ch\u01b0a \u0111\u1ecdc")):null,this.props.inlineActionParam.showArchive?n.createElement(x,{value:k.ARCHIVE},t._("L\u01b0u tr\u1eef")):null,this.props.inlineActionParam.showUnarchive?n.createElement(x,{value:k.UNARCHIVE},t._("Chuy\u1ec3n \u0111\u1ebfn h\u1ed9p th\u01b0 \u0111\u1ebfn")):null,this.props.inlineActionParam.showDelete?n.createElement(x,{value:k.DELETE_THREAD},t._("X\u00f3a")):null,this.props.inlineActionParam.showHideContextCard?n.createElement(x,{value:k.HIDE_CONTEXT_CARD},t._("\u1ea8n th\u00f4ng tin ng\u01b0\u1eddi g\u1eedi")):null,this.props.inlineActionParam.showShowContextCard?n.createElement(x,{value:k.SHOW_CONTEXT_CARD},t._("Hi\u1ec3n th\u1ecb th\u00f4ng tin ng\u01b0\u1eddi g\u1eedi")):null));};y.prototype.render=function(){'use strict';return (n.createElement(m,{alignh:this.props.alignh,className:!this.props.showBatchAction?"hidden_elem":'',layerBehaviors:this.props.layerBehaviors,menu:this.renderMenu(),onHide:this.props.onHide,onShow:this.props.onShow,ref:'menu'},this.props.children));};y.defaultProps={alignh:'left'};f.exports=y;},null);
__d('PagesManagerMessagingThreadTitle.react',['ContextualDialogArrow','ContextualLayerAutoFlip','Image.react','LeftRight.react','MercuryThreadTitle.react','PagesManagerMessagingBatchActionMenu.react','PagesMessengerThreadUtils','PagesMessagingActionPlacement','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;s=babelHelpers.inherits(u,p.Component);t=s&&s.prototype;u.prototype.render=function(){'use strict';if(this.props.thread===null||this.props.thread===undefined)return p.createElement('div',{className:"_174o"});var v=n.getBatchActionMenuParam(this.props.thread);v.showMarkRead=false;v.showMarkUnread=false;v.showHideContextCard=this.props.isContextCardEnabled&&!this.props.isContextCardHidden;v.showShowContextCard=this.props.isContextCardEnabled&&this.props.isContextCardHidden;return (p.createElement(k,{className:"_174o"},p.createElement(l,{className:"_174p",thread:this.props.thread,viewer:this.props.pageID,showUnreadCount:false}),p.createElement(m,{alignh:'right',layerBehaviors:[h,i],onHide:(function(){this.setState({menuShown:false});}).bind(this),onShow:(function(){this.setState({menuShown:true});}).bind(this),pageID:this.props.pageID,inlineActionParam:v,placement:o.THREAD_TITLE_BAR,selectedRows:[this.props.thread&&this.props.thread.thread_id],showBatchAction:true},p.createElement(j,{className:"_3lq_",onClick:function(event){return event.stopPropagation();},src:r('/images/mobile/chrome/ui/divebar/settings_gear.png')}))));};function u(){'use strict';s.apply(this,arguments);}f.exports=u;},null);
__d('PagesManagerMessagingDetailContainer.react',['BootloadedComponent.react','FBID','Grid.react','FluxContainer','immutable','JSResource','MercuryMessageStore','MercuryRoger','MercuryThreadInformer','MercuryThreads','MessagingTag','MessengerConfig','PagesEventObserver','PagesEventType','PagesMessagingActionPlacement','PagesManagerMessagingComposerContainer.react','PagesManagerMessagingFilterStore','PagesManagerMessagingMessagelistAction','PagesManagerMessagingMessageList.react','PagesManagerMessagingMessagelistStore','PagesManagerMessagingNoteComposerContainer.react','MercuryPageThreadActions','PagesManagerMessagingThreadTitle.react','React','ReactDOM','Set','SubscriptionsHandler','Vector','XUIButton.react','cx','debounce','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma){if(c.__markCompiled)c.__markCompiled();var na,oa,pa=j.GridItem;na=babelHelpers.inherits(qa,ea.Component);oa=na&&na.prototype;function qa(ra,sa){'use strict';oa.constructor.call(this,ra,sa);this.$PagesManagerMessagingDetailContainer1=o.getForFBID(ra.pageID);this.$PagesManagerMessagingDetailContainer2=p.getForFBID(ra.pageID);this.state={isContextCardEnabled:false,isLoading:false,isLoadingMore:false,isPageAdminNoteMode:false,messaginglist:[],preventScroll:false,hideContextCard:ra.config.hideContextCard,threadID:'',thread:{}};this.$PagesManagerMessagingDetailContainer3=la((function(){if(this.props.height)this.$PagesManagerMessagingDetailContainer4(this.props.height);}).bind(this),50);}qa.getStores=function(){'use strict';return [aa];};qa.calculateState=function(ra,sa){'use strict';var ta=[],ua={},va=null;if(sa.listItemKey){ta=aa.getMessagelist(sa.pageID,sa.listItemKey);ua=aa.getReadReceipts(sa.listItemKey);va=q.getForFBID(sa.pageID).getThreadMetaNow(sa.listItemKey);if(va.unread_count>0&&ta.length>0&&x.getActiveFilterName()!==r.UNREAD){var wa=ca.getForFBID(sa.pageID);wa.markRead(sa.listItemKey,v.MESSAGE_DIALOG_SHOWN);}}var xa=aa.isCardHidden();if(xa===null)xa=sa.config.hideContextCard;var ya=sa.config.enableContextCard&&va&&va.other_user_fbid&&i.isUser(va.other_user_fbid);return {isContextCardEnabled:ya,hideContextCard:xa,isLoading:aa.isLoading(),isLoadingMore:aa.isLoadingMore(),isPageAdminNoteMode:ra?ra.isPageAdminNoteMode:false,scrollHeight:aa.getScrollHeight(),messagelist:ta,readReceipts:ua,threadID:sa.listItemKey,thread:va};};qa.prototype.$PagesManagerMessagingDetailContainer4=function(ra){'use strict';var sa=ia.getElementDimensions(fa.findDOMNode(this.refs.threadTitle)).y,ta=ia.getElementDimensions(this.state.isPageAdminNoteMode?fa.findDOMNode(this.refs.noteComposer):fa.findDOMNode(this.refs.composer)).y,ua=ra-sa-ta;if(ua<0)ua=0;y.setScrollAreaHeight(ua);};qa.prototype.$PagesManagerMessagingDetailContainer5=function(ra,sa){'use strict';var ta=this.$PagesManagerMessagingDetailContainer1.getSeenTimestamps(ra),ua=new ga(ta.keys());return ta.withMutations(function(va){l.Seq(sa).reverse().forEach(function(wa){if(ua.size===0)return false;if(!ua.has(wa.author))return true;va.update(wa.author,function(xa){return Math.max(xa,wa.timestamp);});ua['delete'](wa.author);});});};qa.prototype.componentDidMount=function(){'use strict';if(this.props.listItemKey)this.$PagesManagerMessagingDetailContainer6(this.props.listItemKey);};qa.prototype.componentWillReceiveProps=function(ra){'use strict';if(this.props.listItemKey!==ra.listItemKey)this.$PagesManagerMessagingDetailContainer6(ra.listItemKey);};qa.prototype.componentWillUpdate=function(ra){'use strict';if(ra.height!==this.props.height)this.$PagesManagerMessagingDetailContainer4(ra.height);};qa.prototype.getMessageStore=function(){'use strict';return this.$PagesManagerMessagingDetailContainer7;};qa.prototype.logMessageLoadingStart=function(){'use strict';var ra=Date.now();this.$PagesManagerMessagingDetailContainer8=this.props.pageID+String(Math.random()).slice(2)+'/'+ra;this.$PagesManagerMessagingDetailContainer9=true;t.notify(u.MESSAGES_MESSAGELIST_LOAD_START,this.props.pageID,{flowID:this.$PagesManagerMessagingDetailContainer8,page_id:this.props.pageID,loading_event_time:Date.now()});};qa.prototype.logMessageLoadingEnd=function(){'use strict';if(this.$PagesManagerMessagingDetailContainer9){this.$PagesManagerMessagingDetailContainer9=false;t.notify(u.MESSAGES_MESSAGELIST_LOAD_END,this.props.pageID,{flowID:this.$PagesManagerMessagingDetailContainer8,page_id:this.props.pageID,loading_event_time:Date.now()});}};qa.prototype.$PagesManagerMessagingDetailContainer6=function(ra){'use strict';this.$PagesManagerMessagingDetailContainer10&&this.$PagesManagerMessagingDetailContainer10.destroy();this.$PagesManagerMessagingDetailContainer11&&this.$PagesManagerMessagingDetailContainer11.release();this.$PagesManagerMessagingDetailContainer7=new n(ra,s.MessageLoadCount,this.props.pageID);var sa=aa.getMessagelist(this.props.pageID,ra);if(sa.length===0){y.setIsLoadingMore(false);y.setIsLoading(true);this.logMessageLoadingStart();}var ta=this.$PagesManagerMessagingDetailContainer5(ra,sa);y.updateReadReceipts(this.props.pageID,ra,ta);this.$PagesManagerMessagingDetailContainer11=new ha();this.$PagesManagerMessagingDetailContainer11.addSubscriptions(this.$PagesManagerMessagingDetailContainer7.subscribe((function(ua){this.logMessageLoadingEnd();y.setIsLoading(false);y.setIsLoadingMore(false);y.updateMessagelist(this.props.pageID,ra,ua);}).bind(this)),this.$PagesManagerMessagingDetailContainer2.subscribe('threads-updated',(function(ua,va){if(va[this.props.listItemKey])y.updateThread(this.props.pageID,this.props.listItemKey);}).bind(this)),this.$PagesManagerMessagingDetailContainer1.subscribe('change',(function(ua,va){if(va[this.props.listItemKey]){var wa=aa.getMessagelist(this.props.pageID,this.props.listItemKey),xa=this.$PagesManagerMessagingDetailContainer5(this.props.listItemKey,wa);y.updateReadReceipts(this.props.pageID,this.props.listItemKey,xa);}}).bind(this)));};qa.prototype.$PagesManagerMessagingDetailContainer12=function(){'use strict';if(!this.state.isLoadingMore)if(this.getMessageStore().fetchMoreMessages()){y.setIsLoading(false);y.setIsLoadingMore(true);}};qa.prototype.$PagesManagerMessagingDetailContainer13=function(){'use strict';return (ea.createElement(z,babelHelpers._extends({},this.props,{initLoading:this.state.isLoading,isLoadingMore:this.state.isLoadingMore,messagelist:l.List(this.state.messagelist),fetchEarlierMessages:(function(){return this.$PagesManagerMessagingDetailContainer12();}).bind(this),readReceipts:this.state.readReceipts,scrollHeight:this.state.scrollHeight,threadID:this.state.threadID,thread:this.state.thread})));};qa.prototype.$PagesManagerMessagingDetailContainer14=function(){'use strict';if(!this.state.isContextCardEnabled)return null;return (ea.createElement(pa,{className:"_2utd"+(this.state.hideContextCard?' '+"hidden_elem":'')},ea.createElement(h,{bootloadPlaceholder:ea.createElement('div',{className:"hidden_elem"}),bootloadLoader:m('PagesMessengerContextCardContainer.react'),pageID:this.props.pageID,userID:this.state.thread&&this.state.thread.other_user_fbid,scrollHeight:this.state.scrollHeight})));};qa.prototype.$PagesManagerMessagingDetailContainer15=function(){'use strict';if(!this.props.config.enableNotes)return null;var ra=ma._("Th\u00eam Ghi ch\u00fa");return (ea.createElement('div',{className:"_iif"},ea.createElement(ja,{label:ra,onClick:(function(sa){return this.setState({isPageAdminNoteMode:true});}).bind(this)})));};qa.prototype.$PagesManagerMessagingDetailContainer16=function(){'use strict';this.setState({isPageAdminNoteMode:false});};qa.prototype.$PagesManagerMessagingDetailContainer17=function(){'use strict';return (this.props.config.enableComposer&&!this.state.isPageAdminNoteMode);};qa.prototype.$PagesManagerMessagingDetailContainer18=function(){'use strict';return (this.props.config.enableComposer&&this.state.isPageAdminNoteMode);};qa.prototype.render=function(){'use strict';return (ea.createElement('div',null,ea.createElement(da,{pageID:this.props.pageID,isContextCardEnabled:this.state.isContextCardEnabled,isContextCardHidden:this.state.hideContextCard,onIconClick:(function(){return this.$PagesManagerMessagingDetailContainer19();}).bind(this),ref:'threadTitle',thread:this.state.thread}),ea.createElement(j,{alignv:'top',className:"_2utb",cols:this.state.isContextCardEnabled?2:1},ea.createElement(pa,{className:"_2utc"},this.$PagesManagerMessagingDetailContainer13(),this.$PagesManagerMessagingDetailContainer15()),this.$PagesManagerMessagingDetailContainer14()),ea.createElement('div',{className:!this.$PagesManagerMessagingDetailContainer17()?"hidden_elem":''},ea.createElement(w,{canUseOmnipicker:this.props.config.enableOmnipicker,creatorInfo:this.props.config.creatorInfo,onMessageOrAttachmentUpdate:(function(){return this.$PagesManagerMessagingDetailContainer3();}).bind(this),recipientID:this.state.thread?this.state.thread.other_user_fbid.toString():null,ref:'composer',threadElementID:this.state.threadID,threadID:this.state.threadID,userID:this.props.pageID})),ea.createElement('div',{className:!this.$PagesManagerMessagingDetailContainer18()?"hidden_elem":''},ea.createElement(ba,{creatorInfo:this.props.config.creatorInfo,key:'notecomposer',onDisablePageAdminNoteMode:(function(){return (this.$PagesManagerMessagingDetailContainer16());}).bind(this),onMessageOrAttachmentUpdate:(function(){return this.$PagesManagerMessagingDetailContainer3();}).bind(this),ref:'noteComposer',threadID:this.state.threadID,userID:this.props.pageID}))));};f.exports=k.create(qa,{withProps:true});},null);
__d('PagesManagerMessagingFilterActions',['PagesManagerActionType','PagesManagerMessagingThreadlistDispatcher','PagesManagerMessagingThreadlistAction','PagesManagerNavigationUnit'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={changeFilter:function(m,n){i.dispatch({unit:n,pageID:m,type:h.NAVIGATION_UNIT.CHANGE});j.resetSearch(m);},notifyNotificationCountChanged:function(m){i.dispatch({pageID:m,type:h.NAVIGATION_UNIT.NOTIFICATION_COUNT_CHANGE});}};f.exports=l;},null);
__d('PagesManagerMessagingNotificationCountSubscriber',['Map','MercuryThreadInformer','PagesManagerMessagingFilterActions'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={_pageIDTokenMap:new h(),enableRealtimeNotificationCountUpdates:function(l){var m=k._pageIDTokenMap;if(m.has(l))return;var n=i.getForFBID(l),o=n.subscribe('unread-updated',function(p,q){j.notifyNotificationCountChanged(l);});m.set(l,o);},disableRealtimeNotificationCountUpdates:function(l){var m=k._pageIDTokenMap;if(!m.has(l))return;var n=m.get(l);i.getForFBID(l).unsubscribe(n);m['delete'](n);}};f.exports=k;},null);
__d('PagesManagerNavigationView.react',['ContextualDialogArrow','ContextualLayerAutoFlip','Map','PagesManagerNavigationUnit','PopoverMenu.react','React','ReactXUIMenu','cx','invariant','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s=c('immutable').List,t=n.Item;q=babelHelpers.inherits(u,m.Component);r=q&&q.prototype;function u(v,w){'use strict';r.constructor.call(this,v,w);this.$PagesManagerNavigationView1=this.$PagesManagerNavigationView1.bind(this);this.$PagesManagerNavigationView2=this.$PagesManagerNavigationView2.bind(this);}u.prototype.$PagesManagerNavigationView3=function(v){'use strict';var w=this.$PagesManagerNavigationView4(v,this.props.tabbarUnits);if(w)return w;w=this.$PagesManagerNavigationView4(v,this.props.dropdownUnits);if(w)return w;p(0);};u.prototype.$PagesManagerNavigationView4=function(v,w){'use strict';var x=w.filter(function(y){return y.getKey()===v;});if(x.count()>0)return x.get(0);};u.prototype.$PagesManagerNavigationView1=function(v,w){'use strict';this.props.onUnitSelected(this.$PagesManagerNavigationView3(w.item.getValue()));};u.prototype.render=function(){'use strict';return (m.createElement('div',{className:"_-7a"},this.$PagesManagerNavigationView5(),this.$PagesManagerNavigationView6()));};u.prototype.$PagesManagerNavigationView2=function(v){'use strict';return (m.createElement(t,{key:v.getKey(),value:v.getKey()},m.createElement('div',{className:"_-7b"},v.getDisplayTitle())));};u.prototype.$PagesManagerNavigationView5=function(){'use strict';if(this.props.dropdownUnits.size===0||!this.props.activeDropdownUnit)return null;var v=m.createElement(n,{onItemClick:this.$PagesManagerNavigationView1},this.props.dropdownUnits.map(this.$PagesManagerNavigationView2));return (m.createElement(l,{layerBehaviors:[h,i],menu:v},m.createElement('div',{className:"_-7c"},this.props.activeDropdownUnit.getDisplayTitle())));};u.prototype.$PagesManagerNavigationView7=function(v){'use strict';var w=this.props.unitNotificationCountMap.get(v);return (m.createElement('div',babelHelpers._extends({},this.props,{className:"_-7d"+(' '+"_-7e")+(v===this.props.activeTabbarUnit?' '+"_-7f":''),onClick:(function(){return this.props.onUnitSelected(v);}).bind(this),key:v.getKey()}),m.createElement('div',{className:"_-7g _-7e"},v.getDisplayTitle().toUpperCase()),m.createElement('div',{className:"_-7h"+(' '+"_-7e")+(w===0?' '+"hidden_elem":'')},w)));};u.prototype.$PagesManagerNavigationView6=function(){'use strict';return this.props.tabbarUnits.map((function(v){return this.$PagesManagerNavigationView7(v);}).bind(this));};f.exports=u;},null);
__d('PagesManagerMessagingFilterContainer.react',['PagesManagerMessagingFilterStore','FluxContainer','Map','PagesManagerMessagingFilterActions','PagesManagerMessagingNotificationCountSubscriber','PagesManagerNavigationUnit','PagesManagerNavigationView.react','React','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=c('immutable').List;p=babelHelpers.inherits(s,o.Component);q=p&&p.prototype;function s(t){q.constructor.call(this,t);this.$PagesManagerMessagingFilterContainer1=(function(u){k.changeFilter(this.props.pageID,u);}).bind(this);}s.getStores=function(){return [h];};s.calculateState=function(t,u){return {activeFolder:h.getActiveFolder(),activeFilter:h.getActiveFilter(),folders:h.getAvailableFolders(),filters:h.getAvailableFilters(),unitNotificationCountMap:h.getUnitNotificationCountMap(u.pageID)};};s.prototype.componentWillMount=function(){l.enableRealtimeNotificationCountUpdates(this.props.pageID);};s.prototype.componentWillUnmount=function(){l.disableRealtimeNotificationCountUpdates(this.props.pageID);};s.prototype.render=function(){return (o.createElement(n,{activeDropdownUnit:this.state.activeFolder,activeTabbarUnit:this.state.activeFilter,tabbarUnits:this.state.filters,dropdownUnits:this.state.folders,unitNotificationCountMap:this.state.unitNotificationCountMap,onUnitSelected:this.$PagesManagerMessagingFilterContainer1}));};f.exports=i.create(s,{withProps:true});},null);
__d('PagesManagerMessagingBatchActionHeader.react',['PagesManagerMessagingBatchActionMenu.react','PagesMessagingActionPlacement','React','XUIPopoverButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';n=babelHelpers.inherits(p,j.Component);o=n&&n.prototype;p.prototype.render=function(){return (j.createElement(h,babelHelpers._extends({layerBehaviors:[],placement:i.THREAD_LIST_BATCH_ACTION},this.props),j.createElement(k,{className:"_3640",label:m._("Ho\u1ea1t \u0111\u1ed9ng")})));};function p(){n.apply(this,arguments);}f.exports=p;},null);
__d('PagesManagerMessagingBatchActionHeaderContainer.react',['FluxContainer','MercuryPageThreadActions','MercuryThreads','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingBatchActionHeader.react','PagesManagerMessagingFilterStore','PagesMessengerThreadUtils','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,o.Component);q=p&&p.prototype;function r(s,t){q.constructor.call(this,s,t);this.$PagesManagerMessagingBatchActionHeaderContainer1=i.getForFBID(s.pageID);}r.getStores=function(){return [m];};r.calculateState=function(s,t){var u=m.getActiveFolderName(),v=m.getActiveFilterName(),w=j.getForFBID(t.pageID),x=false,y=false,z=false,aa=false,ba=false,ca=false,da=false,ea=false,fa=false,ga=0,ha=0;t.selectedRows.forEach(function(ja){var ka=w.getThreadMetaNow(ja);if(n.isFlagThread(ka))ga++;if(ka&&ka.unread_count===0)ha++;});var ia=t.selectedRows.length;if(u===k.FOLDERS.INBOX&&v===k.FILTERS.ALL){x=true;aa=true;ca=ia-ga>0;da=ga>0;ea=ha<ia;fa=ha>0;}else if(u===k.FOLDERS.ARCHIVED&&v===k.FILTERS.ALL){y=true;z=true;}else if(u===k.FOLDERS.SPAM&&v===k.FILTERS.ALL){ba=true;}else if(v===k.FILTERS.FLAGGED&&u===k.FOLDERS.INBOX){da=true;}else if(v===k.FILTERS.UNREAD&&u===k.FOLDERS.INBOX)ea=true;return {inlineActionParam:{showArchive:x,showDelete:y,showUnarchive:z,showSpam:aa,showUnspam:ba,showFlag:ca,showUnflag:da,showMarkRead:ea,showMarkUnread:fa}};};r.prototype.$PagesManagerMessagingBatchActionHeaderContainer2=function(){this.props.onSelectionClear();};r.prototype.render=function(){return (o.createElement(l,babelHelpers._extends({onSelectionClear:(function(){return this.$PagesManagerMessagingBatchActionHeaderContainer2();}).bind(this),pageID:this.props.pageID,showBatchAction:this.props.showBatchAction,selectedRows:this.props.selectedRows},this.state)));};f.exports=h.create(r,{withProps:true});},null);
__d('PagesManagerAwayToggle.react',['PagesManagerAwayToggleAction','BUISwitch.react','React','Tooltip','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;n=babelHelpers.inherits(p,j.Component);o=n&&n.prototype;p.prototype.$PagesManagerAwayToggle1=function(q){'use strict';h.setToggleStatus(this.props.pageID,q);};p.prototype.render=function(){'use strict';var q=m._("B\u1ea1n \u0111i ra ngo\u00e0i? H\u00e3y \u0111\u1eb7t tr\u1ea1ng th\u00e1i th\u00e0nh V\u1eafng m\u1eb7t trong 12 gi\u1edd. Thay \u0111\u1ed5i n\u1ebfu b\u1ea1n quay tr\u1edf l\u1ea1i s\u1edbm h\u01a1n."),r=m._("V\u1eafng m\u1eb7t");return (j.createElement('div',{className:"_4cdp"},j.createElement('div',{className:"_ast"},j.createElement(i,babelHelpers._extends({onToggle:(function(s){return this.$PagesManagerAwayToggle1(s);}).bind(this),value:this.props.isAway},k.propsFor(q)))),j.createElement('div',{className:"_asu"},r.toUpperCase())));};function p(){'use strict';n.apply(this,arguments);}f.exports=p;},null);
__d('PagesManagerMessagingListRow.react',['ContextualDialogArrow','ContextualLayerAutoFlip','Image.react','Layout.react','MercurySeenIndicator.react','MercuryThreadSnippet.react','MercuryThreadTimestamp.react','MercuryThreadTitle.react','PagesMessagingActionPlacement','PagesSelectableListRow.react','PagesManagerMessagingBatchActionMenu.react','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x=k.Column,y=k.FillColumn;v=babelHelpers.inherits(z,s.Component);w=v&&v.prototype;function z(aa){'use strict';w.constructor.call(this,aa);this.state={menuShown:false};}z.prototype.render=function(){'use strict';return (s.createElement(q,{onSelected:this.props.onSelected,selected:this.props.selected,className:"_1a_0"+(this.props.isUnread?' '+"_1a_1":'')+(this.props.isViewing?' '+"_3wxb":'')+(this.state.menuShown?' '+"_1hgw":'')},s.createElement('div',{className:"_5x5y"+(!this.props.isFlagged?' '+"hidden_elem":'')}),s.createElement('div',{className:"_o3f",onClick:(function(){return this.props.onViewingListItem(this.props.listItem);}).bind(this)},s.createElement(k,null,s.createElement(x,null,s.createElement(o,{className:"_1a_3",showUnreadCount:false,thread:this.props.thread,useShortName:false,viewer:this.props.pageID})),s.createElement(y,null),s.createElement(x,{className:"_55hu"+(this.props.isFlagged?' '+"_1hog":'')},s.createElement(n,{time:this.props.thread.timestamp,title:this.props.thread.timestamp_absolute,text:this.props.thread.timestamp_relative})))),s.createElement(k,{className:"_1a_6 _o3f",onClick:(function(event){return this.props.onViewingListItem(this.props.listItem);}).bind(this)},s.createElement(x,{className:"_1hgx"},s.createElement(l,{thread:this.props.thread,viewer:this.props.pageID})),s.createElement(y,{className:"_1a_7"},s.createElement(m,{participants:this.props.participants,shouldRenderYou:false,thread:this.props.thread,viewer:this.props.pageID})),s.createElement(x,null,s.createElement(r,{alignh:'right',layerBehaviors:[h,i],onHide:(function(){this.setState({menuShown:false});}).bind(this),onShow:(function(){this.setState({menuShown:true});}).bind(this),pageID:this.props.pageID,inlineActionParam:this.props.inlineActionParam,placement:p.THREAD_ROW_ACTION_ICON,selectedRows:[this.props.thread.thread_id],showBatchAction:true},s.createElement('span',{className:"_4hq1",onClick:function(event){return event.stopPropagation();}}))))));};f.exports=z;},null);
__d('PagesManagerMessagingListRowContainer.react',['immutable','PagesManagerMessagingListRow.react','MercuryPageThreadActions','MercuryParticipants','MercuryThreads','MessagingTag','PagesManagerMessagingNavigationUnitKey','PagesMessagingActionPlacement','PagesManagerMessagingFilterStore','PagesManagerMessagingMessagelistStore','PagesManagerStore','PagesMessengerThreadUtils','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v,w=h.Map;u=babelHelpers.inherits(x,t.Component);v=u&&u.prototype;function x(y){'use strict';v.constructor.call(this,y);this.$PagesManagerMessagingListRowContainer1=this.$PagesManagerMessagingListRowContainer1.bind(this);}x.prototype.componentWillMount=function(){'use strict';var y=l.getForFBID(this.props.pageID).getThreadMetaNow(this.props.listItem);this.setState({inlineActionParam:s.getBatchActionMenuParam(y),thread:y,participants:w(h.Seq(y.participants).map(function(z){return [z,k.getOrFetch(z)];}))});};x.prototype.render=function(){'use strict';var y=this.state.thread.unread_count&&this.state.thread.unread_count>0,z=this.state.thread.page_thread_info&&this.state.thread.page_thread_info.flagged,aa=this.props,ba=aa.onViewingListItem,ca=babelHelpers.objectWithoutProperties(aa,['onViewingListItem']);return (t.createElement(i,babelHelpers._extends({isFlagged:z,isUnread:y,onViewingListItem:this.$PagesManagerMessagingListRowContainer1,thread:this.state.thread},ca,this.state)));};x.prototype.updateThread=function(){'use strict';var y=l.getForFBID(this.props.pageID).getThreadMetaNow(this.props.listItem);this.setState({thread:y,inlineActionParam:s.getBatchActionMenuParam(y)});};x.prototype.$PagesManagerMessagingListRowContainer1=function(y){'use strict';var z=r.getViewingListItem();if(y!==z&&p.getActiveFilterName()===m.UNREAD){var aa=l.getForFBID(this.props.pageID).getThreadMetaNow(z),ba=q.getMessagelist(this.props.pageID,z),ca=j.getForFBID(this.props.pageID);if(aa.unread_count>0&&ba.length>0)ca.markRead(z,o.MESSAGE_DIALOG_SHOWN);}this.props.onViewingListItem(y);};f.exports=x;},null);
__d('PagesManagerMessagingThreadlistStore',['AbstractPagesManagerListStore','PagesManagerActionType','MercuryOrderedThreadlist','MercuryThreadlistConstants','PagesManagerDispatcher','PagesManagerMessagingFilterStore','PagesManagerMessagingThreadlistDispatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;o=babelHelpers.inherits(q,h);p=o&&o.prototype;function q(){'use strict';p.constructor.call(this,n);}q.prototype.$PagesManagerMessagingThreadlistStore1=function(r,s){'use strict';var t=j.getForFBID(r);return t.hasLoadedThreadlist(m.getActiveFolderName(),m.getActiveFilterName())||t.getThreadCount(m.getActiveFolderName(),m.getActiveFilterName())>=s;};q.prototype.$PagesManagerMessagingThreadlistStore2=function(r,s,t){'use strict';var u=j.getForFBID(r);u.getFilteredThreadlist(s,t+1,m.getActiveFolderName(),m.getActiveFilterName(),(function(v){var w=v.length>t;this.$PagesManagerMessagingThreadlistStore3(w);}).bind(this));};q.prototype.$PagesManagerMessagingThreadlistStore4=function(r){'use strict';var s=j.getForFBID(r);return s.getAvailableThreadlistNow(m.getActiveFolderName(),m.getActiveFilterName());};q.prototype.__handleListFetch=function(r){'use strict';var s=r.pageID,t=r.offset,u=r.limit;this.__isLoading=true;var v=this.$PagesManagerMessagingThreadlistStore1(s,t+u);if(v){this.$PagesManagerMessagingThreadlistStore3(false);}else this.$PagesManagerMessagingThreadlistStore2(s,t,u);this.__emitChange();};q.prototype.__handleNavigationUnitChange=function(r){'use strict';n.waitFor([m.getDispatchToken()]);this.__handleListFetch({pageID:r.pageID,offset:0,limit:k.WEBMESSENGER_THREAD_COUNT});};q.prototype.$PagesManagerMessagingThreadlistStore3=function(r){'use strict';this.__isLoading=false;this.__hasMoreItem.set(m.getNavigationKey(),r);if(!this.__dispatcher.isDispatching())this.__dispatcher.dispatch({type:i.LIST.FETCHED});};q.prototype.getItemList=function(r){'use strict';var s=this.$PagesManagerMessagingThreadlistStore4(r),t=m.getNavigationKey();return this.hasMoreItem(t)&&s.length>0?s.slice(0,s.length-1):s;};f.exports=new q(l);},null);
__d('PagesManagerMessagingListContainer.react',['PagesManagerMessagingBatchActionHeaderContainer.react','FluxContainer','PagesManagerListBatchActionContainer.react','MercuryThreadlistConstants','MessengerSpinner.react','PagesEventObserver','PagesEventType','PagesManagerAction','PagesManagerAwayContainer.react','PagesManagerAwayToggle.react','PagesManagerListView.react','PagesManagerMessagingFilterStore','PagesManagerMessagingListRowContainer.react','PagesManagerMessagingSearchStore','PagesManagerMessagingThreadlistAction','PagesManagerMessagingThreadlistStore','PagesManagerStore','React','SubscriptionsHandler','MercuryThreadInformer','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){if(c.__markCompiled)c.__markCompiled();var ca,da;ca=babelHelpers.inherits(ea,y.Component);da=ca&&ca.prototype;function ea(fa){'use strict';da.constructor.call(this,fa);this.$PagesManagerMessagingListContainer1=false;this.$PagesManagerMessagingListContainer2=(function(){this.refs.listView.clearSelection();}).bind(this);}ea.getStores=function(){'use strict';return [w,s,u];};ea.calculateState=function(fa,ga){'use strict';var ha=false,ia=false,ja=u.getIsInSearchMode(),ka=false,la=null;if(ja&&u.getCurrentSearchTerm().length>0){la=u.getCurrentSearchResults();ka=u.getIsSearching();}else{la=w.getItemList(ga.pageID,s.getActiveFilter());ha=w.hasMoreItem(s.getNavigationKey());if(!x.getViewingListItem()&&la.length>0){o.viewListItem(la[0]);}else if(x.getViewingListItem()&&la.length>0)if(la.findIndex(function(ma){return (ma===x.getViewingListItem());})<0)o.viewListItem(la[0]);ka=w.isLoading();if(la.length===0)ia=ka;}return {hasMoreItem:ha,initLoading:ia,isInSearchMode:ja,threadIDList:la,emptyView:y.createElement('div',{key:'emptyView'})};};ea.prototype.componentDidUpdate=function(){'use strict';if(this.$PagesManagerMessagingListContainer1&&!this.state.initLoading){this.$PagesManagerMessagingListContainer1=false;m.notify(n.MESSAGES_INBOX_LOAD_END,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});}};ea.prototype.componentDidMount=function(){'use strict';v.initThreadlist(this.props.pageID,s.getActiveFilter());m.notify(n.MESSAGES_THREADLIST_LOAD_START,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});this.$PagesManagerMessagingListContainer1=true;this.$PagesManagerMessagingListContainer3=aa.getForFBID(this.props.pageID);this.$PagesManagerMessagingListContainer4=new z();this.$PagesManagerMessagingListContainer4.addSubscriptions(this.$PagesManagerMessagingListContainer3.subscribe('threadlist-updated',(function(fa,ga){return this.$PagesManagerMessagingListContainer5();}).bind(this)),this.$PagesManagerMessagingListContainer3.subscribe('threads-updated',(function(fa,ga){return this.$PagesManagerMessagingListContainer6(Object.keys(ga));}).bind(this)));};ea.prototype.componentWillUnmount=function(){'use strict';this.$PagesManagerMessagingListContainer4&&this.$PagesManagerMessagingListContainer4.release();};ea.prototype.$PagesManagerMessagingListContainer7=function(fa){'use strict';return fa;};ea.prototype.$PagesManagerMessagingListContainer8=function(){'use strict';var fa=s.getNavigationKey();if(w.hasMoreItem(fa)&&!w.isLoading()&&!this.state.isInSearchMode)v.fetchThreadlist(this.props.pageID,this.state.threadIDList.length,k.WEBMESSENGER_MORE_COUNT);};ea.prototype.$PagesManagerMessagingListContainer5=function(){'use strict';v.updateThreadlist(this.props.pageID);};ea.prototype.$PagesManagerMessagingListContainer6=function(fa){'use strict';fa.forEach((function(ga){var ha=this.refs.listView.refs[ga];if(ha)ha.refs.childClass.updateThread();}).bind(this));};ea.prototype.$PagesManagerMessagingListContainer9=function(){'use strict';var fa=null;if(this.props.config.enableAwayToggle)fa=y.createElement(p,{pageID:this.props.pageID,RenderClass:q});return (y.createElement('div',null,y.createElement(j,{ChildClass:h,pageID:this.props.pageID,onSelectionClear:this.$PagesManagerMessagingListContainer2}),fa));};ea.prototype.render=function(){'use strict';return (y.createElement(r,babelHelpers._extends({},this.props,{actionBarRightContainer:this.$PagesManagerMessagingListContainer9(),emptyView:this.state.emptyView,navigationKey:s.getNavigationKey(),getKey:this.$PagesManagerMessagingListContainer7,hasMoreItem:this.state.hasMoreItem,isInSearchMode:this.state.isInSearchMode,list:this.state.threadIDList,listRowContainer:t,initLoading:this.state.initLoading,loadingMoreSpinner:y.createElement('div',{className:"_2k8v",key:'loadingMore'},y.createElement(l,null)),onScroll:this.$PagesManagerMessagingListContainer8.bind(this),onSelectionChange:this.props.onSelectionChange,ref:'listView'})));};f.exports=i.create(ea,{withProps:true});},null);
__d('PagesManagerMessagingSearchView.react',['AbstractTextInput.react','PagesManagerMessagingFilterStore','Image.react','React','PagesManagerMessagingThreadlistAction','XUICloseButton.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;'use strict';q=babelHelpers.inherits(s,k.Component);r=q&&q.prototype;function s(t,u){r.constructor.call(this,t,u);this.$PagesManagerMessagingSearchView1=(function(v){l.changeSearchTerm(this.props.pageID,v.target.value,i.getActiveFolderName());}).bind(this);this.$PagesManagerMessagingSearchView2=(function(){l.resetSearch(this.props.pageID);}).bind(this);this.$PagesManagerMessagingSearchView3=(function(v){if(v.key==='Escape')l.resetSearch(this.props.pageID);}).bind(this);}s.prototype.render=function(){var t=o._("T\u00ecm ki\u1ebfm Tin nh\u1eafn...");return (k.createElement('div',{className:"_3i2n"},k.createElement(j,{className:"_5pti",src:p('/images/browse/search/search-gray.png')}),k.createElement(h,{className:"_5ptj",onChange:this.$PagesManagerMessagingSearchView1,onKeyDown:this.$PagesManagerMessagingSearchView3,placeholder:t,value:this.props.initSearchTerm}),k.createElement(m,{className:"_3i2o",onClick:this.$PagesManagerMessagingSearchView2,size:'medium'})));};f.exports=s;},null);
__d('PagesManagerMessagingSearchContainer.react',['FluxContainer','PagesManagerMessagingSearchStore','PagesManagerMessagingSearchView.react','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,k.Component);m=l&&l.prototype;function n(o,p){m.constructor.call(this,o,p);}n.getStores=function(){return [i];};n.calculateState=function(o,p){return {currentSearchTerm:i.getCurrentSearchTerm(),isSearchActive:i.getIsInSearchMode()};};n.prototype.render=function(){return (k.createElement(j,{initSearchTerm:this.state.currentSearchTerm,isSearchActive:this.state.isSearchActive,pageID:this.props.pageID}));};f.exports=h.create(n,{withProps:true});},null);
__d('PagesManagerMessagingApp.react',['LeftRight.react','MercuryPagesChannelHandler','MercuryServerPayloadPreprocessor','PagesEventObserver','PagesEventType','PagesManagerAwayBanner.react','PagesManagerAwayContainer.react','PagesManagerDetailContainer.react','PagesManagerListContainer.react','PagesManagerListDetailLayout.react','PagesManagerMessagingDetailContainer.react','PagesManagerMessagingFilterContainer.react','PagesManagerMessagingListContainer.react','PagesManagerMessagingSearchContainer.react','PagesMessengerMessagePageButton.react','PagesManagerStaticStore','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z,aa;z=babelHelpers.inherits(ba,x.Component);aa=z&&z.prototype;function ba(ca,da){'use strict';aa.constructor.call(this,ca,da);w.setPageID(this.props.pageID);}ba.prototype.componentWillMount=function(){'use strict';i.getForFBID(this.props.pageID).turnOn();k.notify(l.MESSAGES_THREADLIST_LAYOUT_LOAD_START,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});};ba.prototype.componentDidMount=function(){'use strict';var ca=j.getForFBID(this.props.pageID);ca.handleUpdate(this.props.config.jewelInitData);};ba.prototype.componentWillUnmount=function(){'use strict';i.getForFBID(this.props.pageID).turnOff();};ba.prototype.$PagesManagerMessagingApp1=function(ca){'use strict';if(ca)return ca;return null;};ba.prototype.$PagesManagerMessagingApp2=function(){'use strict';if(this.props.config.enabledPageToPageMessaging)return (x.createElement(v,{flowID:this.props.flowID,pageID:this.props.pageID,pagesCommNewMessagesTab:true,size:'large'}));return null;};ba.prototype.$PagesManagerMessagingApp3=function(){'use strict';return (x.createElement('div',{className:"_n4_"},x.createElement(h,{className:"_n50"},x.createElement(s,{config:this.props.config,pageID:this.props.pageID}),x.createElement('span',null,x.createElement(u,{pageID:this.props.pageID}),this.$PagesManagerMessagingApp2())),this.$PagesManagerMessagingApp4()));};ba.prototype.$PagesManagerMessagingApp5=function(){'use strict';return (x.createElement('div',{className:"_14vf"},x.createElement(p,{config:this.props.config,ChildContainerClass:t,flowID:this.props.flowID,pageID:this.props.pageID})));};ba.prototype.$PagesManagerMessagingApp6=function(){'use strict';return (x.createElement('div',null,x.createElement(o,{config:this.props.config,pageID:this.props.pageID,ChildContainerClass:r,getListItemKey:this.$PagesManagerMessagingApp1})));};ba.prototype.$PagesManagerMessagingApp4=function(){'use strict';if(!this.props.config.enableAwayToggle)return null;return (x.createElement('div',null,x.createElement(n,{pageID:this.props.pageID,RenderClass:m})));};ba.prototype.render=function(){'use strict';return (x.createElement(q,{detailSection:this.$PagesManagerMessagingApp6(),listClassName:"_1-9p",listSection:this.$PagesManagerMessagingApp5(),navigationSection:this.$PagesManagerMessagingApp3()}));};f.exports=ba;},null);